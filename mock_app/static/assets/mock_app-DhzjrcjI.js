import{c as xt,j as $,X as Si,a as qE,r as k,G as FE,e as hl,C as nx,g as an,f as UE,h as bh,i as VE,R as BE,S as KE,b as Nm,D as WE,W as Pr,d as HE}from"./index-BVI9ygOn.js";const ZE=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],GE=xt("calendar",ZE);const YE=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],JE=xt("check",YE);const XE=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],QE=xt("circle-check-big",XE);const eO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ax=xt("circle-x",eO);const tO=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],rO=xt("external-link",tO);const nO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],aO=xt("globe",nO);const iO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],oO=xt("info",iO);const sO=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],cO=xt("message-square",sO);const lO=[["path",{d:"M5 12h14",key:"1ays0h"}]],ix=xt("minus",lO);const uO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],dO=xt("plus",uO);const fO=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],hO=xt("search",fO);const pO=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ox=xt("settings",pO);const mO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],vO=xt("trash-2",mO);const yO=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],gO=xt("trending-down",yO);const bO=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],wO=xt("trending-up",bO);const _O=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],sx=xt("triangle-alert",_O);const xO=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],gu=xt("zap",xO),SO=({availableWidgets:e,visibleWidgets:t,onToggleWidget:r,onClose:n})=>{const a=()=>{e.forEach(o=>{t.has(o.id)||r(o.id)})},i=()=>{e.forEach(o=>{t.has(o.id)&&r(o.id)})};return $.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:$.jsxs("div",{className:"glass-panel rounded-lg w-full max-w-md mx-4 max-h-[80vh] flex flex-col",children:[$.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-[var(--border-primary)]",children:[$.jsx("h2",{className:"text-lg font-bold text-[var(--text-primary)]",children:"Widget Settings"}),$.jsx("button",{onClick:n,className:"text-[var(--text-secondary)] hover:text-[var(--text-accent)] transition-colors",title:"Close",children:$.jsx(Si,{size:20})})]}),$.jsxs("div",{className:"flex-grow overflow-y-auto p-4",children:[$.jsx("p",{className:"text-sm text-[var(--text-secondary)] mb-4",children:"Select which widgets to display on your dashboard"}),$.jsxs("div",{className:"flex gap-2 mb-4",children:[$.jsx("button",{onClick:a,className:"px-3 py-1.5 text-xs rounded bg-[var(--bg-tertiary)] text-[var(--text-primary)] hover:bg-[var(--bg-primary)] border border-[var(--border-primary)] transition-colors",children:"Select All"}),$.jsx("button",{onClick:i,className:"px-3 py-1.5 text-xs rounded bg-[var(--bg-tertiary)] text-[var(--text-primary)] hover:bg-[var(--bg-primary)] border border-[var(--border-primary)] transition-colors",children:"Deselect All"})]}),$.jsx("div",{className:"space-y-2",children:e.map(o=>$.jsxs("label",{className:"flex items-center gap-3 p-3 rounded bg-[var(--bg-tertiary)] hover:bg-[var(--bg-primary)] border border-[var(--border-primary)] cursor-pointer transition-colors",children:[$.jsx("input",{type:"checkbox",checked:t.has(o.id),onChange:()=>r(o.id),className:"w-4 h-4 rounded border-[var(--border-primary)] text-[var(--accent-color)] focus:ring-2 focus:ring-[var(--accent-color)]"}),$.jsx("span",{className:"text-sm font-medium text-[var(--text-primary)]",children:o.name})]},o.id))})]}),$.jsxs("div",{className:"p-4 border-t border-[var(--border-primary)] text-xs text-[var(--text-secondary)]",children:[t.size," of ",e.length," widgets visible"]})]})})},PO=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",It=PO?"http://localhost:5500":window.location.origin;function $O(e,t){let r;try{r=e()}catch{return}return{getItem:a=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),s=(i=r.getItem(a))!=null?i:null;return s instanceof Promise?s.then(o):o(s)},setItem:(a,i)=>r.setItem(a,JSON.stringify(i,void 0)),removeItem:a=>r.removeItem(a)}}const bf=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return bf(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return bf(n)(r)}}}},kO=(e,t)=>(r,n,a)=>{let i={storage:$O(()=>window.localStorage),partialize:f=>f,version:0,merge:(f,b)=>({...b,...f}),...t},o=!1,s=0;const c=new Set,l=new Set;let u=i.storage;if(!u)return e((...f)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...f)},n,a);const d=()=>{const f=i.partialize({...n()});return u.setItem(i.name,{state:f,version:i.version})},h=a.setState;a.setState=(f,b)=>(h(f,b),d());const p=e((...f)=>(r(...f),d()),n,a);a.getInitialState=()=>p;let v;const w=()=>{var f,b;if(!u)return;const m=++s;o=!1,c.forEach(x=>{var g;return x((g=n())!=null?g:p)});const y=((b=i.onRehydrateStorage)==null?void 0:b.call(i,(f=n())!=null?f:p))||void 0;return bf(u.getItem.bind(u))(i.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==i.version){if(i.migrate){const g=i.migrate(x.state,x.version);return g instanceof Promise?g.then(_=>[!0,_]):[!0,g]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var g;if(m!==s)return;const[_,S]=x;if(v=i.merge(S,(g=n())!=null?g:p),r(v,!0),_)return d()}).then(()=>{m===s&&(y?.(v,void 0),v=n(),o=!0,l.forEach(x=>x(v)))}).catch(x=>{m===s&&y?.(void 0,x)})};return a.persist={setOptions:f=>{i={...i,...f},f.storage&&(u=f.storage)},clearStorage:()=>{u?.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:f=>(c.add(f),()=>{c.delete(f)}),onFinishHydration:f=>(l.add(f),()=>{l.delete(f)})},i.skipHydration||w(),v||p},EO=kO,Ca=e=>e.includes("/")?4:e.startsWith("US")?3:2,OO=()=>{const e=new Date;return e.setDate(e.getDate()+2),e.toISOString().split("T")[0]},Tm={AAPL:{symbol:"AAPL",name:"Apple Inc.",last:189.45,bid:189.41,ask:189.49,chg:1.24,type:"EQUITY"},MSFT:{symbol:"MSFT",name:"Microsoft Corp.",last:420.55,bid:420.5,ask:420.6,chg:.85,type:"EQUITY"},NVDA:{symbol:"NVDA",name:"Nvidia Corp.",last:950.02,bid:949.9,ask:950.14,chg:-.32,type:"EQUITY"},TSLA:{symbol:"TSLA",name:"Tesla Inc.",last:175.3,bid:175.25,ask:175.35,chg:-1.5,type:"EQUITY"},"EUR/USD":{symbol:"EUR/USD",name:"Euro / US Dollar",last:1.085,bid:1.0849,ask:1.0851,chg:.18,type:"FX"},"GBP/USD":{symbol:"GBP/USD",name:"British Pound",last:1.264,bid:1.2639,ask:1.2641,chg:.22,type:"FX"},"USD/JPY":{symbol:"USD/JPY",name:"US Dollar / Japanese Yen",last:154.5,bid:154.48,ask:154.52,chg:.15,type:"FX"}},jO={AAPL:187.13,MSFT:417,NVDA:953.07,TSLA:177.97,"EUR/USD":1.083,"GBP/USD":1.2612,"USD/JPY":154.27},NO={};let TO=1001;const Dt=qE()(EO((e,t)=>({instruments:Tm,positions:NO,orders:[],trades:[],selectedSymbol:"AAPL",fdc3Logs:[],toasts:[],ibkrSymbols:new Set,mcpTrades:[],aiConfig:{provider:"local",url:"https://myllm.kumatech.net",key:"",model:"gemini-1.5-flash",temp:.7,prompt:`You are a senior trading desk AI assistant integrated into a live brokerage platform connected to Interactive Brokers (IBKR).

YOUR CAPABILITIES:
- Query real-time positions, orders, and account data via IBKR tools
- Place, modify, and cancel orders (with user confirmation)
- Analyze market activity, P&L, risk exposure, and portfolio composition
- Interpret the FDC3 activity log showing recent user actions (symbol selections, order submissions, trades)

CONTEXT YOU RECEIVE:
- FDC3 logs: A chronological feed of user interactions — instrument selections, order events, and periodic portfolio.summary snapshots (symbol, qty, avgCost). These reflect UI activity, not necessarily current holdings.
- When IBKR tools are available, ALWAYS call them for live data. Never guess positions, orders, or balances.

RESPONSE STYLE:
- Be concise, data-driven, and professional. Lead with the answer, then provide context.
- Use tables or bullet points for multi-row data (positions, orders).
- Include relevant numbers (P&L, quantities, prices) — avoid vague summaries.
- When suggesting trades, state the rationale and risk clearly.
- If data is unavailable or a tool call fails, say so explicitly rather than fabricating data.`,start:"",end:""},theme:"dark",connectionStatus:{marketData:!1,gateway:!1},mcpMode:!1,toggleTheme:()=>e(r=>({theme:r.theme==="dark"?"light":"dark"})),toggleMcpMode:()=>e(r=>({mcpMode:!r.mcpMode})),addLog:r=>e(n=>({fdc3Logs:[{...r,timestamp:Date.now()},...n.fdc3Logs].slice(0,50)})),addToast:(r,n)=>{const a=Math.random().toString(36).substring(7);e(i=>({toasts:[...i.toasts,{id:a,message:r,type:n,timestamp:Date.now()}]})),setTimeout(()=>t().removeToast(a),5e3)},removeToast:r=>e(n=>({toasts:n.toasts.filter(a=>a.id!==r)})),updateAiConfig:r=>e(n=>({aiConfig:{...n.aiConfig,...r}})),clearLogs:()=>e({fdc3Logs:[]}),selectSymbol:r=>{e({selectedSymbol:r});const n={type:"fdc3.instrument",id:{ticker:r},name:Tm[r]?.name||r};t().addLog({origin:"APP",type:"fdc3.instrument",data:n}),window.fdc3&&window.fdc3.broadcast(n)},submitOrder:async r=>{const{side:n,symbol:a,qty:i,type:o,price:s}=r;if(console.log("[App] Submitting Order:",r),o==="LIMIT"&&(!s||isNaN(s))){t().addToast(`❌ Invalid Price: ${s}`,"error");return}if(!i||isNaN(i)||i<=0){t().addToast(`❌ Invalid Quantity: ${i}`,"error");return}const c=`ORD-${TO++}`,l=new Date().toLocaleTimeString(),u={...r,id:c,time:l,status:"NEW",avgPx:0,cumQty:0,settleDate:OO()};e(d=>({orders:[u,...d.orders]}));try{t().addToast("Submitting IBKR Order...","info");const d=await fetch(`${It}/mcp/place_order`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symbol:a,side:n,quantity:i,type:o,price:s||0,auxPrice:r.auxPrice,trailingAmt:r.trailingAmt,trailingType:r.trailingType,allOrNone:r.allOrNone,outsideRTH:r.outsideRTH})}),h=await d.json();if(console.log("[App] Backend Response:",h),d.ok&&!h.error)t().addToast(`✅ IBKR Order Placed: ${h.order_id||"Submitted"}`,"success"),t().addLog({origin:"APP",type:"order.submitted",data:{orderId:h.order_id,symbol:a,side:n,qty:i,type:o,price:o==="LIMIT"?s:"MKT"}}),await t().broadcastSnapshot();else throw new Error(h.error||"Unknown error")}catch(d){console.error("IBKR Order Placement Failed",d),t().addToast(`❌ Order Failed: ${d instanceof Error?d.message:String(d)}`,"error"),e(h=>({orders:h.orders.map(p=>p.id===c?{...p,status:"CANCELLED"}:p)}))}},cancelOrder:async r=>{try{t().addToast(`Cancelling Order ${r}...`,"info");const n=await fetch(`${It}/mcp/cancel_order`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({order_id:r})}),a=await n.json();if(n.ok&&!a.error)t().addToast(`✅ Order Cancellation Submitted: ${r}`,"success");else throw new Error(a.error||"Unknown error")}catch(n){console.error("Cancel Failed",n),t().addToast(`❌ Cancel Failed: ${n}`,"error")}},modifyOrder:async(r,n)=>{try{t().addToast(`Modifying Order ${r}...`,"info");const a=await fetch(`${It}/mcp/modify_order`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({order_id:r,...n})}),i=await a.json();if(a.ok&&!i.error)t().addToast(`✅ Order Modification Submitted: ${r}`,"success");else throw new Error(i.error||"Unknown error")}catch(a){console.error("Modify Failed",a),t().addToast(`❌ Modify Failed: ${a}`,"error")}},simulateMarketData:()=>{e(r=>{const n={...r.instruments};let a=!1;return Object.keys(n).forEach(i=>{if(!r.ibkrSymbols.has(i)&&Math.random()>.4){const o={...n[i]},s=o.type==="FX"?2e-4:5e-4,c=o.type==="FX"?1e-4:5e-4,l=(Math.random()-.5)*(o.last*s);o.last+=l;const u=o.last*c;o.bid=o.last-u*Math.random(),o.ask=o.last+u*Math.random(),n[i]=o,a=!0}}),a?{instruments:n}:{}})},broadcastSnapshot:async()=>{const{instruments:r,selectedSymbol:n}=t(),a=!!window.fdc3;console.log("FDC3 Snapshot: Fetching remote state...");let i=[],o=[];try{const[l,u]=await Promise.all([fetch(`${It}/mcp/positions`),fetch(`${It}/mcp/orders`)]);if(l.ok){const d=await l.json();i=Array.isArray(d)?d:d.positions||[]}if(u.ok){const d=await u.json();o=Array.isArray(d)?d:d.orders||[]}}catch(l){console.error("FDC3 Snapshot: Failed to fetch state",l)}const s={type:"fdc3.instrumentList",name:"Main Watchlist",instruments:Object.keys(r).map(l=>({type:"fdc3.instrument",id:{ticker:l}}))};a&&window.fdc3.broadcast(s);const c={type:"fdc3.portfolio",name:"Combined IBKR & Simulated Portfolio",positions:i.map(l=>({type:"fdc3.position",instrument:{type:"fdc3.instrument",id:{ticker:l.contractDesc||l.symbol||"UNK"}},holding:l.position||0,avgCost:l.avgCost||0,isSimulated:l.isSimulated||!1}))};if(a&&window.fdc3.broadcast(c),o.length>0){const l={type:"fdc3.collection",name:"Recent Orders",members:o.slice(0,15).map(u=>({type:"fdc3.order",id:{orderId:u.orderId||u.id},details:{symbol:u.symbol||u.ticker||"UNK",side:u.side,qty:u.totalSize||u.totalQuantity||u.qty,status:u.status||u.order_ccp_status,isSimulated:u.isSimulated||!1}}))};a&&window.fdc3.broadcast(l)}if(i.length>0||o.length>0){const l={type:"portfolio.summary"};i.length>0&&(l.positions=i.map(u=>({sym:u.contractDesc||u.symbol||"UNK",qty:u.position||0,avg:u.avgCost?Math.round(u.avgCost*100)/100:0}))),o.length>0&&(l.orders=o.slice(0,10).map(u=>({id:u.orderId||u.id,sym:u.symbol||u.ticker||"UNK",side:u.side,qty:u.totalSize||u.totalQuantity||u.qty,st:u.status||u.order_ccp_status}))),t().addLog({origin:"APP",type:"portfolio.summary",data:l})}if(n){const l={type:"fdc3.instrument",id:{ticker:n},name:n};a&&window.fdc3.broadcast(l)}},selectTrade:r=>{const n={type:"fdc3.trade",id:{execId:r.execId},instrument:{type:"fdc3.instrument",id:{ticker:r.symbol}},side:r.side,quantity:r.qty,price:r.price,orderId:r.orderId,counterparty:r.cpty,time:r.time};t().addLog({origin:"APP",type:"fdc3.trade",data:n}),window.fdc3&&window.fdc3.broadcast(n)},selectContact:r=>{const n={type:"fdc3.contact",name:r,id:{email:`${r.toLowerCase().replace(" ",".")}@interop.trader`,salesforceId:`SF-${Math.floor(Math.random()*1e4)}`}};t().addLog({origin:"APP",type:"fdc3.contact",data:n}),window.fdc3&&(window.fdc3.broadcast(n),window.fdc3.raiseIntent&&console.log("Mocking 'StartChat' intent raise..."))},flattenPosition:async r=>{try{const a=await(await fetch(`${It}/mcp/positions`)).json();let i=[];Array.isArray(a)?i=a:a&&Array.isArray(a.positions)&&(i=a.positions);const o=i.find(h=>(h.contractDesc||h.symbol)===r);if(!o){t().addToast(`No position found for ${r}`,"error");return}const s=o.position||o.qty||0;if(s===0){t().addToast(`No open position for ${r}`,"info");return}const c=s>0?"SELL":"BUY",l=Math.abs(s),{instruments:u}=t(),d=u[r]?.last||o.avgCost||0;t().addToast(`Closing ${r}: ${c} ${l} @ MKT`,"warning"),t().submitOrder({symbol:r,side:c,qty:l,type:"MARKET",price:d,expiry:"DAY"})}catch(n){console.error("Failed to flatten position:",n),t().addToast(`Failed to close ${r}: ${n}`,"error")}},updateInstrumentFromIBKR:(r,n)=>{e(a=>{const i=a.instruments[r];if(!i||i.type==="RATES")return{};const o={...i};if(o.last=n.last,n.bid!==null&&(o.bid=n.bid),n.ask!==null&&(o.ask=n.ask),n.chg!==void 0&&n.chg!==null)o.chg=n.chg;else{const c=jO[r];c&&(o.chg=parseFloat(((n.last-c)/c*100).toFixed(2)))}const s=new Set(a.ibkrSymbols);return s.add(r),{instruments:{...a.instruments,[r]:o},ibkrSymbols:s}})},addMcpTrade:r=>{const n=`MCP-${Date.now()}-${Math.random().toString(36).substring(7)}`;e(a=>({mcpTrades:[{...r,id:n,timestamp:Date.now()},...a.mcpTrades].slice(0,100)}))},updateMcpTrade:(r,n)=>{e(a=>({mcpTrades:a.mcpTrades.map(i=>i.id===r?{...i,...n}:i)}))},fetchStatus:async()=>{try{const r=await fetch(`${It}/all_status`);if(r.ok){const n=await r.json();e({connectionStatus:{marketData:n.marketData.connected,gateway:n.gateway.available}})}}catch(r){console.error("Failed to fetch connection status",r),e({connectionStatus:{marketData:!1,gateway:!1}})}},addInstrument:async(r,n="STK")=>{if(t().instruments[r])return;const a={symbol:r,name:r,type:n==="CASH"?"FX":"EQUITY",last:0,bid:0,ask:0,chg:0};e(i=>({instruments:{...i.instruments,[r]:a}}));try{await fetch(`${It}/mcp/subscribe`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symbol:r})}),console.log(`Subscribed to market data for ${r}`)}catch(i){console.error(`Failed to subscribe to ${r}:`,i)}},removeInstrument:r=>{e(n=>{const{[r]:a,...i}=n.instruments;return{instruments:i,selectedSymbol:n.selectedSymbol===r?"":n.selectedSymbol}})},reorderInstruments:r=>{e(n=>{const a={};return r.forEach(i=>{n.instruments[i]&&(a[i]=n.instruments[i])}),{instruments:a}})}}),{name:"simulation-store",partialize:e=>({aiConfig:e.aiConfig,theme:e.theme})}));setInterval(()=>{Dt.getState().simulateMarketData()},2e3);const CO=()=>{const{instruments:e,selectSymbol:t,selectedSymbol:r,addInstrument:n,removeInstrument:a,reorderInstruments:i}=Dt(),[o,s]=k.useState(null),[c,l]=k.useState(!1),[u,d]=k.useState(""),[h,p]=k.useState([]),[v,w]=k.useState(!1),[f,b]=k.useState(null),m=Object.keys(e),y=o?Object.values(e).sort((C,U)=>{const{key:B,direction:Q}=o;return C[B]<U[B]?Q==="asc"?-1:1:C[B]>U[B]?Q==="asc"?1:-1:0}):m.map(C=>e[C]),x=C=>{let U="asc";o&&o.key===C&&o.direction==="asc"&&(U="desc"),s({key:C,direction:U})},g=async C=>{if(!C||C.length<2){p([]);return}w(!0);try{const B=await(await fetch(`${It}/mcp/search?symbol=${encodeURIComponent(C)}`)).json();if(Array.isArray(B)){const Q=B.map(W=>({symbol:W.symbol||W.ticker||C.toUpperCase(),name:W.companyName||W.name||W.description||"",conid:W.conid||"",assetClass:W.assetClass||W.secType||"STK"})),ae=new Set,te=Q.filter(W=>{const ue=W.symbol+W.assetClass;return ae.has(ue)?!1:(ae.add(ue),!0)});p(te.slice(0,10))}else p([])}catch(U){console.error("Failed to search IBKR contracts:",U),p([{symbol:C.toUpperCase(),name:"Add as Stock",conid:"",assetClass:"STK"}])}finally{w(!1)}},_=C=>{d(C);const U=setTimeout(()=>g(C),300);return()=>clearTimeout(U)},S=async C=>{await n(C.symbol,C.assetClass),d(""),p([]),l(!1)},E=(C,U)=>{U.stopPropagation(),a(C)},I=C=>{b(C)},L=(C,U)=>{if(C.preventDefault(),f===null||f===U)return;const B=[...m],Q=B[f];B.splice(f,1),B.splice(U,0,Q),i(B),b(U)},R=()=>{b(null)};return $.jsxs("div",{className:"h-full flex flex-col",children:[$.jsx("div",{className:"p-2 border-b border-[var(--border-primary)] flex items-center gap-2",children:c?$.jsxs("div",{className:"flex-1 relative",children:[$.jsxs("div",{className:"flex items-center gap-2",children:[$.jsxs("div",{className:"flex-1 relative",children:[$.jsx(hO,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 text-[var(--text-tertiary)]"}),$.jsx("input",{type:"text",value:u,onChange:C=>_(C.target.value),placeholder:"Search IBKR contracts...",className:"w-full pl-7 pr-2 py-1 text-xs bg-[var(--bg-secondary)] text-[var(--text-primary)] border border-[var(--border-primary)] rounded focus:outline-none focus:border-[var(--accent-color)]",autoFocus:!0})]}),$.jsx("button",{onClick:()=>{l(!1),d(""),p([])},className:"p-1 hover:bg-[var(--bg-tertiary)] rounded",children:$.jsx(Si,{className:"w-3 h-3 text-[var(--text-secondary)]"})})]}),h.length>0&&$.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-[var(--bg-primary)] border border-[var(--border-primary)] rounded shadow-lg z-50 max-h-60 overflow-auto",children:h.map((C,U)=>$.jsx("div",{onClick:()=>S(C),className:"p-2 hover:bg-[var(--bg-tertiary)] cursor-pointer border-b border-[var(--border-primary)] last:border-b-0",children:$.jsxs("div",{className:"flex items-center justify-between",children:[$.jsxs("div",{className:"flex-1",children:[$.jsx("div",{className:"text-xs font-bold text-[var(--text-primary)]",children:C.symbol}),$.jsx("div",{className:"text-[10px] text-[var(--text-tertiary)] truncate",children:C.name})]}),$.jsx("div",{className:"text-[9px] text-[var(--text-secondary)] bg-[var(--bg-secondary)] px-1.5 py-0.5 rounded",children:C.assetClass})]})},U))}),v&&$.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 p-2 bg-[var(--bg-primary)] border border-[var(--border-primary)] rounded text-xs text-[var(--text-secondary)] text-center",children:"Searching..."})]}):$.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-1 px-2 py-1 text-xs bg-[var(--accent-color)] text-white rounded hover:opacity-90 transition-opacity",children:[$.jsx(dO,{className:"w-3 h-3"}),"Add Instrument"]})}),$.jsx("div",{className:"flex-1 overflow-auto custom-scrollbar",children:$.jsxs("table",{className:"w-full text-left border-collapse text-xs",children:[$.jsx("thead",{children:$.jsxs("tr",{className:"bg-[var(--bg-tertiary)] text-[var(--text-secondary)] font-medium sticky top-0 border-b border-[var(--border-primary)] select-none",children:[$.jsx("th",{className:"p-2 py-1.5 pl-3 w-8"}),$.jsxs("th",{className:"p-2 py-1.5 cursor-pointer hover:text-[var(--text-primary)] transition-colors",onClick:()=>x("symbol"),children:["SYMBOL ",o?.key==="symbol"&&(o.direction==="asc"?"↑":"↓")]}),$.jsxs("th",{className:"p-2 py-1.5 text-right cursor-pointer hover:text-[var(--text-primary)] transition-colors",onClick:()=>x("last"),children:["LAST ",o?.key==="last"&&(o.direction==="asc"?"↑":"↓")]}),$.jsxs("th",{className:"p-2 py-1.5 text-right cursor-pointer hover:text-[var(--text-primary)] transition-colors",onClick:()=>x("chg"),children:["CHG ",o?.key==="chg"&&(o.direction==="asc"?"↑":"↓")]}),$.jsx("th",{className:"p-2 py-1.5 pr-3 w-8"})]})}),$.jsx("tbody",{children:y.map((C,U)=>$.jsxs("tr",{draggable:!o,onDragStart:()=>I(U),onDragOver:B=>L(B,U),onDragEnd:R,onClick:()=>t(C.symbol),className:`cursor-pointer hover:bg-[var(--bg-tertiary)] border-b border-[var(--border-primary)]/50 transition-colors group ${r===C.symbol?"bg-[var(--accent-color)]/10 border-l-2 border-l-[var(--accent-color)]":"border-l-2 border-l-transparent"} ${f===U?"opacity-50":""}`,children:[$.jsx("td",{className:"p-2 py-2 pl-3",children:!o&&$.jsx(FE,{className:"w-3 h-3 text-[var(--text-tertiary)] opacity-0 group-hover:opacity-100 transition-opacity cursor-grab"})}),$.jsx("td",{className:"p-2 py-2 font-bold text-[var(--text-primary)]",children:C.symbol}),$.jsx("td",{className:"p-2 py-2 text-right text-[var(--text-secondary)] font-mono tracking-wide",children:C.last.toFixed(Ca(C.symbol))}),$.jsxs("td",{className:`p-2 py-2 text-right font-mono ${C.chg>=0?"text-[var(--success-color)]":"text-[var(--danger-color)]"}`,children:[C.chg>=0?"+":"",C.chg,"%"]}),$.jsx("td",{className:"p-2 py-2 pr-3",children:$.jsx("button",{onClick:B=>E(C.symbol,B),className:"opacity-0 group-hover:opacity-100 transition-opacity p-0.5 hover:bg-red-500/20 rounded",title:"Remove",children:$.jsx(Si,{className:"w-3 h-3 text-red-500"})})})]},C.symbol))})]})})]})};function cx(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=cx(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function De(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=cx(e))&&(n&&(n+=" "),n+=t);return n}const AO=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},IO=(e,t)=>({classGroupId:e,validator:t}),lx=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),hc="-",Cm=[],RO="arbitrary..",MO=e=>{const t=zO(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return DO(o);const s=o.split(hc),c=s[0]===""&&s.length>1?1:0;return ux(s,c,t)},getConflictingClassGroupIds:(o,s)=>{if(s){const c=n[o],l=r[o];return c?l?AO(l,c):c:l||Cm}return r[o]||Cm}}},ux=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const a=e[t],i=r.nextPart.get(a);if(i){const l=ux(e,t+1,i);if(l)return l}const o=r.validators;if(o===null)return;const s=t===0?e.join(hc):e.slice(t).join(hc),c=o.length;for(let l=0;l<c;l++){const u=o[l];if(u.validator(s))return u.classGroupId}},DO=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?RO+n:void 0})(),zO=e=>{const{theme:t,classGroups:r}=e;return LO(r,t)},LO=(e,t)=>{const r=lx();for(const n in e){const a=e[n];wh(a,r,n,t)}return r},wh=(e,t,r,n)=>{const a=e.length;for(let i=0;i<a;i++){const o=e[i];qO(o,t,r,n)}},qO=(e,t,r,n)=>{if(typeof e=="string"){FO(e,t,r);return}if(typeof e=="function"){UO(e,t,r,n);return}VO(e,t,r,n)},FO=(e,t,r)=>{const n=e===""?t:dx(t,e);n.classGroupId=r},UO=(e,t,r,n)=>{if(BO(e)){wh(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(IO(r,e))},VO=(e,t,r,n)=>{const a=Object.entries(e),i=a.length;for(let o=0;o<i;o++){const[s,c]=a[o];wh(c,dx(t,s),r,n)}},dx=(e,t)=>{let r=e;const n=t.split(hc),a=n.length;for(let i=0;i<a;i++){const o=n[i];let s=r.nextPart.get(o);s||(s=lx(),r.nextPart.set(o,s)),r=s}return r},BO=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,KO=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const a=(i,o)=>{r[i]=o,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(i){let o=r[i];if(o!==void 0)return o;if((o=n[i])!==void 0)return a(i,o),o},set(i,o){i in r?r[i]=o:a(i,o)}}},wf="!",Am=":",WO=[],Im=(e,t,r,n,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:a}),HO=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const i=[];let o=0,s=0,c=0,l;const u=a.length;for(let w=0;w<u;w++){const f=a[w];if(o===0&&s===0){if(f===Am){i.push(a.slice(c,w)),c=w+1;continue}if(f==="/"){l=w;continue}}f==="["?o++:f==="]"?o--:f==="("?s++:f===")"&&s--}const d=i.length===0?a:a.slice(c);let h=d,p=!1;d.endsWith(wf)?(h=d.slice(0,-1),p=!0):d.startsWith(wf)&&(h=d.slice(1),p=!0);const v=l&&l>c?l-c:void 0;return Im(i,p,h,v)};if(t){const a=t+Am,i=n;n=o=>o.startsWith(a)?i(o.slice(a.length)):Im(WO,!1,o,void 0,!0)}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},ZO=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let a=[];for(let i=0;i<r.length;i++){const o=r[i],s=o[0]==="[",c=t.has(o);s||c?(a.length>0&&(a.sort(),n.push(...a),a=[]),n.push(o)):a.push(o)}return a.length>0&&(a.sort(),n.push(...a)),n}},GO=e=>({cache:KO(e.cacheSize),parseClassName:HO(e),sortModifiers:ZO(e),...MO(e)}),YO=/\s+/,JO=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=t,o=[],s=e.trim().split(YO);let c="";for(let l=s.length-1;l>=0;l-=1){const u=s[l],{isExternal:d,modifiers:h,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:w}=r(u);if(d){c=u+(c.length>0?" "+c:c);continue}let f=!!w,b=n(f?v.substring(0,w):v);if(!b){if(!f){c=u+(c.length>0?" "+c:c);continue}if(b=n(v),!b){c=u+(c.length>0?" "+c:c);continue}f=!1}const m=h.length===0?"":h.length===1?h[0]:i(h).join(":"),y=p?m+wf:m,x=y+b;if(o.indexOf(x)>-1)continue;o.push(x);const g=a(b,f);for(let _=0;_<g.length;++_){const S=g[_];o.push(y+S)}c=u+(c.length>0?" "+c:c)}return c},XO=(...e)=>{let t=0,r,n,a="";for(;t<e.length;)(r=e[t++])&&(n=fx(r))&&(a&&(a+=" "),a+=n);return a},fx=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=fx(e[n]))&&(r&&(r+=" "),r+=t);return r},QO=(e,...t)=>{let r,n,a,i;const o=c=>{const l=t.reduce((u,d)=>d(u),e());return r=GO(l),n=r.cache.get,a=r.cache.set,i=s,s(c)},s=c=>{const l=n(c);if(l)return l;const u=JO(c,r);return a(c,u),u};return i=o,(...c)=>i(XO(...c))},ej=[],rt=e=>{const t=r=>r[e]||ej;return t.isThemeGetter=!0,t},hx=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,px=/^\((?:(\w[\w-]*):)?(.+)\)$/i,tj=/^\d+\/\d+$/,rj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,aj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,ij=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fa=e=>tj.test(e),ge=e=>!!e&&!Number.isNaN(Number(e)),mn=e=>!!e&&Number.isInteger(Number(e)),bu=e=>e.endsWith("%")&&ge(e.slice(0,-1)),Lr=e=>rj.test(e),sj=()=>!0,cj=e=>nj.test(e)&&!aj.test(e),mx=()=>!1,lj=e=>ij.test(e),uj=e=>oj.test(e),dj=e=>!ie(e)&&!oe(e),fj=e=>Fa(e,gx,mx),ie=e=>hx.test(e),Rn=e=>Fa(e,bx,cj),wu=e=>Fa(e,yj,ge),Rm=e=>Fa(e,vx,mx),hj=e=>Fa(e,yx,uj),ho=e=>Fa(e,wx,lj),oe=e=>px.test(e),ni=e=>Ua(e,bx),pj=e=>Ua(e,gj),Mm=e=>Ua(e,vx),mj=e=>Ua(e,gx),vj=e=>Ua(e,yx),po=e=>Ua(e,wx,!0),Fa=(e,t,r)=>{const n=hx.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},Ua=(e,t,r=!1)=>{const n=px.exec(e);return n?n[1]?t(n[1]):r:!1},vx=e=>e==="position"||e==="percentage",yx=e=>e==="image"||e==="url",gx=e=>e==="length"||e==="size"||e==="bg-size",bx=e=>e==="length",yj=e=>e==="number",gj=e=>e==="family-name",wx=e=>e==="shadow",bj=()=>{const e=rt("color"),t=rt("font"),r=rt("text"),n=rt("font-weight"),a=rt("tracking"),i=rt("leading"),o=rt("breakpoint"),s=rt("container"),c=rt("spacing"),l=rt("radius"),u=rt("shadow"),d=rt("inset-shadow"),h=rt("text-shadow"),p=rt("drop-shadow"),v=rt("blur"),w=rt("perspective"),f=rt("aspect"),b=rt("ease"),m=rt("animate"),y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],x=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],g=()=>[...x(),oe,ie],_=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],E=()=>[oe,ie,c],I=()=>[fa,"full","auto",...E()],L=()=>[mn,"none","subgrid",oe,ie],R=()=>["auto",{span:["full",mn,oe,ie]},mn,oe,ie],C=()=>[mn,"auto",oe,ie],U=()=>["auto","min","max","fr",oe,ie],B=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Q=()=>["start","end","center","stretch","center-safe","end-safe"],ae=()=>["auto",...E()],te=()=>[fa,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],W=()=>[e,oe,ie],ue=()=>[...x(),Mm,Rm,{position:[oe,ie]}],F=()=>["no-repeat",{repeat:["","x","y","space","round"]}],T=()=>["auto","cover","contain",mj,fj,{size:[oe,ie]}],z=()=>[bu,ni,Rn],A=()=>["","none","full",l,oe,ie],P=()=>["",ge,ni,Rn],N=()=>["solid","dashed","dotted","double"],D=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>[ge,bu,Mm,Rm],Y=()=>["","none",v,oe,ie],V=()=>["none",ge,oe,ie],X=()=>["none",ge,oe,ie],O=()=>[ge,oe,ie],j=()=>[fa,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Lr],breakpoint:[Lr],color:[sj],container:[Lr],"drop-shadow":[Lr],ease:["in","out","in-out"],font:[dj],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Lr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Lr],shadow:[Lr],spacing:["px",ge],text:[Lr],"text-shadow":[Lr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",fa,ie,oe,f]}],container:["container"],columns:[{columns:[ge,ie,oe,s]}],"break-after":[{"break-after":y()}],"break-before":[{"break-before":y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:g()}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[mn,"auto",oe,ie]}],basis:[{basis:[fa,"full","auto",s,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ge,fa,"auto","initial","none",ie]}],grow:[{grow:["",ge,oe,ie]}],shrink:[{shrink:["",ge,oe,ie]}],order:[{order:[mn,"first","last","none",oe,ie]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:R()}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:R()}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":U()}],"auto-rows":[{"auto-rows":U()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...B(),"normal"]}],"justify-items":[{"justify-items":[...Q(),"normal"]}],"justify-self":[{"justify-self":["auto",...Q()]}],"align-content":[{content:["normal",...B()]}],"align-items":[{items:[...Q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Q(),{baseline:["","last"]}]}],"place-content":[{"place-content":B()}],"place-items":[{"place-items":[...Q(),"baseline"]}],"place-self":[{"place-self":["auto",...Q()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:ae()}],mx:[{mx:ae()}],my:[{my:ae()}],ms:[{ms:ae()}],me:[{me:ae()}],mt:[{mt:ae()}],mr:[{mr:ae()}],mb:[{mb:ae()}],ml:[{ml:ae()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:te()}],w:[{w:[s,"screen",...te()]}],"min-w":[{"min-w":[s,"screen","none",...te()]}],"max-w":[{"max-w":[s,"screen","none","prose",{screen:[o]},...te()]}],h:[{h:["screen","lh",...te()]}],"min-h":[{"min-h":["screen","lh","none",...te()]}],"max-h":[{"max-h":["screen","lh",...te()]}],"font-size":[{text:["base",r,ni,Rn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,oe,wu]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",bu,ie]}],"font-family":[{font:[pj,ie,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,oe,ie]}],"line-clamp":[{"line-clamp":[ge,"none",oe,wu]}],leading:[{leading:[i,...E()]}],"list-image":[{"list-image":["none",oe,ie]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",oe,ie]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...N(),"wavy"]}],"text-decoration-thickness":[{decoration:[ge,"from-font","auto",oe,Rn]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[ge,"auto",oe,ie]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",oe,ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",oe,ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ue()}],"bg-repeat":[{bg:F()}],"bg-size":[{bg:T()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},mn,oe,ie],radial:["",oe,ie],conic:[mn,oe,ie]},vj,hj]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:z()}],"gradient-via-pos":[{via:z()}],"gradient-to-pos":[{to:z()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:A()}],"rounded-s":[{"rounded-s":A()}],"rounded-e":[{"rounded-e":A()}],"rounded-t":[{"rounded-t":A()}],"rounded-r":[{"rounded-r":A()}],"rounded-b":[{"rounded-b":A()}],"rounded-l":[{"rounded-l":A()}],"rounded-ss":[{"rounded-ss":A()}],"rounded-se":[{"rounded-se":A()}],"rounded-ee":[{"rounded-ee":A()}],"rounded-es":[{"rounded-es":A()}],"rounded-tl":[{"rounded-tl":A()}],"rounded-tr":[{"rounded-tr":A()}],"rounded-br":[{"rounded-br":A()}],"rounded-bl":[{"rounded-bl":A()}],"border-w":[{border:P()}],"border-w-x":[{"border-x":P()}],"border-w-y":[{"border-y":P()}],"border-w-s":[{"border-s":P()}],"border-w-e":[{"border-e":P()}],"border-w-t":[{"border-t":P()}],"border-w-r":[{"border-r":P()}],"border-w-b":[{"border-b":P()}],"border-w-l":[{"border-l":P()}],"divide-x":[{"divide-x":P()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":P()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...N(),"hidden","none"]}],"divide-style":[{divide:[...N(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...N(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ge,oe,ie]}],"outline-w":[{outline:["",ge,ni,Rn]}],"outline-color":[{outline:W()}],shadow:[{shadow:["","none",u,po,ho]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",d,po,ho]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[ge,Rn]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":P()}],"inset-ring-color":[{"inset-ring":W()}],"text-shadow":[{"text-shadow":["none",h,po,ho]}],"text-shadow-color":[{"text-shadow":W()}],opacity:[{opacity:[ge,oe,ie]}],"mix-blend":[{"mix-blend":[...D(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":D()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ge]}],"mask-image-linear-from-pos":[{"mask-linear-from":K()}],"mask-image-linear-to-pos":[{"mask-linear-to":K()}],"mask-image-linear-from-color":[{"mask-linear-from":W()}],"mask-image-linear-to-color":[{"mask-linear-to":W()}],"mask-image-t-from-pos":[{"mask-t-from":K()}],"mask-image-t-to-pos":[{"mask-t-to":K()}],"mask-image-t-from-color":[{"mask-t-from":W()}],"mask-image-t-to-color":[{"mask-t-to":W()}],"mask-image-r-from-pos":[{"mask-r-from":K()}],"mask-image-r-to-pos":[{"mask-r-to":K()}],"mask-image-r-from-color":[{"mask-r-from":W()}],"mask-image-r-to-color":[{"mask-r-to":W()}],"mask-image-b-from-pos":[{"mask-b-from":K()}],"mask-image-b-to-pos":[{"mask-b-to":K()}],"mask-image-b-from-color":[{"mask-b-from":W()}],"mask-image-b-to-color":[{"mask-b-to":W()}],"mask-image-l-from-pos":[{"mask-l-from":K()}],"mask-image-l-to-pos":[{"mask-l-to":K()}],"mask-image-l-from-color":[{"mask-l-from":W()}],"mask-image-l-to-color":[{"mask-l-to":W()}],"mask-image-x-from-pos":[{"mask-x-from":K()}],"mask-image-x-to-pos":[{"mask-x-to":K()}],"mask-image-x-from-color":[{"mask-x-from":W()}],"mask-image-x-to-color":[{"mask-x-to":W()}],"mask-image-y-from-pos":[{"mask-y-from":K()}],"mask-image-y-to-pos":[{"mask-y-to":K()}],"mask-image-y-from-color":[{"mask-y-from":W()}],"mask-image-y-to-color":[{"mask-y-to":W()}],"mask-image-radial":[{"mask-radial":[oe,ie]}],"mask-image-radial-from-pos":[{"mask-radial-from":K()}],"mask-image-radial-to-pos":[{"mask-radial-to":K()}],"mask-image-radial-from-color":[{"mask-radial-from":W()}],"mask-image-radial-to-color":[{"mask-radial-to":W()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":x()}],"mask-image-conic-pos":[{"mask-conic":[ge]}],"mask-image-conic-from-pos":[{"mask-conic-from":K()}],"mask-image-conic-to-pos":[{"mask-conic-to":K()}],"mask-image-conic-from-color":[{"mask-conic-from":W()}],"mask-image-conic-to-color":[{"mask-conic-to":W()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ue()}],"mask-repeat":[{mask:F()}],"mask-size":[{mask:T()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",oe,ie]}],filter:[{filter:["","none",oe,ie]}],blur:[{blur:Y()}],brightness:[{brightness:[ge,oe,ie]}],contrast:[{contrast:[ge,oe,ie]}],"drop-shadow":[{"drop-shadow":["","none",p,po,ho]}],"drop-shadow-color":[{"drop-shadow":W()}],grayscale:[{grayscale:["",ge,oe,ie]}],"hue-rotate":[{"hue-rotate":[ge,oe,ie]}],invert:[{invert:["",ge,oe,ie]}],saturate:[{saturate:[ge,oe,ie]}],sepia:[{sepia:["",ge,oe,ie]}],"backdrop-filter":[{"backdrop-filter":["","none",oe,ie]}],"backdrop-blur":[{"backdrop-blur":Y()}],"backdrop-brightness":[{"backdrop-brightness":[ge,oe,ie]}],"backdrop-contrast":[{"backdrop-contrast":[ge,oe,ie]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ge,oe,ie]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ge,oe,ie]}],"backdrop-invert":[{"backdrop-invert":["",ge,oe,ie]}],"backdrop-opacity":[{"backdrop-opacity":[ge,oe,ie]}],"backdrop-saturate":[{"backdrop-saturate":[ge,oe,ie]}],"backdrop-sepia":[{"backdrop-sepia":["",ge,oe,ie]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",oe,ie]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ge,"initial",oe,ie]}],ease:[{ease:["linear","initial",b,oe,ie]}],delay:[{delay:[ge,oe,ie]}],animate:[{animate:["none",m,oe,ie]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,oe,ie]}],"perspective-origin":[{"perspective-origin":g()}],rotate:[{rotate:V()}],"rotate-x":[{"rotate-x":V()}],"rotate-y":[{"rotate-y":V()}],"rotate-z":[{"rotate-z":V()}],scale:[{scale:X()}],"scale-x":[{"scale-x":X()}],"scale-y":[{"scale-y":X()}],"scale-z":[{"scale-z":X()}],"scale-3d":["scale-3d"],skew:[{skew:O()}],"skew-x":[{"skew-x":O()}],"skew-y":[{"skew-y":O()}],transform:[{transform:[oe,ie,"","none","gpu","cpu"]}],"transform-origin":[{origin:g()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:j()}],"translate-x":[{"translate-x":j()}],"translate-y":[{"translate-y":j()}],"translate-z":[{"translate-z":j()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",oe,ie]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",oe,ie]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[ge,ni,Rn,wu]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},wj=QO(bj);function _h(...e){return wj(De(e))}const ac=hl.forwardRef(({className:e,variant:t="primary",size:r="md",...n},a)=>{const i={primary:"bg-[var(--accent-color)] hover:bg-[var(--accent-hover)] text-white shadow-sm border border-transparent",secondary:"bg-[var(--bg-tertiary)] hover:bg-[var(--border-primary)] text-[var(--text-primary)] border border-[var(--border-primary)]",danger:"bg-[var(--danger-color)] hover:opacity-90 text-white border border-transparent",ghost:"bg-transparent hover:bg-[var(--bg-tertiary)] text-[var(--text-secondary)] hover:text-[var(--text-accent)]",outline:"bg-transparent border border-[var(--border-primary)] text-[var(--text-secondary)] hover:border-[var(--text-primary)] hover:text-[var(--text-accent)]"},o={xs:"h-6 px-1.5 text-[10px]",sm:"h-7 px-2 text-xs",md:"h-8 px-3 text-sm",lg:"h-10 px-4 text-base",icon:"h-8 w-8 p-0 flex items-center justify-center"};return $.jsx("button",{ref:a,className:_h("inline-flex items-center justify-center whitespace-nowrap rounded font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-gray-400 disabled:pointer-events-none disabled:opacity-50",i[t],o[r],e),...n})});ac.displayName="Button";const xa=hl.forwardRef(({className:e,type:t,...r},n)=>$.jsx("input",{type:t,className:_h("flex h-8 w-full rounded border border-[var(--border-primary)] bg-[var(--bg-primary)] px-3 py-1 text-sm text-[var(--text-primary)] shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-[var(--text-secondary)] focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-[var(--accent-color)] disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));xa.displayName="Input";const _i=hl.forwardRef(({className:e,children:t,...r},n)=>$.jsxs("div",{className:"relative",children:[$.jsx("select",{className:_h("flex h-8 w-full appearance-none rounded border border-[var(--border-primary)] bg-[var(--bg-primary)] px-3 py-1 text-sm text-[var(--text-primary)] shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-[var(--accent-color)] disabled:cursor-not-allowed disabled:opacity-50 pr-12",e),ref:n,...r,children:t}),$.jsx(nx,{className:"absolute right-2 top-1/2 -translate-y-1/2 h-4 w-4 pointer-events-none text-[var(--text-secondary)]"})]}));_i.displayName="Select";const _j=()=>{const{submitOrder:e,selectedSymbol:t,instruments:r}=Dt(),[n,a]=k.useState("BUY"),[i,o]=k.useState(100),[s,c]=k.useState("LIMIT"),[l,u]=k.useState("DAY"),[d,h]=k.useState(0),[p,v]=k.useState(0),[w,f]=k.useState(1),[b,m]=k.useState("amt"),[y,x]=k.useState(!1),[g,_]=k.useState(!1),S=t?Ca(t):2;k.useEffect(()=>{if(t&&r[t]){const C=Number(r[t].last.toFixed(S));h(C),v(n==="BUY"?C*.98:C*1.02)}},[t]);const E=()=>{if(!t)return;const C={side:n,symbol:t,qty:i,type:s,expiry:l,price:d,allOrNone:y,outsideRTH:g};(s==="STOP_LIMIT"||s==="TRAILLMT")&&(C.auxPrice=p),(s==="TRAIL"||s==="TRAILLMT")&&(C.trailingAmt=w,C.trailingType=b),e(C)};if(!t)return $.jsx("div",{className:"p-4 text-center text-[var(--text-secondary)] text-xs",children:"Select a symbol from the Watchlist to trade."});const I=["LIMIT","STOP_LIMIT","TRAILLMT"].includes(s),L=["STOP","STOP_LIMIT","TRAILLMT"].includes(s),R=["TRAIL","TRAILLMT"].includes(s);return $.jsxs("div",{className:"p-3 flex flex-col gap-2 h-full overflow-y-auto",children:[$.jsxs("div",{className:"flex justify-between items-end mb-1",children:[$.jsxs("div",{className:"flex flex-col",children:[$.jsx("div",{className:"text-xs uppercase text-[var(--text-secondary)] font-bold leading-none mb-1",children:"Instrument"}),$.jsx("div",{className:"text-lg font-bold tracking-tight text-[var(--text-primary)] leading-none",children:t})]}),$.jsxs("div",{className:"flex gap-4 items-end",children:[$.jsxs("div",{className:"flex flex-col items-end",children:[$.jsx("span",{className:"text-[9px] uppercase text-[var(--text-secondary)] font-bold",children:"Bid"}),$.jsx("span",{className:"text-sm font-mono font-bold text-[var(--success-color)]",children:r[t]?.bid.toFixed(S)})]}),$.jsxs("div",{className:"flex flex-col items-end",children:[$.jsx("span",{className:"text-[9px] uppercase text-[var(--text-secondary)] font-bold",children:"Ask"}),$.jsx("span",{className:"text-sm font-mono font-bold text-[var(--danger-color)]",children:r[t]?.ask.toFixed(S)})]}),$.jsxs("div",{className:"flex flex-col items-end",children:[$.jsx("span",{className:"text-[9px] uppercase text-[var(--text-secondary)] font-bold",children:"Last"}),$.jsx("span",{className:"text-sm font-mono text-[var(--text-primary)]",children:r[t]?.last.toFixed(S)})]})]})]}),$.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[$.jsx(ac,{size:"sm",variant:n==="BUY"?"primary":"secondary",onClick:()=>a("BUY"),className:"w-full font-bold",children:"BUY"}),$.jsx(ac,{size:"sm",variant:n==="SELL"?"danger":"secondary",onClick:()=>a("SELL"),className:"w-full font-bold",children:"SELL"})]}),$.jsxs("div",{className:"space-y-2 flex-grow",children:[$.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[$.jsxs("div",{className:"space-y-1",children:[$.jsx("label",{className:"text-[10px] uppercase text-[var(--text-primary)] font-bold",children:"Quantity"}),$.jsx(xa,{type:"number",value:i,onChange:C=>o(Number(C.target.value)),className:"font-medium"})]}),$.jsxs("div",{className:"space-y-1",children:[$.jsx("label",{className:"text-[10px] uppercase text-[var(--text-primary)] font-bold",children:"Expiry"}),$.jsxs(_i,{value:l,onChange:C=>u(C.target.value),className:"font-medium",children:[$.jsx("option",{value:"DAY",children:"DAY"}),$.jsx("option",{value:"IOC",children:"IOC"}),$.jsx("option",{value:"GTC",children:"GTC"}),$.jsx("option",{value:"GTD",children:"GTD"})]})]})]}),$.jsxs("div",{className:"space-y-1",children:[$.jsx("label",{className:"text-[10px] uppercase text-[var(--text-primary)] font-bold",children:"Order Type"}),$.jsxs(_i,{value:s,onChange:C=>c(C.target.value),className:"font-medium",children:[$.jsx("option",{value:"MARKET",children:"MARKET"}),$.jsx("option",{value:"LIMIT",children:"LIMIT"}),$.jsx("option",{value:"STOP",children:"STOP"}),$.jsx("option",{value:"STOP_LIMIT",children:"STOP LIMIT"}),$.jsx("option",{value:"TRAIL",children:"TRAIL"}),$.jsx("option",{value:"TRAILLMT",children:"TRAIL LIMIT"})]})]}),I&&$.jsxs("div",{className:"space-y-1",children:[$.jsx("label",{className:"text-[10px] uppercase text-[var(--text-primary)] font-bold",children:"Limit Price"}),$.jsx(xa,{type:"number",step:1/Math.pow(10,S),value:d||"",onChange:C=>h(parseFloat(C.target.value)),className:"font-medium"})]}),L&&$.jsxs("div",{className:"space-y-1",children:[$.jsx("label",{className:"text-[10px] uppercase text-[var(--text-primary)] font-bold",children:"Stop Price"}),$.jsx(xa,{type:"number",step:1/Math.pow(10,S),value:p||"",onChange:C=>v(parseFloat(C.target.value)),className:"font-medium"})]}),R&&$.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[$.jsxs("div",{className:"space-y-1",children:[$.jsx("label",{className:"text-[10px] uppercase text-[var(--text-primary)] font-bold",children:"Trail Amount"}),$.jsx(xa,{type:"number",step:"0.01",value:w||"",onChange:C=>f(parseFloat(C.target.value)),className:"font-medium"})]}),$.jsxs("div",{className:"space-y-1",children:[$.jsx("label",{className:"text-[10px] uppercase text-[var(--text-primary)] font-bold",children:"Trail Type"}),$.jsxs(_i,{value:b,onChange:C=>m(C.target.value),className:"font-medium",children:[$.jsx("option",{value:"amt",children:"Amount"}),$.jsx("option",{value:"%",children:"Percent"})]})]})]}),$.jsxs("div",{className:"space-y-2 pt-2 border-t border-[var(--border-primary)]",children:[$.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[$.jsx("input",{type:"checkbox",checked:y,onChange:C=>x(C.target.checked),className:"w-4 h-4"}),$.jsx("span",{className:"text-[10px] uppercase text-[var(--text-primary)] font-bold",children:"All or None"})]}),$.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[$.jsx("input",{type:"checkbox",checked:g,onChange:C=>_(C.target.checked),className:"w-4 h-4"}),$.jsx("span",{className:"text-[10px] uppercase text-[var(--text-primary)] font-bold",children:"Outside RTH"})]})]})]}),$.jsxs(ac,{variant:n==="BUY"?"primary":"danger",onClick:E,className:"w-full mt-auto shadow-lg",children:["SUBMIT ",n]})]})};function J(e,t,r){function n(s,c){if(s._zod||Object.defineProperty(s,"_zod",{value:{def:c,constr:o,traits:new Set},enumerable:!1}),s._zod.traits.has(e))return;s._zod.traits.add(e),t(s,c);const l=o.prototype,u=Object.keys(l);for(let d=0;d<u.length;d++){const h=u[d];h in s||(s[h]=l[h].bind(s))}}const a=r?.Parent??Object;class i extends a{}Object.defineProperty(i,"name",{value:e});function o(s){var c;const l=r?.Parent?new i:this;n(l,s),(c=l._zod).deferred??(c.deferred=[]);for(const u of l._zod.deferred)u();return l}return Object.defineProperty(o,"init",{value:n}),Object.defineProperty(o,Symbol.hasInstance,{value:s=>r?.Parent&&s instanceof r.Parent?!0:s?._zod?.traits?.has(e)}),Object.defineProperty(o,"name",{value:e}),o}class ja extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class _x extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const xx={};function $n(e){return xx}function Sx(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,a])=>t.indexOf(+n)===-1).map(([n,a])=>a)}function _f(e,t){return typeof t=="bigint"?t.toString():t}function pl(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function xh(e){return e==null}function Sh(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function xj(e,t){const r=(e.toString().split(".")[1]||"").length,n=t.toString();let a=(n.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(n)){const c=n.match(/\d?e-(\d?)/);c?.[1]&&(a=Number.parseInt(c[1]))}const i=r>a?r:a,o=Number.parseInt(e.toFixed(i).replace(".","")),s=Number.parseInt(t.toFixed(i).replace(".",""));return o%s/10**i}const Dm=Symbol("evaluating");function Te(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==Dm)return n===void 0&&(n=Dm,n=r()),n},set(a){Object.defineProperty(e,t,{value:a})},configurable:!0})}function la(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function On(...e){const t={};for(const r of e){const n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}function zm(e){return JSON.stringify(e)}function Sj(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Px="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Pi(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const Pj=pl(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Aa(e){if(Pi(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const r=t.prototype;return!(Pi(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function $x(e){return Aa(e)?{...e}:Array.isArray(e)?[...e]:e}const $j=new Set(["string","number","symbol"]);function Ia(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function jn(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function ce(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function kj(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const Ej={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Oj(e,t){const r=e._zod.def,n=r.checks;if(n&&n.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const i=On(e._zod.def,{get shape(){const o={};for(const s in t){if(!(s in r.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&(o[s]=r.shape[s])}return la(this,"shape",o),o},checks:[]});return jn(e,i)}function jj(e,t){const r=e._zod.def,n=r.checks;if(n&&n.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const i=On(e._zod.def,{get shape(){const o={...e._zod.def.shape};for(const s in t){if(!(s in r.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&delete o[s]}return la(this,"shape",o),o},checks:[]});return jn(e,i)}function Nj(e,t){if(!Aa(t))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0){const i=e._zod.def.shape;for(const o in t)if(Object.getOwnPropertyDescriptor(i,o)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const a=On(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t};return la(this,"shape",i),i}});return jn(e,a)}function Tj(e,t){if(!Aa(t))throw new Error("Invalid input to safeExtend: expected a plain object");const r=On(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t};return la(this,"shape",n),n}});return jn(e,r)}function Cj(e,t){const r=On(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return la(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return jn(e,r)}function Aj(e,t,r){const a=t._zod.def.checks;if(a&&a.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const o=On(t._zod.def,{get shape(){const s=t._zod.def.shape,c={...s};if(r)for(const l in r){if(!(l in s))throw new Error(`Unrecognized key: "${l}"`);r[l]&&(c[l]=e?new e({type:"optional",innerType:s[l]}):s[l])}else for(const l in s)c[l]=e?new e({type:"optional",innerType:s[l]}):s[l];return la(this,"shape",c),c},checks:[]});return jn(t,o)}function Ij(e,t,r){const n=On(t._zod.def,{get shape(){const a=t._zod.def.shape,i={...a};if(r)for(const o in r){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);r[o]&&(i[o]=new e({type:"nonoptional",innerType:a[o]}))}else for(const o in a)i[o]=new e({type:"nonoptional",innerType:a[o]});return la(this,"shape",i),i}});return jn(t,n)}function Sa(e,t=0){if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function Pa(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function mo(e){return typeof e=="string"?e:e?.message}function kn(e,t,r){const n={...e,path:e.path??[]};if(!e.message){const a=mo(e.inst?._zod.def?.error?.(e))??mo(t?.error?.(e))??mo(r.customError?.(e))??mo(r.localeError?.(e))??"Invalid input";n.message=a}return delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}function Ph(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function $i(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}const kx=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,_f,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Ex=J("$ZodError",kx),Ox=J("$ZodError",kx,{Parent:Error});function Rj(e,t=r=>r.message){const r={},n=[];for(const a of e.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}function Mj(e,t=r=>r.message){const r={_errors:[]},n=a=>{for(const i of a.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(o=>n({issues:o}));else if(i.code==="invalid_key")n({issues:i.issues});else if(i.code==="invalid_element")n({issues:i.issues});else if(i.path.length===0)r._errors.push(t(i));else{let o=r,s=0;for(;s<i.path.length;){const c=i.path[s];s===i.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(t(i))):o[c]=o[c]||{_errors:[]},o=o[c],s++}}};return n(e),r}const $h=e=>(t,r,n,a)=>{const i=n?Object.assign(n,{async:!1}):{async:!1},o=t._zod.run({value:r,issues:[]},i);if(o instanceof Promise)throw new ja;if(o.issues.length){const s=new(a?.Err??e)(o.issues.map(c=>kn(c,i,$n())));throw Px(s,a?.callee),s}return o.value},kh=e=>async(t,r,n,a)=>{const i=n?Object.assign(n,{async:!0}):{async:!0};let o=t._zod.run({value:r,issues:[]},i);if(o instanceof Promise&&(o=await o),o.issues.length){const s=new(a?.Err??e)(o.issues.map(c=>kn(c,i,$n())));throw Px(s,a?.callee),s}return o.value},ml=e=>(t,r,n)=>{const a=n?{...n,async:!1}:{async:!1},i=t._zod.run({value:r,issues:[]},a);if(i instanceof Promise)throw new ja;return i.issues.length?{success:!1,error:new(e??Ex)(i.issues.map(o=>kn(o,a,$n())))}:{success:!0,data:i.value}},jx=ml(Ox),vl=e=>async(t,r,n)=>{const a=n?Object.assign(n,{async:!0}):{async:!0};let i=t._zod.run({value:r,issues:[]},a);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(o=>kn(o,a,$n())))}:{success:!0,data:i.value}},Dj=vl(Ox),zj=e=>(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return $h(e)(t,r,a)},Lj=e=>(t,r,n)=>$h(e)(t,r,n),qj=e=>async(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return kh(e)(t,r,a)},Fj=e=>async(t,r,n)=>kh(e)(t,r,n),Uj=e=>(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return ml(e)(t,r,a)},Vj=e=>(t,r,n)=>ml(e)(t,r,n),Bj=e=>async(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return vl(e)(t,r,a)},Kj=e=>async(t,r,n)=>vl(e)(t,r,n),Wj=/^[cC][^\s-]{8,}$/,Hj=/^[0-9a-z]+$/,Zj=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Gj=/^[0-9a-vA-V]{20}$/,Yj=/^[A-Za-z0-9]{27}$/,Jj=/^[a-zA-Z0-9_-]{21}$/,Xj=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Qj=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Lm=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,eN=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,tN="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function rN(){return new RegExp(tN,"u")}const nN=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,aN=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,iN=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,oN=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,sN=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Nx=/^[A-Za-z0-9_-]*$/,cN=/^\+[1-9]\d{6,14}$/,Tx="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",lN=new RegExp(`^${Tx}$`);function Cx(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function uN(e){return new RegExp(`^${Cx(e)}$`)}function dN(e){const t=Cx({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${Tx}T(?:${n})$`)}const fN=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},hN=/^-?\d+$/,Ax=/^-?\d+(?:\.\d+)?$/,pN=/^(?:true|false)$/i,mN=/^null$/i,vN=/^[^A-Z]*$/,yN=/^[^a-z]*$/,Bt=J("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),Ix={number:"number",bigint:"bigint",object:"date"},Rx=J("$ZodCheckLessThan",(e,t)=>{Bt.init(e,t);const r=Ix[typeof t.value];e._zod.onattach.push(n=>{const a=n._zod.bag,i=(t.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<i&&(t.inclusive?a.maximum=t.value:a.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Mx=J("$ZodCheckGreaterThan",(e,t)=>{Bt.init(e,t);const r=Ix[typeof t.value];e._zod.onattach.push(n=>{const a=n._zod.bag,i=(t.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>i&&(t.inclusive?a.minimum=t.value:a.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),gN=J("$ZodCheckMultipleOf",(e,t)=>{Bt.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):xj(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),bN=J("$ZodCheckNumberFormat",(e,t)=>{Bt.init(e,t),t.format=t.format||"float64";const r=t.format?.includes("int"),n=r?"int":"number",[a,i]=Ej[t.format];e._zod.onattach.push(o=>{const s=o._zod.bag;s.format=t.format,s.minimum=a,s.maximum=i,r&&(s.pattern=hN)}),e._zod.check=o=>{const s=o.value;if(r){if(!Number.isInteger(s)){o.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:s,inst:e});return}if(!Number.isSafeInteger(s)){s>0?o.issues.push({input:s,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,inclusive:!0,continue:!t.abort}):o.issues.push({input:s,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,inclusive:!0,continue:!t.abort});return}}s<a&&o.issues.push({origin:"number",input:s,code:"too_small",minimum:a,inclusive:!0,inst:e,continue:!t.abort}),s>i&&o.issues.push({origin:"number",input:s,code:"too_big",maximum:i,inclusive:!0,inst:e,continue:!t.abort})}}),wN=J("$ZodCheckMaxLength",(e,t)=>{var r;Bt.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!xh(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<a&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const a=n.value;if(a.length<=t.maximum)return;const o=Ph(a);n.issues.push({origin:o,code:"too_big",maximum:t.maximum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),_N=J("$ZodCheckMinLength",(e,t)=>{var r;Bt.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!xh(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>a&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const a=n.value;if(a.length>=t.minimum)return;const o=Ph(a);n.issues.push({origin:o,code:"too_small",minimum:t.minimum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),xN=J("$ZodCheckLengthEquals",(e,t)=>{var r;Bt.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!xh(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag;a.minimum=t.length,a.maximum=t.length,a.length=t.length}),e._zod.check=n=>{const a=n.value,i=a.length;if(i===t.length)return;const o=Ph(a),s=i>t.length;n.issues.push({origin:o,...s?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),yl=J("$ZodCheckStringFormat",(e,t)=>{var r,n;Bt.init(e,t),e._zod.onattach.push(a=>{const i=a._zod.bag;i.format=t.format,t.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=a=>{t.pattern.lastIndex=0,!t.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:t.format,input:a.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),SN=J("$ZodCheckRegex",(e,t)=>{yl.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),PN=J("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=vN),yl.init(e,t)}),$N=J("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=yN),yl.init(e,t)}),kN=J("$ZodCheckIncludes",(e,t)=>{Bt.init(e,t);const r=Ia(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(a=>{const i=a._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=a=>{a.value.includes(t.includes,t.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:a.value,inst:e,continue:!t.abort})}}),EN=J("$ZodCheckStartsWith",(e,t)=>{Bt.init(e,t);const r=new RegExp(`^${Ia(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),ON=J("$ZodCheckEndsWith",(e,t)=>{Bt.init(e,t);const r=new RegExp(`.*${Ia(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),jN=J("$ZodCheckOverwrite",(e,t)=>{Bt.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class NN{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(o=>o),a=Math.min(...n.map(o=>o.length-o.trimStart().length)),i=n.map(o=>o.slice(a)).map(o=>" ".repeat(this.indent*2)+o);for(const o of i)this.content.push(o)}compile(){const t=Function,r=this?.args,a=[...(this?.content??[""]).map(i=>`  ${i}`)];return new t(...r,a.join(`
`))}}const TN={major:4,minor:3,patch:6},Ue=J("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=TN;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const a of n)for(const i of a._zod.onattach)i(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const a=(o,s,c)=>{let l=Sa(o),u;for(const d of s){if(d._zod.def.when){if(!d._zod.def.when(o))continue}else if(l)continue;const h=o.issues.length,p=d._zod.check(o);if(p instanceof Promise&&c?.async===!1)throw new ja;if(u||p instanceof Promise)u=(u??Promise.resolve()).then(async()=>{await p,o.issues.length!==h&&(l||(l=Sa(o,h)))});else{if(o.issues.length===h)continue;l||(l=Sa(o,h))}}return u?u.then(()=>o):o},i=(o,s,c)=>{if(Sa(o))return o.aborted=!0,o;const l=a(s,n,c);if(l instanceof Promise){if(c.async===!1)throw new ja;return l.then(u=>e._zod.parse(u,c))}return e._zod.parse(l,c)};e._zod.run=(o,s)=>{if(s.skipChecks)return e._zod.parse(o,s);if(s.direction==="backward"){const l=e._zod.parse({value:o.value,issues:[]},{...s,skipChecks:!0});return l instanceof Promise?l.then(u=>i(u,o,s)):i(l,o,s)}const c=e._zod.parse(o,s);if(c instanceof Promise){if(s.async===!1)throw new ja;return c.then(l=>a(l,n,s))}return a(c,n,s)}}Te(e,"~standard",()=>({validate:a=>{try{const i=jx(e,a);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return Dj(e,a).then(o=>o.success?{value:o.data}:{issues:o.error?.issues})}},vendor:"zod",version:1}))}),Eh=J("$ZodString",(e,t)=>{Ue.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??fN(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Ve=J("$ZodStringFormat",(e,t)=>{yl.init(e,t),Eh.init(e,t)}),CN=J("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=Qj),Ve.init(e,t)}),AN=J("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Lm(n))}else t.pattern??(t.pattern=Lm());Ve.init(e,t)}),IN=J("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=eN),Ve.init(e,t)}),RN=J("$ZodURL",(e,t)=>{Ve.init(e,t),e._zod.check=r=>{try{const n=r.value.trim(),a=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(a.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=a.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),MN=J("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=rN()),Ve.init(e,t)}),DN=J("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=Jj),Ve.init(e,t)}),zN=J("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=Wj),Ve.init(e,t)}),LN=J("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=Hj),Ve.init(e,t)}),qN=J("$ZodULID",(e,t)=>{t.pattern??(t.pattern=Zj),Ve.init(e,t)}),FN=J("$ZodXID",(e,t)=>{t.pattern??(t.pattern=Gj),Ve.init(e,t)}),UN=J("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=Yj),Ve.init(e,t)}),VN=J("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=dN(t)),Ve.init(e,t)}),BN=J("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=lN),Ve.init(e,t)}),KN=J("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=uN(t)),Ve.init(e,t)}),WN=J("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=Xj),Ve.init(e,t)}),HN=J("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=nN),Ve.init(e,t),e._zod.bag.format="ipv4"}),ZN=J("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=aN),Ve.init(e,t),e._zod.bag.format="ipv6",e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),GN=J("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=iN),Ve.init(e,t)}),YN=J("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=oN),Ve.init(e,t),e._zod.check=r=>{const n=r.value.split("/");try{if(n.length!==2)throw new Error;const[a,i]=n;if(!i)throw new Error;const o=Number(i);if(`${o}`!==i)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${a}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function Dx(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const JN=J("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=sN),Ve.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=r=>{Dx(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function XN(e){if(!Nx.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return Dx(r)}const QN=J("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Nx),Ve.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=r=>{XN(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),eT=J("$ZodE164",(e,t)=>{t.pattern??(t.pattern=cN),Ve.init(e,t)});function tT(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const a=JSON.parse(atob(n));return!("typ"in a&&a?.typ!=="JWT"||!a.alg||t&&(!("alg"in a)||a.alg!==t))}catch{return!1}}const rT=J("$ZodJWT",(e,t)=>{Ve.init(e,t),e._zod.check=r=>{tT(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),zx=J("$ZodNumber",(e,t)=>{Ue.init(e,t),e._zod.pattern=e._zod.bag.pattern??Ax,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const a=r.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return r;const i=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:a,inst:e,...i?{received:i}:{}}),r}}),nT=J("$ZodNumberFormat",(e,t)=>{bN.init(e,t),zx.init(e,t)}),aT=J("$ZodBoolean",(e,t)=>{Ue.init(e,t),e._zod.pattern=pN,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=!!r.value}catch{}const a=r.value;return typeof a=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:e}),r}}),iT=J("$ZodNull",(e,t)=>{Ue.init(e,t),e._zod.pattern=mN,e._zod.values=new Set([null]),e._zod.parse=(r,n)=>{const a=r.value;return a===null||r.issues.push({expected:"null",code:"invalid_type",input:a,inst:e}),r}}),oT=J("$ZodUnknown",(e,t)=>{Ue.init(e,t),e._zod.parse=r=>r}),sT=J("$ZodNever",(e,t)=>{Ue.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function qm(e,t,r){e.issues.length&&t.issues.push(...Pa(r,e.issues)),t.value[r]=e.value}const cT=J("$ZodArray",(e,t)=>{Ue.init(e,t),e._zod.parse=(r,n)=>{const a=r.value;if(!Array.isArray(a))return r.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),r;r.value=Array(a.length);const i=[];for(let o=0;o<a.length;o++){const s=a[o],c=t.element._zod.run({value:s,issues:[]},n);c instanceof Promise?i.push(c.then(l=>qm(l,r,o))):qm(c,r,o)}return i.length?Promise.all(i).then(()=>r):r}});function pc(e,t,r,n,a){if(e.issues.length){if(a&&!(r in n))return;t.issues.push(...Pa(r,e.issues))}e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function Lx(e){const t=Object.keys(e.shape);for(const n of t)if(!e.shape?.[n]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);const r=kj(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function qx(e,t,r,n,a,i){const o=[],s=a.keySet,c=a.catchall._zod,l=c.def.type,u=c.optout==="optional";for(const d in t){if(s.has(d))continue;if(l==="never"){o.push(d);continue}const h=c.run({value:t[d],issues:[]},n);h instanceof Promise?e.push(h.then(p=>pc(p,r,d,t,u))):pc(h,r,d,t,u)}return o.length&&r.issues.push({code:"unrecognized_keys",keys:o,input:t,inst:i}),e.length?Promise.all(e).then(()=>r):r}const lT=J("$ZodObject",(e,t)=>{if(Ue.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const s=t.shape;Object.defineProperty(t,"shape",{get:()=>{const c={...s};return Object.defineProperty(t,"shape",{value:c}),c}})}const n=pl(()=>Lx(t));Te(e._zod,"propValues",()=>{const s=t.shape,c={};for(const l in s){const u=s[l]._zod;if(u.values){c[l]??(c[l]=new Set);for(const d of u.values)c[l].add(d)}}return c});const a=Pi,i=t.catchall;let o;e._zod.parse=(s,c)=>{o??(o=n.value);const l=s.value;if(!a(l))return s.issues.push({expected:"object",code:"invalid_type",input:l,inst:e}),s;s.value={};const u=[],d=o.shape;for(const h of o.keys){const p=d[h],v=p._zod.optout==="optional",w=p._zod.run({value:l[h],issues:[]},c);w instanceof Promise?u.push(w.then(f=>pc(f,s,h,l,v))):pc(w,s,h,l,v)}return i?qx(u,l,s,c,n.value,e):u.length?Promise.all(u).then(()=>s):s}}),uT=J("$ZodObjectJIT",(e,t)=>{lT.init(e,t);const r=e._zod.parse,n=pl(()=>Lx(t)),a=h=>{const p=new NN(["shape","payload","ctx"]),v=n.value,w=y=>{const x=zm(y);return`shape[${x}]._zod.run({ value: input[${x}], issues: [] }, ctx)`};p.write("const input = payload.value;");const f=Object.create(null);let b=0;for(const y of v.keys)f[y]=`key_${b++}`;p.write("const newResult = {};");for(const y of v.keys){const x=f[y],g=zm(y),S=h[y]?._zod?.optout==="optional";p.write(`const ${x} = ${w(y)};`),S?p.write(`
        if (${x}.issues.length) {
          if (${g} in input) {
            payload.issues = payload.issues.concat(${x}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${g}, ...iss.path] : [${g}]
            })));
          }
        }
        
        if (${x}.value === undefined) {
          if (${g} in input) {
            newResult[${g}] = undefined;
          }
        } else {
          newResult[${g}] = ${x}.value;
        }
        
      `):p.write(`
        if (${x}.issues.length) {
          payload.issues = payload.issues.concat(${x}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${g}, ...iss.path] : [${g}]
          })));
        }
        
        if (${x}.value === undefined) {
          if (${g} in input) {
            newResult[${g}] = undefined;
          }
        } else {
          newResult[${g}] = ${x}.value;
        }
        
      `)}p.write("payload.value = newResult;"),p.write("return payload;");const m=p.compile();return(y,x)=>m(h,y,x)};let i;const o=Pi,s=!xx.jitless,l=s&&Pj.value,u=t.catchall;let d;e._zod.parse=(h,p)=>{d??(d=n.value);const v=h.value;return o(v)?s&&l&&p?.async===!1&&p.jitless!==!0?(i||(i=a(t.shape)),h=i(h,p),u?qx([],v,h,p,d,e):h):r(h,p):(h.issues.push({expected:"object",code:"invalid_type",input:v,inst:e}),h)}});function Fm(e,t,r,n){for(const i of e)if(i.issues.length===0)return t.value=i.value,t;const a=e.filter(i=>!Sa(i));return a.length===1?(t.value=a[0].value,a[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(i=>i.issues.map(o=>kn(o,n,$n())))}),t)}const Fx=J("$ZodUnion",(e,t)=>{Ue.init(e,t),Te(e._zod,"optin",()=>t.options.some(a=>a._zod.optin==="optional")?"optional":void 0),Te(e._zod,"optout",()=>t.options.some(a=>a._zod.optout==="optional")?"optional":void 0),Te(e._zod,"values",()=>{if(t.options.every(a=>a._zod.values))return new Set(t.options.flatMap(a=>Array.from(a._zod.values)))}),Te(e._zod,"pattern",()=>{if(t.options.every(a=>a._zod.pattern)){const a=t.options.map(i=>i._zod.pattern);return new RegExp(`^(${a.map(i=>Sh(i.source)).join("|")})$`)}});const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(a,i)=>{if(r)return n(a,i);let o=!1;const s=[];for(const c of t.options){const l=c._zod.run({value:a.value,issues:[]},i);if(l instanceof Promise)s.push(l),o=!0;else{if(l.issues.length===0)return l;s.push(l)}}return o?Promise.all(s).then(c=>Fm(c,a,e,i)):Fm(s,a,e,i)}}),dT=J("$ZodDiscriminatedUnion",(e,t)=>{t.inclusive=!1,Fx.init(e,t);const r=e._zod.parse;Te(e._zod,"propValues",()=>{const a={};for(const i of t.options){const o=i._zod.propValues;if(!o||Object.keys(o).length===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(i)}"`);for(const[s,c]of Object.entries(o)){a[s]||(a[s]=new Set);for(const l of c)a[s].add(l)}}return a});const n=pl(()=>{const a=t.options,i=new Map;for(const o of a){const s=o._zod.propValues?.[t.discriminator];if(!s||s.size===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(o)}"`);for(const c of s){if(i.has(c))throw new Error(`Duplicate discriminator value "${String(c)}"`);i.set(c,o)}}return i});e._zod.parse=(a,i)=>{const o=a.value;if(!Pi(o))return a.issues.push({code:"invalid_type",expected:"object",input:o,inst:e}),a;const s=n.value.get(o?.[t.discriminator]);return s?s._zod.run(a,i):t.unionFallback?r(a,i):(a.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:o,path:[t.discriminator],inst:e}),a)}}),fT=J("$ZodIntersection",(e,t)=>{Ue.init(e,t),e._zod.parse=(r,n)=>{const a=r.value,i=t.left._zod.run({value:a,issues:[]},n),o=t.right._zod.run({value:a,issues:[]},n);return i instanceof Promise||o instanceof Promise?Promise.all([i,o]).then(([c,l])=>Um(r,c,l)):Um(r,i,o)}});function xf(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Aa(e)&&Aa(t)){const r=Object.keys(t),n=Object.keys(e).filter(i=>r.indexOf(i)!==-1),a={...e,...t};for(const i of n){const o=xf(e[i],t[i]);if(!o.valid)return{valid:!1,mergeErrorPath:[i,...o.mergeErrorPath]};a[i]=o.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const a=e[n],i=t[n],o=xf(a,i);if(!o.valid)return{valid:!1,mergeErrorPath:[n,...o.mergeErrorPath]};r.push(o.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function Um(e,t,r){const n=new Map;let a;for(const s of t.issues)if(s.code==="unrecognized_keys"){a??(a=s);for(const c of s.keys)n.has(c)||n.set(c,{}),n.get(c).l=!0}else e.issues.push(s);for(const s of r.issues)if(s.code==="unrecognized_keys")for(const c of s.keys)n.has(c)||n.set(c,{}),n.get(c).r=!0;else e.issues.push(s);const i=[...n].filter(([,s])=>s.l&&s.r).map(([s])=>s);if(i.length&&a&&e.issues.push({...a,keys:i}),Sa(e))return e;const o=xf(t.value,r.value);if(!o.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(o.mergeErrorPath)}`);return e.value=o.data,e}const hT=J("$ZodRecord",(e,t)=>{Ue.init(e,t),e._zod.parse=(r,n)=>{const a=r.value;if(!Aa(a))return r.issues.push({expected:"record",code:"invalid_type",input:a,inst:e}),r;const i=[],o=t.keyType._zod.values;if(o){r.value={};const s=new Set;for(const l of o)if(typeof l=="string"||typeof l=="number"||typeof l=="symbol"){s.add(typeof l=="number"?l.toString():l);const u=t.valueType._zod.run({value:a[l],issues:[]},n);u instanceof Promise?i.push(u.then(d=>{d.issues.length&&r.issues.push(...Pa(l,d.issues)),r.value[l]=d.value})):(u.issues.length&&r.issues.push(...Pa(l,u.issues)),r.value[l]=u.value)}let c;for(const l in a)s.has(l)||(c=c??[],c.push(l));c&&c.length>0&&r.issues.push({code:"unrecognized_keys",input:a,inst:e,keys:c})}else{r.value={};for(const s of Reflect.ownKeys(a)){if(s==="__proto__")continue;let c=t.keyType._zod.run({value:s,issues:[]},n);if(c instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof s=="string"&&Ax.test(s)&&c.issues.length){const d=t.keyType._zod.run({value:Number(s),issues:[]},n);if(d instanceof Promise)throw new Error("Async schemas not supported in object keys currently");d.issues.length===0&&(c=d)}if(c.issues.length){t.mode==="loose"?r.value[s]=a[s]:r.issues.push({code:"invalid_key",origin:"record",issues:c.issues.map(d=>kn(d,n,$n())),input:s,path:[s],inst:e});continue}const u=t.valueType._zod.run({value:a[s],issues:[]},n);u instanceof Promise?i.push(u.then(d=>{d.issues.length&&r.issues.push(...Pa(s,d.issues)),r.value[c.value]=d.value})):(u.issues.length&&r.issues.push(...Pa(s,u.issues)),r.value[c.value]=u.value)}}return i.length?Promise.all(i).then(()=>r):r}}),pT=J("$ZodEnum",(e,t)=>{Ue.init(e,t);const r=Sx(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(a=>$j.has(typeof a)).map(a=>typeof a=="string"?Ia(a):a.toString()).join("|")})$`),e._zod.parse=(a,i)=>{const o=a.value;return n.has(o)||a.issues.push({code:"invalid_value",values:r,input:o,inst:e}),a}}),mT=J("$ZodLiteral",(e,t)=>{if(Ue.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const r=new Set(t.values);e._zod.values=r,e._zod.pattern=new RegExp(`^(${t.values.map(n=>typeof n=="string"?Ia(n):n?Ia(n.toString()):String(n)).join("|")})$`),e._zod.parse=(n,a)=>{const i=n.value;return r.has(i)||n.issues.push({code:"invalid_value",values:t.values,input:i,inst:e}),n}}),vT=J("$ZodTransform",(e,t)=>{Ue.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new _x(e.constructor.name);const a=t.transform(r.value,r);if(n.async)return(a instanceof Promise?a:Promise.resolve(a)).then(o=>(r.value=o,r));if(a instanceof Promise)throw new ja;return r.value=a,r}});function Vm(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const Ux=J("$ZodOptional",(e,t)=>{Ue.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Te(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Te(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${Sh(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(i=>Vm(i,r.value)):Vm(a,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),yT=J("$ZodExactOptional",(e,t)=>{Ux.init(e,t),Te(e._zod,"values",()=>t.innerType._zod.values),Te(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(r,n)=>t.innerType._zod.run(r,n)}),gT=J("$ZodNullable",(e,t)=>{Ue.init(e,t),Te(e._zod,"optin",()=>t.innerType._zod.optin),Te(e._zod,"optout",()=>t.innerType._zod.optout),Te(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${Sh(r.source)}|null)$`):void 0}),Te(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),bT=J("$ZodDefault",(e,t)=>{Ue.init(e,t),e._zod.optin="optional",Te(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(i=>Bm(i,t)):Bm(a,t)}});function Bm(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const wT=J("$ZodPrefault",(e,t)=>{Ue.init(e,t),e._zod.optin="optional",Te(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),_T=J("$ZodNonOptional",(e,t)=>{Ue.init(e,t),Te(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(i=>Km(i,e)):Km(a,e)}});function Km(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const xT=J("$ZodCatch",(e,t)=>{Ue.init(e,t),Te(e._zod,"optin",()=>t.innerType._zod.optin),Te(e._zod,"optout",()=>t.innerType._zod.optout),Te(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(i=>(r.value=i.value,i.issues.length&&(r.value=t.catchValue({...r,error:{issues:i.issues.map(o=>kn(o,n,$n()))},input:r.value}),r.issues=[]),r)):(r.value=a.value,a.issues.length&&(r.value=t.catchValue({...r,error:{issues:a.issues.map(i=>kn(i,n,$n()))},input:r.value}),r.issues=[]),r)}}),ST=J("$ZodPipe",(e,t)=>{Ue.init(e,t),Te(e._zod,"values",()=>t.in._zod.values),Te(e._zod,"optin",()=>t.in._zod.optin),Te(e._zod,"optout",()=>t.out._zod.optout),Te(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){const i=t.out._zod.run(r,n);return i instanceof Promise?i.then(o=>vo(o,t.in,n)):vo(i,t.in,n)}const a=t.in._zod.run(r,n);return a instanceof Promise?a.then(i=>vo(i,t.out,n)):vo(a,t.out,n)}});function vo(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}const PT=J("$ZodReadonly",(e,t)=>{Ue.init(e,t),Te(e._zod,"propValues",()=>t.innerType._zod.propValues),Te(e._zod,"values",()=>t.innerType._zod.values),Te(e._zod,"optin",()=>t.innerType?._zod?.optin),Te(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(Wm):Wm(a)}});function Wm(e){return e.value=Object.freeze(e.value),e}const $T=J("$ZodCustom",(e,t)=>{Bt.init(e,t),Ue.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,a=t.fn(n);if(a instanceof Promise)return a.then(i=>Hm(i,r,n,e));Hm(a,r,n,e)}});function Hm(e,t,r,n){if(!e){const a={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(a.params=n._zod.def.params),t.issues.push($i(a))}}var Zm;class kT{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){const n=r[0];return this._map.set(t,n),n&&typeof n=="object"&&"id"in n&&this._idmap.set(n.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const a={...n,...this._map.get(t)};return Object.keys(a).length?a:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function ET(){return new kT}(Zm=globalThis).__zod_globalRegistry??(Zm.__zod_globalRegistry=ET());const yi=globalThis.__zod_globalRegistry;function OT(e,t){return new e({type:"string",...ce(t)})}function jT(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...ce(t)})}function Gm(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...ce(t)})}function NT(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...ce(t)})}function TT(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...ce(t)})}function CT(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...ce(t)})}function AT(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...ce(t)})}function IT(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...ce(t)})}function RT(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...ce(t)})}function MT(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...ce(t)})}function DT(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...ce(t)})}function zT(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...ce(t)})}function LT(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...ce(t)})}function qT(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...ce(t)})}function FT(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...ce(t)})}function UT(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...ce(t)})}function VT(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...ce(t)})}function BT(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...ce(t)})}function KT(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...ce(t)})}function WT(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...ce(t)})}function HT(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...ce(t)})}function ZT(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...ce(t)})}function GT(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...ce(t)})}function YT(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...ce(t)})}function JT(e,t){return new e({type:"string",format:"date",check:"string_format",...ce(t)})}function XT(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...ce(t)})}function QT(e,t){return new e({type:"string",format:"duration",check:"string_format",...ce(t)})}function eC(e,t){return new e({type:"number",checks:[],...ce(t)})}function tC(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...ce(t)})}function rC(e,t){return new e({type:"boolean",...ce(t)})}function nC(e,t){return new e({type:"null",...ce(t)})}function aC(e){return new e({type:"unknown"})}function iC(e,t){return new e({type:"never",...ce(t)})}function Ym(e,t){return new Rx({check:"less_than",...ce(t),value:e,inclusive:!1})}function _u(e,t){return new Rx({check:"less_than",...ce(t),value:e,inclusive:!0})}function Jm(e,t){return new Mx({check:"greater_than",...ce(t),value:e,inclusive:!1})}function xu(e,t){return new Mx({check:"greater_than",...ce(t),value:e,inclusive:!0})}function Xm(e,t){return new gN({check:"multiple_of",...ce(t),value:e})}function Vx(e,t){return new wN({check:"max_length",...ce(t),maximum:e})}function mc(e,t){return new _N({check:"min_length",...ce(t),minimum:e})}function Bx(e,t){return new xN({check:"length_equals",...ce(t),length:e})}function oC(e,t){return new SN({check:"string_format",format:"regex",...ce(t),pattern:e})}function sC(e){return new PN({check:"string_format",format:"lowercase",...ce(e)})}function cC(e){return new $N({check:"string_format",format:"uppercase",...ce(e)})}function lC(e,t){return new kN({check:"string_format",format:"includes",...ce(t),includes:e})}function uC(e,t){return new EN({check:"string_format",format:"starts_with",...ce(t),prefix:e})}function dC(e,t){return new ON({check:"string_format",format:"ends_with",...ce(t),suffix:e})}function Va(e){return new jN({check:"overwrite",tx:e})}function fC(e){return Va(t=>t.normalize(e))}function hC(){return Va(e=>e.trim())}function pC(){return Va(e=>e.toLowerCase())}function mC(){return Va(e=>e.toUpperCase())}function vC(){return Va(e=>Sj(e))}function yC(e,t,r){return new e({type:"array",element:t,...ce(r)})}function gC(e,t,r){const n=ce(r);return n.abort??(n.abort=!0),new e({type:"custom",check:"custom",fn:t,...n})}function bC(e,t,r){return new e({type:"custom",check:"custom",fn:t,...ce(r)})}function wC(e){const t=_C(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push($i(n,r.value,t._zod.def));else{const a=n;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=r.value),a.inst??(a.inst=t),a.continue??(a.continue=!t._zod.def.abort),r.issues.push($i(a))}},e(r.value,r)));return t}function _C(e,t){const r=new Bt({check:"custom",...ce(t)});return r._zod.check=e,r}function Kx(e){let t=e?.target??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??yi,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function Qe(e,t,r={path:[],schemaPath:[]}){var n;const a=e._zod.def,i=t.seen.get(e);if(i)return i.count++,r.schemaPath.includes(e)&&(i.cycle=r.path),i.schema;const o={schema:{},count:1,cycle:void 0,path:r.path};t.seen.set(e,o);const s=e._zod.toJSONSchema?.();if(s)o.schema=s;else{const u={...r,schemaPath:[...r.schemaPath,e],path:r.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,o.schema,u);else{const h=o.schema,p=t.processors[a.type];if(!p)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${a.type}`);p(e,t,h,u)}const d=e._zod.parent;d&&(o.ref||(o.ref=d),Qe(d,t,u),t.seen.get(d).isParent=!0)}const c=t.metadataRegistry.get(e);return c&&Object.assign(o.schema,c),t.io==="input"&&At(e)&&(delete o.schema.examples,delete o.schema.default),t.io==="input"&&o.schema._prefault&&((n=o.schema).default??(n.default=o.schema._prefault)),delete o.schema._prefault,t.seen.get(e).schema}function Wx(e,t){const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=new Map;for(const o of e.seen.entries()){const s=e.metadataRegistry.get(o[0])?.id;if(s){const c=n.get(s);if(c&&c!==o[0])throw new Error(`Duplicate schema id "${s}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);n.set(s,o[0])}}const a=o=>{const s=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const d=e.external.registry.get(o[0])?.id,h=e.external.uri??(v=>v);if(d)return{ref:h(d)};const p=o[1].defId??o[1].schema.id??`schema${e.counter++}`;return o[1].defId=p,{defId:p,ref:`${h("__shared")}#/${s}/${p}`}}if(o[1]===r)return{ref:"#"};const l=`#/${s}/`,u=o[1].schema.id??`__schema${e.counter++}`;return{defId:u,ref:l+u}},i=o=>{if(o[1].schema.$ref)return;const s=o[1],{ref:c,defId:l}=a(o);s.def={...s.schema},l&&(s.defId=l);const u=s.schema;for(const d in u)delete u[d];u.$ref=c};if(e.cycles==="throw")for(const o of e.seen.entries()){const s=o[1];if(s.cycle)throw new Error(`Cycle detected: #/${s.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const o of e.seen.entries()){const s=o[1];if(t===o[0]){i(o);continue}if(e.external){const l=e.external.registry.get(o[0])?.id;if(t!==o[0]&&l){i(o);continue}}if(e.metadataRegistry.get(o[0])?.id){i(o);continue}if(s.cycle){i(o);continue}if(s.count>1&&e.reused==="ref"){i(o);continue}}}function Hx(e,t){const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=o=>{const s=e.seen.get(o);if(s.ref===null)return;const c=s.def??s.schema,l={...c},u=s.ref;if(s.ref=null,u){n(u);const h=e.seen.get(u),p=h.schema;if(p.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(c.allOf=c.allOf??[],c.allOf.push(p)):Object.assign(c,p),Object.assign(c,l),o._zod.parent===u)for(const w in c)w==="$ref"||w==="allOf"||w in l||delete c[w];if(p.$ref&&h.def)for(const w in c)w==="$ref"||w==="allOf"||w in h.def&&JSON.stringify(c[w])===JSON.stringify(h.def[w])&&delete c[w]}const d=o._zod.parent;if(d&&d!==u){n(d);const h=e.seen.get(d);if(h?.schema.$ref&&(c.$ref=h.schema.$ref,h.def))for(const p in c)p==="$ref"||p==="allOf"||p in h.def&&JSON.stringify(c[p])===JSON.stringify(h.def[p])&&delete c[p]}e.override({zodSchema:o,jsonSchema:c,path:s.path??[]})};for(const o of[...e.seen.entries()].reverse())n(o[0]);const a={};if(e.target==="draft-2020-12"?a.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?a.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?a.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const o=e.external.registry.get(t)?.id;if(!o)throw new Error("Schema is missing an `id` property");a.$id=e.external.uri(o)}Object.assign(a,r.def??r.schema);const i=e.external?.defs??{};for(const o of e.seen.entries()){const s=o[1];s.def&&s.defId&&(i[s.defId]=s.def)}e.external||Object.keys(i).length>0&&(e.target==="draft-2020-12"?a.$defs=i:a.definitions=i);try{const o=JSON.parse(JSON.stringify(a));return Object.defineProperty(o,"~standard",{value:{...t["~standard"],jsonSchema:{input:vc(t,"input",e.processors),output:vc(t,"output",e.processors)}},enumerable:!1,writable:!1}),o}catch{throw new Error("Error converting schema to JSON.")}}function At(e,t){const r=t??{seen:new Set};if(r.seen.has(e))return!1;r.seen.add(e);const n=e._zod.def;if(n.type==="transform")return!0;if(n.type==="array")return At(n.element,r);if(n.type==="set")return At(n.valueType,r);if(n.type==="lazy")return At(n.getter(),r);if(n.type==="promise"||n.type==="optional"||n.type==="nonoptional"||n.type==="nullable"||n.type==="readonly"||n.type==="default"||n.type==="prefault")return At(n.innerType,r);if(n.type==="intersection")return At(n.left,r)||At(n.right,r);if(n.type==="record"||n.type==="map")return At(n.keyType,r)||At(n.valueType,r);if(n.type==="pipe")return At(n.in,r)||At(n.out,r);if(n.type==="object"){for(const a in n.shape)if(At(n.shape[a],r))return!0;return!1}if(n.type==="union"){for(const a of n.options)if(At(a,r))return!0;return!1}if(n.type==="tuple"){for(const a of n.items)if(At(a,r))return!0;return!!(n.rest&&At(n.rest,r))}return!1}const xC=(e,t={})=>r=>{const n=Kx({...r,processors:t});return Qe(e,n),Wx(n,e),Hx(n,e)},vc=(e,t,r={})=>n=>{const{libraryOptions:a,target:i}=n??{},o=Kx({...a??{},target:i,io:t,processors:r});return Qe(e,o),Wx(o,e),Hx(o,e)},SC={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},PC=(e,t,r,n)=>{const a=r;a.type="string";const{minimum:i,maximum:o,format:s,patterns:c,contentEncoding:l}=e._zod.bag;if(typeof i=="number"&&(a.minLength=i),typeof o=="number"&&(a.maxLength=o),s&&(a.format=SC[s]??s,a.format===""&&delete a.format,s==="time"&&delete a.format),l&&(a.contentEncoding=l),c&&c.size>0){const u=[...c];u.length===1?a.pattern=u[0].source:u.length>1&&(a.allOf=[...u.map(d=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:d.source}))])}},$C=(e,t,r,n)=>{const a=r,{minimum:i,maximum:o,format:s,multipleOf:c,exclusiveMaximum:l,exclusiveMinimum:u}=e._zod.bag;typeof s=="string"&&s.includes("int")?a.type="integer":a.type="number",typeof u=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(a.minimum=u,a.exclusiveMinimum=!0):a.exclusiveMinimum=u),typeof i=="number"&&(a.minimum=i,typeof u=="number"&&t.target!=="draft-04"&&(u>=i?delete a.minimum:delete a.exclusiveMinimum)),typeof l=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(a.maximum=l,a.exclusiveMaximum=!0):a.exclusiveMaximum=l),typeof o=="number"&&(a.maximum=o,typeof l=="number"&&t.target!=="draft-04"&&(l<=o?delete a.maximum:delete a.exclusiveMaximum)),typeof c=="number"&&(a.multipleOf=c)},kC=(e,t,r,n)=>{r.type="boolean"},EC=(e,t,r,n)=>{t.target==="openapi-3.0"?(r.type="string",r.nullable=!0,r.enum=[null]):r.type="null"},OC=(e,t,r,n)=>{r.not={}},jC=(e,t,r,n)=>{},NC=(e,t,r,n)=>{const a=e._zod.def,i=Sx(a.entries);i.every(o=>typeof o=="number")&&(r.type="number"),i.every(o=>typeof o=="string")&&(r.type="string"),r.enum=i},TC=(e,t,r,n)=>{const a=e._zod.def,i=[];for(const o of a.values)if(o===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof o=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");i.push(Number(o))}else i.push(o);if(i.length!==0)if(i.length===1){const o=i[0];r.type=o===null?"null":typeof o,t.target==="draft-04"||t.target==="openapi-3.0"?r.enum=[o]:r.const=o}else i.every(o=>typeof o=="number")&&(r.type="number"),i.every(o=>typeof o=="string")&&(r.type="string"),i.every(o=>typeof o=="boolean")&&(r.type="boolean"),i.every(o=>o===null)&&(r.type="null"),r.enum=i},CC=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},AC=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},IC=(e,t,r,n)=>{const a=r,i=e._zod.def,{minimum:o,maximum:s}=e._zod.bag;typeof o=="number"&&(a.minItems=o),typeof s=="number"&&(a.maxItems=s),a.type="array",a.items=Qe(i.element,t,{...n,path:[...n.path,"items"]})},RC=(e,t,r,n)=>{const a=r,i=e._zod.def;a.type="object",a.properties={};const o=i.shape;for(const l in o)a.properties[l]=Qe(o[l],t,{...n,path:[...n.path,"properties",l]});const s=new Set(Object.keys(o)),c=new Set([...s].filter(l=>{const u=i.shape[l]._zod;return t.io==="input"?u.optin===void 0:u.optout===void 0}));c.size>0&&(a.required=Array.from(c)),i.catchall?._zod.def.type==="never"?a.additionalProperties=!1:i.catchall?i.catchall&&(a.additionalProperties=Qe(i.catchall,t,{...n,path:[...n.path,"additionalProperties"]})):t.io==="output"&&(a.additionalProperties=!1)},MC=(e,t,r,n)=>{const a=e._zod.def,i=a.inclusive===!1,o=a.options.map((s,c)=>Qe(s,t,{...n,path:[...n.path,i?"oneOf":"anyOf",c]}));i?r.oneOf=o:r.anyOf=o},DC=(e,t,r,n)=>{const a=e._zod.def,i=Qe(a.left,t,{...n,path:[...n.path,"allOf",0]}),o=Qe(a.right,t,{...n,path:[...n.path,"allOf",1]}),s=l=>"allOf"in l&&Object.keys(l).length===1,c=[...s(i)?i.allOf:[i],...s(o)?o.allOf:[o]];r.allOf=c},zC=(e,t,r,n)=>{const a=r,i=e._zod.def;a.type="object";const o=i.keyType,c=o._zod.bag?.patterns;if(i.mode==="loose"&&c&&c.size>0){const u=Qe(i.valueType,t,{...n,path:[...n.path,"patternProperties","*"]});a.patternProperties={};for(const d of c)a.patternProperties[d.source]=u}else(t.target==="draft-07"||t.target==="draft-2020-12")&&(a.propertyNames=Qe(i.keyType,t,{...n,path:[...n.path,"propertyNames"]})),a.additionalProperties=Qe(i.valueType,t,{...n,path:[...n.path,"additionalProperties"]});const l=o._zod.values;if(l){const u=[...l].filter(d=>typeof d=="string"||typeof d=="number");u.length>0&&(a.required=u)}},LC=(e,t,r,n)=>{const a=e._zod.def,i=Qe(a.innerType,t,n),o=t.seen.get(e);t.target==="openapi-3.0"?(o.ref=a.innerType,r.nullable=!0):r.anyOf=[i,{type:"null"}]},qC=(e,t,r,n)=>{const a=e._zod.def;Qe(a.innerType,t,n);const i=t.seen.get(e);i.ref=a.innerType},FC=(e,t,r,n)=>{const a=e._zod.def;Qe(a.innerType,t,n);const i=t.seen.get(e);i.ref=a.innerType,r.default=JSON.parse(JSON.stringify(a.defaultValue))},UC=(e,t,r,n)=>{const a=e._zod.def;Qe(a.innerType,t,n);const i=t.seen.get(e);i.ref=a.innerType,t.io==="input"&&(r._prefault=JSON.parse(JSON.stringify(a.defaultValue)))},VC=(e,t,r,n)=>{const a=e._zod.def;Qe(a.innerType,t,n);const i=t.seen.get(e);i.ref=a.innerType;let o;try{o=a.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}r.default=o},BC=(e,t,r,n)=>{const a=e._zod.def,i=t.io==="input"?a.in._zod.def.type==="transform"?a.out:a.in:a.out;Qe(i,t,n);const o=t.seen.get(e);o.ref=i},KC=(e,t,r,n)=>{const a=e._zod.def;Qe(a.innerType,t,n);const i=t.seen.get(e);i.ref=a.innerType,r.readOnly=!0},Zx=(e,t,r,n)=>{const a=e._zod.def;Qe(a.innerType,t,n);const i=t.seen.get(e);i.ref=a.innerType};function gl(e){return!!e._zod}function gn(e,t){return gl(e)?jx(e,t):e.safeParse(t)}function Gx(e){if(!e)return;let t;if(gl(e)?t=e._zod?.def?.shape:t=e.shape,!!t){if(typeof t=="function")try{return t()}catch{return}return t}}function WC(e){if(gl(e)){const i=e._zod?.def;if(i){if(i.value!==void 0)return i.value;if(Array.isArray(i.values)&&i.values.length>0)return i.values[0]}}const r=e._def;if(r){if(r.value!==void 0)return r.value;if(Array.isArray(r.values)&&r.values.length>0)return r.values[0]}const n=e.value;if(n!==void 0)return n}const HC=J("ZodISODateTime",(e,t)=>{VN.init(e,t),Ze.init(e,t)});function Yx(e){return YT(HC,e)}const ZC=J("ZodISODate",(e,t)=>{BN.init(e,t),Ze.init(e,t)});function GC(e){return JT(ZC,e)}const YC=J("ZodISOTime",(e,t)=>{KN.init(e,t),Ze.init(e,t)});function JC(e){return XT(YC,e)}const XC=J("ZodISODuration",(e,t)=>{WN.init(e,t),Ze.init(e,t)});function QC(e){return QT(XC,e)}const eA=(e,t)=>{Ex.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>Mj(e,r)},flatten:{value:r=>Rj(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,_f,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,_f,2)}},isEmpty:{get(){return e.issues.length===0}}})},lr=J("ZodError",eA,{Parent:Error}),tA=$h(lr),rA=kh(lr),nA=ml(lr),aA=vl(lr),iA=zj(lr),oA=Lj(lr),sA=qj(lr),cA=Fj(lr),lA=Uj(lr),uA=Vj(lr),dA=Bj(lr),fA=Kj(lr),Be=J("ZodType",(e,t)=>(Ue.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:vc(e,"input"),output:vc(e,"output")}}),e.toJSONSchema=xC(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(On(t,{checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),{parent:!0}),e.with=e.check,e.clone=(r,n)=>jn(e,r,n),e.brand=()=>e,e.register=((r,n)=>(r.add(e,n),e)),e.parse=(r,n)=>tA(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>nA(e,r,n),e.parseAsync=async(r,n)=>rA(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>aA(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>iA(e,r,n),e.decode=(r,n)=>oA(e,r,n),e.encodeAsync=async(r,n)=>sA(e,r,n),e.decodeAsync=async(r,n)=>cA(e,r,n),e.safeEncode=(r,n)=>lA(e,r,n),e.safeDecode=(r,n)=>uA(e,r,n),e.safeEncodeAsync=async(r,n)=>dA(e,r,n),e.safeDecodeAsync=async(r,n)=>fA(e,r,n),e.refine=(r,n)=>e.check(nI(r,n)),e.superRefine=r=>e.check(aI(r)),e.overwrite=r=>e.check(Va(r)),e.optional=()=>Xe(e),e.exactOptional=()=>BA(e),e.nullable=()=>tv(e),e.nullish=()=>Xe(tv(e)),e.nonoptional=r=>YA(e,r),e.array=()=>Pe(e),e.or=r=>Le([e,r]),e.and=r=>Oh(e,r),e.transform=r=>Pf(e,nS(r)),e.default=r=>HA(e,r),e.prefault=r=>GA(e,r),e.catch=r=>XA(e,r),e.pipe=r=>Pf(e,r),e.readonly=()=>tI(e),e.describe=r=>{const n=e.clone();return yi.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){return yi.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return yi.get(e);const n=e.clone();return yi.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=r=>r(e),e)),Jx=J("_ZodString",(e,t)=>{Eh.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(n,a,i)=>PC(e,n,a);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(oC(...n)),e.includes=(...n)=>e.check(lC(...n)),e.startsWith=(...n)=>e.check(uC(...n)),e.endsWith=(...n)=>e.check(dC(...n)),e.min=(...n)=>e.check(mc(...n)),e.max=(...n)=>e.check(Vx(...n)),e.length=(...n)=>e.check(Bx(...n)),e.nonempty=(...n)=>e.check(mc(1,...n)),e.lowercase=n=>e.check(sC(n)),e.uppercase=n=>e.check(cC(n)),e.trim=()=>e.check(hC()),e.normalize=(...n)=>e.check(fC(...n)),e.toLowerCase=()=>e.check(pC()),e.toUpperCase=()=>e.check(mC()),e.slugify=()=>e.check(vC())}),hA=J("ZodString",(e,t)=>{Eh.init(e,t),Jx.init(e,t),e.email=r=>e.check(jT(pA,r)),e.url=r=>e.check(IT(mA,r)),e.jwt=r=>e.check(GT(NA,r)),e.emoji=r=>e.check(RT(vA,r)),e.guid=r=>e.check(Gm(Qm,r)),e.uuid=r=>e.check(NT(yo,r)),e.uuidv4=r=>e.check(TT(yo,r)),e.uuidv6=r=>e.check(CT(yo,r)),e.uuidv7=r=>e.check(AT(yo,r)),e.nanoid=r=>e.check(MT(yA,r)),e.guid=r=>e.check(Gm(Qm,r)),e.cuid=r=>e.check(DT(gA,r)),e.cuid2=r=>e.check(zT(bA,r)),e.ulid=r=>e.check(LT(wA,r)),e.base64=r=>e.check(WT(EA,r)),e.base64url=r=>e.check(HT(OA,r)),e.xid=r=>e.check(qT(_A,r)),e.ksuid=r=>e.check(FT(xA,r)),e.ipv4=r=>e.check(UT(SA,r)),e.ipv6=r=>e.check(VT(PA,r)),e.cidrv4=r=>e.check(BT($A,r)),e.cidrv6=r=>e.check(KT(kA,r)),e.e164=r=>e.check(ZT(jA,r)),e.datetime=r=>e.check(Yx(r)),e.date=r=>e.check(GC(r)),e.time=r=>e.check(JC(r)),e.duration=r=>e.check(QC(r))});function G(e){return OT(hA,e)}const Ze=J("ZodStringFormat",(e,t)=>{Ve.init(e,t),Jx.init(e,t)}),pA=J("ZodEmail",(e,t)=>{IN.init(e,t),Ze.init(e,t)}),Qm=J("ZodGUID",(e,t)=>{CN.init(e,t),Ze.init(e,t)}),yo=J("ZodUUID",(e,t)=>{AN.init(e,t),Ze.init(e,t)}),mA=J("ZodURL",(e,t)=>{RN.init(e,t),Ze.init(e,t)}),vA=J("ZodEmoji",(e,t)=>{MN.init(e,t),Ze.init(e,t)}),yA=J("ZodNanoID",(e,t)=>{DN.init(e,t),Ze.init(e,t)}),gA=J("ZodCUID",(e,t)=>{zN.init(e,t),Ze.init(e,t)}),bA=J("ZodCUID2",(e,t)=>{LN.init(e,t),Ze.init(e,t)}),wA=J("ZodULID",(e,t)=>{qN.init(e,t),Ze.init(e,t)}),_A=J("ZodXID",(e,t)=>{FN.init(e,t),Ze.init(e,t)}),xA=J("ZodKSUID",(e,t)=>{UN.init(e,t),Ze.init(e,t)}),SA=J("ZodIPv4",(e,t)=>{HN.init(e,t),Ze.init(e,t)}),PA=J("ZodIPv6",(e,t)=>{ZN.init(e,t),Ze.init(e,t)}),$A=J("ZodCIDRv4",(e,t)=>{GN.init(e,t),Ze.init(e,t)}),kA=J("ZodCIDRv6",(e,t)=>{YN.init(e,t),Ze.init(e,t)}),EA=J("ZodBase64",(e,t)=>{JN.init(e,t),Ze.init(e,t)}),OA=J("ZodBase64URL",(e,t)=>{QN.init(e,t),Ze.init(e,t)}),jA=J("ZodE164",(e,t)=>{eT.init(e,t),Ze.init(e,t)}),NA=J("ZodJWT",(e,t)=>{rT.init(e,t),Ze.init(e,t)}),Xx=J("ZodNumber",(e,t)=>{zx.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(n,a,i)=>$C(e,n,a),e.gt=(n,a)=>e.check(Jm(n,a)),e.gte=(n,a)=>e.check(xu(n,a)),e.min=(n,a)=>e.check(xu(n,a)),e.lt=(n,a)=>e.check(Ym(n,a)),e.lte=(n,a)=>e.check(_u(n,a)),e.max=(n,a)=>e.check(_u(n,a)),e.int=n=>e.check(ev(n)),e.safe=n=>e.check(ev(n)),e.positive=n=>e.check(Jm(0,n)),e.nonnegative=n=>e.check(xu(0,n)),e.negative=n=>e.check(Ym(0,n)),e.nonpositive=n=>e.check(_u(0,n)),e.multipleOf=(n,a)=>e.check(Xm(n,a)),e.step=(n,a)=>e.check(Xm(n,a)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function Re(e){return eC(Xx,e)}const TA=J("ZodNumberFormat",(e,t)=>{nT.init(e,t),Xx.init(e,t)});function ev(e){return tC(TA,e)}const CA=J("ZodBoolean",(e,t)=>{aT.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(r,n,a)=>kC(e,r,n)});function gt(e){return rC(CA,e)}const AA=J("ZodNull",(e,t)=>{iT.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(r,n,a)=>EC(e,r,n)});function Qx(e){return nC(AA,e)}const IA=J("ZodUnknown",(e,t)=>{oT.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(r,n,a)=>jC()});function We(){return aC(IA)}const RA=J("ZodNever",(e,t)=>{sT.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(r,n,a)=>OC(e,r,n)});function MA(e){return iC(RA,e)}const DA=J("ZodArray",(e,t)=>{cT.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(r,n,a)=>IC(e,r,n,a),e.element=t.element,e.min=(r,n)=>e.check(mc(r,n)),e.nonempty=r=>e.check(mc(1,r)),e.max=(r,n)=>e.check(Vx(r,n)),e.length=(r,n)=>e.check(Bx(r,n)),e.unwrap=()=>e.element});function Pe(e,t){return yC(DA,e,t)}const eS=J("ZodObject",(e,t)=>{uT.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(r,n,a)=>RC(e,r,n,a),Te(e,"shape",()=>t.shape),e.keyof=()=>Qt(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:We()}),e.loose=()=>e.clone({...e._zod.def,catchall:We()}),e.strict=()=>e.clone({...e._zod.def,catchall:MA()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>Nj(e,r),e.safeExtend=r=>Tj(e,r),e.merge=r=>Cj(e,r),e.pick=r=>Oj(e,r),e.omit=r=>jj(e,r),e.partial=(...r)=>Aj(aS,e,r[0]),e.required=(...r)=>Ij(iS,e,r[0])});function re(e,t){const r={type:"object",shape:e??{},...ce(t)};return new eS(r)}function Ft(e,t){return new eS({type:"object",shape:e,catchall:We(),...ce(t)})}const tS=J("ZodUnion",(e,t)=>{Fx.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(r,n,a)=>MC(e,r,n,a),e.options=t.options});function Le(e,t){return new tS({type:"union",options:e,...ce(t)})}const zA=J("ZodDiscriminatedUnion",(e,t)=>{tS.init(e,t),dT.init(e,t)});function rS(e,t,r){return new zA({type:"union",options:t,discriminator:e,...ce(r)})}const LA=J("ZodIntersection",(e,t)=>{fT.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(r,n,a)=>DC(e,r,n,a)});function Oh(e,t){return new LA({type:"intersection",left:e,right:t})}const qA=J("ZodRecord",(e,t)=>{hT.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(r,n,a)=>zC(e,r,n,a),e.keyType=t.keyType,e.valueType=t.valueType});function He(e,t,r){return new qA({type:"record",keyType:e,valueType:t,...ce(r)})}const Sf=J("ZodEnum",(e,t)=>{pT.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(n,a,i)=>NC(e,n,a),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,a)=>{const i={};for(const o of n)if(r.has(o))i[o]=t.entries[o];else throw new Error(`Key ${o} not found in enum`);return new Sf({...t,checks:[],...ce(a),entries:i})},e.exclude=(n,a)=>{const i={...t.entries};for(const o of n)if(r.has(o))delete i[o];else throw new Error(`Key ${o} not found in enum`);return new Sf({...t,checks:[],...ce(a),entries:i})}});function Qt(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new Sf({type:"enum",entries:r,...ce(t)})}const FA=J("ZodLiteral",(e,t)=>{mT.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(r,n,a)=>TC(e,r,n),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function le(e,t){return new FA({type:"literal",values:Array.isArray(e)?e:[e],...ce(t)})}const UA=J("ZodTransform",(e,t)=>{vT.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(r,n,a)=>AC(e,r),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new _x(e.constructor.name);r.addIssue=i=>{if(typeof i=="string")r.issues.push($i(i,r.value,t));else{const o=i;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=r.value),o.inst??(o.inst=e),r.issues.push($i(o))}};const a=t.transform(r.value,r);return a instanceof Promise?a.then(i=>(r.value=i,r)):(r.value=a,r)}});function nS(e){return new UA({type:"transform",transform:e})}const aS=J("ZodOptional",(e,t)=>{Ux.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(r,n,a)=>Zx(e,r,n,a),e.unwrap=()=>e._zod.def.innerType});function Xe(e){return new aS({type:"optional",innerType:e})}const VA=J("ZodExactOptional",(e,t)=>{yT.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(r,n,a)=>Zx(e,r,n,a),e.unwrap=()=>e._zod.def.innerType});function BA(e){return new VA({type:"optional",innerType:e})}const KA=J("ZodNullable",(e,t)=>{gT.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(r,n,a)=>LC(e,r,n,a),e.unwrap=()=>e._zod.def.innerType});function tv(e){return new KA({type:"nullable",innerType:e})}const WA=J("ZodDefault",(e,t)=>{bT.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(r,n,a)=>FC(e,r,n,a),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function HA(e,t){return new WA({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():$x(t)}})}const ZA=J("ZodPrefault",(e,t)=>{wT.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(r,n,a)=>UC(e,r,n,a),e.unwrap=()=>e._zod.def.innerType});function GA(e,t){return new ZA({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():$x(t)}})}const iS=J("ZodNonOptional",(e,t)=>{_T.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(r,n,a)=>qC(e,r,n,a),e.unwrap=()=>e._zod.def.innerType});function YA(e,t){return new iS({type:"nonoptional",innerType:e,...ce(t)})}const JA=J("ZodCatch",(e,t)=>{xT.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(r,n,a)=>VC(e,r,n,a),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function XA(e,t){return new JA({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const QA=J("ZodPipe",(e,t)=>{ST.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(r,n,a)=>BC(e,r,n,a),e.in=t.in,e.out=t.out});function Pf(e,t){return new QA({type:"pipe",in:e,out:t})}const eI=J("ZodReadonly",(e,t)=>{PT.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(r,n,a)=>KC(e,r,n,a),e.unwrap=()=>e._zod.def.innerType});function tI(e){return new eI({type:"readonly",innerType:e})}const oS=J("ZodCustom",(e,t)=>{$T.init(e,t),Be.init(e,t),e._zod.processJSONSchema=(r,n,a)=>CC(e,r)});function rI(e,t){return gC(oS,e??(()=>!0),t)}function nI(e,t={}){return bC(oS,e,t)}function aI(e){return wC(e)}function sS(e,t){return Pf(nS(e),t)}const cS="2025-11-25",iI=[cS,"2025-06-18","2025-03-26","2024-11-05","2024-10-07"],Bn="io.modelcontextprotocol/related-task",bl="2.0",bt=rI(e=>e!==null&&(typeof e=="object"||typeof e=="function")),lS=Le([G(),Re().int()]),uS=G();Ft({ttl:Le([Re(),Qx()]).optional(),pollInterval:Re().optional()});const oI=re({ttl:Re().optional()}),sI=re({taskId:G()}),jh=Ft({progressToken:lS.optional(),[Bn]:sI.optional()}),er=re({_meta:jh.optional()}),Vi=er.extend({task:oI.optional()}),cI=e=>Vi.safeParse(e).success,St=re({method:G(),params:er.loose().optional()}),ur=re({_meta:jh.optional()}),dr=re({method:G(),params:ur.loose().optional()}),Pt=Ft({_meta:jh.optional()}),wl=Le([G(),Re().int()]),dS=re({jsonrpc:le(bl),id:wl,...St.shape}).strict(),rv=e=>dS.safeParse(e).success,fS=re({jsonrpc:le(bl),...dr.shape}).strict(),lI=e=>fS.safeParse(e).success,Nh=re({jsonrpc:le(bl),id:wl,result:Pt}).strict(),go=e=>Nh.safeParse(e).success;var me;(function(e){e[e.ConnectionClosed=-32e3]="ConnectionClosed",e[e.RequestTimeout=-32001]="RequestTimeout",e[e.ParseError=-32700]="ParseError",e[e.InvalidRequest=-32600]="InvalidRequest",e[e.MethodNotFound=-32601]="MethodNotFound",e[e.InvalidParams=-32602]="InvalidParams",e[e.InternalError=-32603]="InternalError",e[e.UrlElicitationRequired=-32042]="UrlElicitationRequired"})(me||(me={}));const Th=re({jsonrpc:le(bl),id:wl.optional(),error:re({code:Re().int(),message:G(),data:We().optional()})}).strict(),uI=e=>Th.safeParse(e).success;Le([dS,fS,Nh,Th]);Le([Nh,Th]);const $a=Pt.strict(),dI=ur.extend({requestId:wl.optional(),reason:G().optional()}),Ch=dr.extend({method:le("notifications/cancelled"),params:dI}),fI=re({src:G(),mimeType:G().optional(),sizes:Pe(G()).optional(),theme:Qt(["light","dark"]).optional()}),Bi=re({icons:Pe(fI).optional()}),Ra=re({name:G(),title:G().optional()}),hS=Ra.extend({...Ra.shape,...Bi.shape,version:G(),websiteUrl:G().optional(),description:G().optional()}),hI=Oh(re({applyDefaults:gt().optional()}),He(G(),We())),pI=sS(e=>e&&typeof e=="object"&&!Array.isArray(e)&&Object.keys(e).length===0?{form:{}}:e,Oh(re({form:hI.optional(),url:bt.optional()}),He(G(),We()).optional())),mI=Ft({list:bt.optional(),cancel:bt.optional(),requests:Ft({sampling:Ft({createMessage:bt.optional()}).optional(),elicitation:Ft({create:bt.optional()}).optional()}).optional()}),vI=Ft({list:bt.optional(),cancel:bt.optional(),requests:Ft({tools:Ft({call:bt.optional()}).optional()}).optional()}),yI=re({experimental:He(G(),bt).optional(),sampling:re({context:bt.optional(),tools:bt.optional()}).optional(),elicitation:pI.optional(),roots:re({listChanged:gt().optional()}).optional(),tasks:mI.optional()}),gI=er.extend({protocolVersion:G(),capabilities:yI,clientInfo:hS}),bI=St.extend({method:le("initialize"),params:gI}),wI=re({experimental:He(G(),bt).optional(),logging:bt.optional(),completions:bt.optional(),prompts:re({listChanged:gt().optional()}).optional(),resources:re({subscribe:gt().optional(),listChanged:gt().optional()}).optional(),tools:re({listChanged:gt().optional()}).optional(),tasks:vI.optional()}),pS=Pt.extend({protocolVersion:G(),capabilities:wI,serverInfo:hS,instructions:G().optional()}),_I=dr.extend({method:le("notifications/initialized"),params:ur.optional()}),Ah=St.extend({method:le("ping"),params:er.optional()}),xI=re({progress:Re(),total:Xe(Re()),message:Xe(G())}),SI=re({...ur.shape,...xI.shape,progressToken:lS}),Ih=dr.extend({method:le("notifications/progress"),params:SI}),PI=er.extend({cursor:uS.optional()}),Ki=St.extend({params:PI.optional()}),Wi=Pt.extend({nextCursor:uS.optional()}),$I=Qt(["working","input_required","completed","failed","cancelled"]),Hi=re({taskId:G(),status:$I,ttl:Le([Re(),Qx()]),createdAt:G(),lastUpdatedAt:G(),pollInterval:Xe(Re()),statusMessage:Xe(G())}),ki=Pt.extend({task:Hi}),kI=ur.merge(Hi),yc=dr.extend({method:le("notifications/tasks/status"),params:kI}),Rh=St.extend({method:le("tasks/get"),params:er.extend({taskId:G()})}),Mh=Pt.merge(Hi),Dh=St.extend({method:le("tasks/result"),params:er.extend({taskId:G()})});Pt.loose();const zh=Ki.extend({method:le("tasks/list")}),Lh=Wi.extend({tasks:Pe(Hi)}),qh=St.extend({method:le("tasks/cancel"),params:er.extend({taskId:G()})}),EI=Pt.merge(Hi),mS=re({uri:G(),mimeType:Xe(G()),_meta:He(G(),We()).optional()}),vS=mS.extend({text:G()}),Fh=G().refine(e=>{try{return atob(e),!0}catch{return!1}},{message:"Invalid Base64 string"}),yS=mS.extend({blob:Fh}),Zi=Qt(["user","assistant"]),Ba=re({audience:Pe(Zi).optional(),priority:Re().min(0).max(1).optional(),lastModified:Yx({offset:!0}).optional()}),gS=re({...Ra.shape,...Bi.shape,uri:G(),description:Xe(G()),mimeType:Xe(G()),annotations:Ba.optional(),_meta:Xe(Ft({}))}),OI=re({...Ra.shape,...Bi.shape,uriTemplate:G(),description:Xe(G()),mimeType:Xe(G()),annotations:Ba.optional(),_meta:Xe(Ft({}))}),jI=Ki.extend({method:le("resources/list")}),bS=Wi.extend({resources:Pe(gS)}),NI=Ki.extend({method:le("resources/templates/list")}),wS=Wi.extend({resourceTemplates:Pe(OI)}),Uh=er.extend({uri:G()}),TI=Uh,CI=St.extend({method:le("resources/read"),params:TI}),_S=Pt.extend({contents:Pe(Le([vS,yS]))}),xS=dr.extend({method:le("notifications/resources/list_changed"),params:ur.optional()}),AI=Uh,II=St.extend({method:le("resources/subscribe"),params:AI}),RI=Uh,MI=St.extend({method:le("resources/unsubscribe"),params:RI}),DI=ur.extend({uri:G()}),zI=dr.extend({method:le("notifications/resources/updated"),params:DI}),LI=re({name:G(),description:Xe(G()),required:Xe(gt())}),qI=re({...Ra.shape,...Bi.shape,description:Xe(G()),arguments:Xe(Pe(LI)),_meta:Xe(Ft({}))}),FI=Ki.extend({method:le("prompts/list")}),SS=Wi.extend({prompts:Pe(qI)}),UI=er.extend({name:G(),arguments:He(G(),G()).optional()}),VI=St.extend({method:le("prompts/get"),params:UI}),Vh=re({type:le("text"),text:G(),annotations:Ba.optional(),_meta:He(G(),We()).optional()}),Bh=re({type:le("image"),data:Fh,mimeType:G(),annotations:Ba.optional(),_meta:He(G(),We()).optional()}),Kh=re({type:le("audio"),data:Fh,mimeType:G(),annotations:Ba.optional(),_meta:He(G(),We()).optional()}),BI=re({type:le("tool_use"),name:G(),id:G(),input:He(G(),We()),_meta:He(G(),We()).optional()}),KI=re({type:le("resource"),resource:Le([vS,yS]),annotations:Ba.optional(),_meta:He(G(),We()).optional()}),WI=gS.extend({type:le("resource_link")}),Wh=Le([Vh,Bh,Kh,WI,KI]),HI=re({role:Zi,content:Wh}),PS=Pt.extend({description:G().optional(),messages:Pe(HI)}),$S=dr.extend({method:le("notifications/prompts/list_changed"),params:ur.optional()}),ZI=re({title:G().optional(),readOnlyHint:gt().optional(),destructiveHint:gt().optional(),idempotentHint:gt().optional(),openWorldHint:gt().optional()}),GI=re({taskSupport:Qt(["required","optional","forbidden"]).optional()}),kS=re({...Ra.shape,...Bi.shape,description:G().optional(),inputSchema:re({type:le("object"),properties:He(G(),bt).optional(),required:Pe(G()).optional()}).catchall(We()),outputSchema:re({type:le("object"),properties:He(G(),bt).optional(),required:Pe(G()).optional()}).catchall(We()).optional(),annotations:ZI.optional(),execution:GI.optional(),_meta:He(G(),We()).optional()}),YI=Ki.extend({method:le("tools/list")}),ES=Wi.extend({tools:Pe(kS)}),_l=Pt.extend({content:Pe(Wh).default([]),structuredContent:He(G(),We()).optional(),isError:gt().optional()});_l.or(Pt.extend({toolResult:We()}));const JI=Vi.extend({name:G(),arguments:He(G(),We()).optional()}),XI=St.extend({method:le("tools/call"),params:JI}),OS=dr.extend({method:le("notifications/tools/list_changed"),params:ur.optional()}),QI=re({autoRefresh:gt().default(!0),debounceMs:Re().int().nonnegative().default(300)}),jS=Qt(["debug","info","notice","warning","error","critical","alert","emergency"]),eR=er.extend({level:jS}),tR=St.extend({method:le("logging/setLevel"),params:eR}),rR=ur.extend({level:jS,logger:G().optional(),data:We()}),nR=dr.extend({method:le("notifications/message"),params:rR}),aR=re({name:G().optional()}),iR=re({hints:Pe(aR).optional(),costPriority:Re().min(0).max(1).optional(),speedPriority:Re().min(0).max(1).optional(),intelligencePriority:Re().min(0).max(1).optional()}),oR=re({mode:Qt(["auto","required","none"]).optional()}),sR=re({type:le("tool_result"),toolUseId:G().describe("The unique identifier for the corresponding tool call."),content:Pe(Wh).default([]),structuredContent:re({}).loose().optional(),isError:gt().optional(),_meta:He(G(),We()).optional()}),cR=rS("type",[Vh,Bh,Kh]),gc=rS("type",[Vh,Bh,Kh,BI,sR]),lR=re({role:Zi,content:Le([gc,Pe(gc)]),_meta:He(G(),We()).optional()}),uR=Vi.extend({messages:Pe(lR),modelPreferences:iR.optional(),systemPrompt:G().optional(),includeContext:Qt(["none","thisServer","allServers"]).optional(),temperature:Re().optional(),maxTokens:Re().int(),stopSequences:Pe(G()).optional(),metadata:bt.optional(),tools:Pe(kS).optional(),toolChoice:oR.optional()}),NS=St.extend({method:le("sampling/createMessage"),params:uR}),TS=Pt.extend({model:G(),stopReason:Xe(Qt(["endTurn","stopSequence","maxTokens"]).or(G())),role:Zi,content:cR}),CS=Pt.extend({model:G(),stopReason:Xe(Qt(["endTurn","stopSequence","maxTokens","toolUse"]).or(G())),role:Zi,content:Le([gc,Pe(gc)])}),dR=re({type:le("boolean"),title:G().optional(),description:G().optional(),default:gt().optional()}),fR=re({type:le("string"),title:G().optional(),description:G().optional(),minLength:Re().optional(),maxLength:Re().optional(),format:Qt(["email","uri","date","date-time"]).optional(),default:G().optional()}),hR=re({type:Qt(["number","integer"]),title:G().optional(),description:G().optional(),minimum:Re().optional(),maximum:Re().optional(),default:Re().optional()}),pR=re({type:le("string"),title:G().optional(),description:G().optional(),enum:Pe(G()),default:G().optional()}),mR=re({type:le("string"),title:G().optional(),description:G().optional(),oneOf:Pe(re({const:G(),title:G()})),default:G().optional()}),vR=re({type:le("string"),title:G().optional(),description:G().optional(),enum:Pe(G()),enumNames:Pe(G()).optional(),default:G().optional()}),yR=Le([pR,mR]),gR=re({type:le("array"),title:G().optional(),description:G().optional(),minItems:Re().optional(),maxItems:Re().optional(),items:re({type:le("string"),enum:Pe(G())}),default:Pe(G()).optional()}),bR=re({type:le("array"),title:G().optional(),description:G().optional(),minItems:Re().optional(),maxItems:Re().optional(),items:re({anyOf:Pe(re({const:G(),title:G()}))}),default:Pe(G()).optional()}),wR=Le([gR,bR]),_R=Le([vR,yR,wR]),xR=Le([_R,dR,fR,hR]),SR=Vi.extend({mode:le("form").optional(),message:G(),requestedSchema:re({type:le("object"),properties:He(G(),xR),required:Pe(G()).optional()})}),PR=Vi.extend({mode:le("url"),message:G(),elicitationId:G(),url:G().url()}),$R=Le([SR,PR]),AS=St.extend({method:le("elicitation/create"),params:$R}),kR=ur.extend({elicitationId:G()}),ER=dr.extend({method:le("notifications/elicitation/complete"),params:kR}),IS=Pt.extend({action:Qt(["accept","decline","cancel"]),content:sS(e=>e===null?void 0:e,He(G(),Le([G(),Re(),gt(),Pe(G())])).optional())}),OR=re({type:le("ref/resource"),uri:G()}),jR=re({type:le("ref/prompt"),name:G()}),NR=er.extend({ref:Le([jR,OR]),argument:re({name:G(),value:G()}),context:re({arguments:He(G(),G()).optional()}).optional()}),TR=St.extend({method:le("completion/complete"),params:NR}),RS=Pt.extend({completion:Ft({values:Pe(G()).max(100),total:Xe(Re().int()),hasMore:Xe(gt())})}),CR=re({uri:G().startsWith("file://"),name:G().optional(),_meta:He(G(),We()).optional()}),AR=St.extend({method:le("roots/list"),params:er.optional()}),IR=Pt.extend({roots:Pe(CR)}),RR=dr.extend({method:le("notifications/roots/list_changed"),params:ur.optional()});Le([Ah,bI,TR,tR,VI,FI,jI,NI,CI,II,MI,XI,YI,Rh,Dh,zh,qh]);Le([Ch,Ih,_I,RR,yc]);Le([$a,TS,CS,IS,IR,Mh,Lh,ki]);Le([Ah,NS,AS,AR,Rh,Dh,zh,qh]);Le([Ch,Ih,nR,zI,xS,OS,$S,yc,ER]);Le([$a,pS,RS,PS,SS,bS,wS,_S,_l,ES,Mh,Lh,ki]);class fe extends Error{constructor(t,r,n){super(`MCP error ${t}: ${r}`),this.code=t,this.data=n,this.name="McpError"}static fromError(t,r,n){if(t===me.UrlElicitationRequired&&n){const a=n;if(a.elicitations)return new MR(a.elicitations,r)}return new fe(t,r,n)}}class MR extends fe{constructor(t,r=`URL elicitation${t.length>1?"s":""} required`){super(me.UrlElicitationRequired,r,{elicitations:t})}get elicitations(){return this.data?.elicitations??[]}}function Mn(e){return e==="completed"||e==="failed"||e==="cancelled"}new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function nv(e){const r=Gx(e)?.method;if(!r)throw new Error("Schema is missing a method literal");const n=WC(r);if(typeof n!="string")throw new Error("Schema method literal must be a string");return n}function av(e,t){const r=gn(e,t);if(!r.success)throw r.error;return r.data}const DR=6e4;class zR{constructor(t){this._options=t,this._requestMessageId=0,this._requestHandlers=new Map,this._requestHandlerAbortControllers=new Map,this._notificationHandlers=new Map,this._responseHandlers=new Map,this._progressHandlers=new Map,this._timeoutInfo=new Map,this._pendingDebouncedNotifications=new Set,this._taskProgressTokens=new Map,this._requestResolvers=new Map,this.setNotificationHandler(Ch,r=>{this._oncancel(r)}),this.setNotificationHandler(Ih,r=>{this._onprogress(r)}),this.setRequestHandler(Ah,r=>({})),this._taskStore=t?.taskStore,this._taskMessageQueue=t?.taskMessageQueue,this._taskStore&&(this.setRequestHandler(Rh,async(r,n)=>{const a=await this._taskStore.getTask(r.params.taskId,n.sessionId);if(!a)throw new fe(me.InvalidParams,"Failed to retrieve task: Task not found");return{...a}}),this.setRequestHandler(Dh,async(r,n)=>{const a=async()=>{const i=r.params.taskId;if(this._taskMessageQueue){let s;for(;s=await this._taskMessageQueue.dequeue(i,n.sessionId);){if(s.type==="response"||s.type==="error"){const c=s.message,l=c.id,u=this._requestResolvers.get(l);if(u)if(this._requestResolvers.delete(l),s.type==="response")u(c);else{const d=c,h=new fe(d.error.code,d.error.message,d.error.data);u(h)}else{const d=s.type==="response"?"Response":"Error";this._onerror(new Error(`${d} handler missing for request ${l}`))}continue}await this._transport?.send(s.message,{relatedRequestId:n.requestId})}}const o=await this._taskStore.getTask(i,n.sessionId);if(!o)throw new fe(me.InvalidParams,`Task not found: ${i}`);if(!Mn(o.status))return await this._waitForTaskUpdate(i,n.signal),await a();if(Mn(o.status)){const s=await this._taskStore.getTaskResult(i,n.sessionId);return this._clearTaskQueue(i),{...s,_meta:{...s._meta,[Bn]:{taskId:i}}}}return await a()};return await a()}),this.setRequestHandler(zh,async(r,n)=>{try{const{tasks:a,nextCursor:i}=await this._taskStore.listTasks(r.params?.cursor,n.sessionId);return{tasks:a,nextCursor:i,_meta:{}}}catch(a){throw new fe(me.InvalidParams,`Failed to list tasks: ${a instanceof Error?a.message:String(a)}`)}}),this.setRequestHandler(qh,async(r,n)=>{try{const a=await this._taskStore.getTask(r.params.taskId,n.sessionId);if(!a)throw new fe(me.InvalidParams,`Task not found: ${r.params.taskId}`);if(Mn(a.status))throw new fe(me.InvalidParams,`Cannot cancel task in terminal status: ${a.status}`);await this._taskStore.updateTaskStatus(r.params.taskId,"cancelled","Client cancelled task execution.",n.sessionId),this._clearTaskQueue(r.params.taskId);const i=await this._taskStore.getTask(r.params.taskId,n.sessionId);if(!i)throw new fe(me.InvalidParams,`Task not found after cancellation: ${r.params.taskId}`);return{_meta:{},...i}}catch(a){throw a instanceof fe?a:new fe(me.InvalidRequest,`Failed to cancel task: ${a instanceof Error?a.message:String(a)}`)}}))}async _oncancel(t){if(!t.params.requestId)return;this._requestHandlerAbortControllers.get(t.params.requestId)?.abort(t.params.reason)}_setupTimeout(t,r,n,a,i=!1){this._timeoutInfo.set(t,{timeoutId:setTimeout(a,r),startTime:Date.now(),timeout:r,maxTotalTimeout:n,resetTimeoutOnProgress:i,onTimeout:a})}_resetTimeout(t){const r=this._timeoutInfo.get(t);if(!r)return!1;const n=Date.now()-r.startTime;if(r.maxTotalTimeout&&n>=r.maxTotalTimeout)throw this._timeoutInfo.delete(t),fe.fromError(me.RequestTimeout,"Maximum total timeout exceeded",{maxTotalTimeout:r.maxTotalTimeout,totalElapsed:n});return clearTimeout(r.timeoutId),r.timeoutId=setTimeout(r.onTimeout,r.timeout),!0}_cleanupTimeout(t){const r=this._timeoutInfo.get(t);r&&(clearTimeout(r.timeoutId),this._timeoutInfo.delete(t))}async connect(t){if(this._transport)throw new Error("Already connected to a transport. Call close() before connecting to a new transport, or use a separate Protocol instance per connection.");this._transport=t;const r=this.transport?.onclose;this._transport.onclose=()=>{r?.(),this._onclose()};const n=this.transport?.onerror;this._transport.onerror=i=>{n?.(i),this._onerror(i)};const a=this._transport?.onmessage;this._transport.onmessage=(i,o)=>{a?.(i,o),go(i)||uI(i)?this._onresponse(i):rv(i)?this._onrequest(i,o):lI(i)?this._onnotification(i):this._onerror(new Error(`Unknown message type: ${JSON.stringify(i)}`))},await this._transport.start()}_onclose(){const t=this._responseHandlers;this._responseHandlers=new Map,this._progressHandlers.clear(),this._taskProgressTokens.clear(),this._pendingDebouncedNotifications.clear();for(const n of this._requestHandlerAbortControllers.values())n.abort();this._requestHandlerAbortControllers.clear();const r=fe.fromError(me.ConnectionClosed,"Connection closed");this._transport=void 0,this.onclose?.();for(const n of t.values())n(r)}_onerror(t){this.onerror?.(t)}_onnotification(t){const r=this._notificationHandlers.get(t.method)??this.fallbackNotificationHandler;r!==void 0&&Promise.resolve().then(()=>r(t)).catch(n=>this._onerror(new Error(`Uncaught error in notification handler: ${n}`)))}_onrequest(t,r){const n=this._requestHandlers.get(t.method)??this.fallbackRequestHandler,a=this._transport,i=t.params?._meta?.[Bn]?.taskId;if(n===void 0){const u={jsonrpc:"2.0",id:t.id,error:{code:me.MethodNotFound,message:"Method not found"}};i&&this._taskMessageQueue?this._enqueueTaskMessage(i,{type:"error",message:u,timestamp:Date.now()},a?.sessionId).catch(d=>this._onerror(new Error(`Failed to enqueue error response: ${d}`))):a?.send(u).catch(d=>this._onerror(new Error(`Failed to send an error response: ${d}`)));return}const o=new AbortController;this._requestHandlerAbortControllers.set(t.id,o);const s=cI(t.params)?t.params.task:void 0,c=this._taskStore?this.requestTaskStore(t,a?.sessionId):void 0,l={signal:o.signal,sessionId:a?.sessionId,_meta:t.params?._meta,sendNotification:async u=>{if(o.signal.aborted)return;const d={relatedRequestId:t.id};i&&(d.relatedTask={taskId:i}),await this.notification(u,d)},sendRequest:async(u,d,h)=>{if(o.signal.aborted)throw new fe(me.ConnectionClosed,"Request was cancelled");const p={...h,relatedRequestId:t.id};i&&!p.relatedTask&&(p.relatedTask={taskId:i});const v=p.relatedTask?.taskId??i;return v&&c&&await c.updateTaskStatus(v,"input_required"),await this.request(u,d,p)},authInfo:r?.authInfo,requestId:t.id,requestInfo:r?.requestInfo,taskId:i,taskStore:c,taskRequestedTtl:s?.ttl,closeSSEStream:r?.closeSSEStream,closeStandaloneSSEStream:r?.closeStandaloneSSEStream};Promise.resolve().then(()=>{s&&this.assertTaskHandlerCapability(t.method)}).then(()=>n(t,l)).then(async u=>{if(o.signal.aborted)return;const d={result:u,jsonrpc:"2.0",id:t.id};i&&this._taskMessageQueue?await this._enqueueTaskMessage(i,{type:"response",message:d,timestamp:Date.now()},a?.sessionId):await a?.send(d)},async u=>{if(o.signal.aborted)return;const d={jsonrpc:"2.0",id:t.id,error:{code:Number.isSafeInteger(u.code)?u.code:me.InternalError,message:u.message??"Internal error",...u.data!==void 0&&{data:u.data}}};i&&this._taskMessageQueue?await this._enqueueTaskMessage(i,{type:"error",message:d,timestamp:Date.now()},a?.sessionId):await a?.send(d)}).catch(u=>this._onerror(new Error(`Failed to send response: ${u}`))).finally(()=>{this._requestHandlerAbortControllers.delete(t.id)})}_onprogress(t){const{progressToken:r,...n}=t.params,a=Number(r),i=this._progressHandlers.get(a);if(!i){this._onerror(new Error(`Received a progress notification for an unknown token: ${JSON.stringify(t)}`));return}const o=this._responseHandlers.get(a),s=this._timeoutInfo.get(a);if(s&&o&&s.resetTimeoutOnProgress)try{this._resetTimeout(a)}catch(c){this._responseHandlers.delete(a),this._progressHandlers.delete(a),this._cleanupTimeout(a),o(c);return}i(n)}_onresponse(t){const r=Number(t.id),n=this._requestResolvers.get(r);if(n){if(this._requestResolvers.delete(r),go(t))n(t);else{const o=new fe(t.error.code,t.error.message,t.error.data);n(o)}return}const a=this._responseHandlers.get(r);if(a===void 0){this._onerror(new Error(`Received a response for an unknown message ID: ${JSON.stringify(t)}`));return}this._responseHandlers.delete(r),this._cleanupTimeout(r);let i=!1;if(go(t)&&t.result&&typeof t.result=="object"){const o=t.result;if(o.task&&typeof o.task=="object"){const s=o.task;typeof s.taskId=="string"&&(i=!0,this._taskProgressTokens.set(s.taskId,r))}}if(i||this._progressHandlers.delete(r),go(t))a(t);else{const o=fe.fromError(t.error.code,t.error.message,t.error.data);a(o)}}get transport(){return this._transport}async close(){await this._transport?.close()}async*requestStream(t,r,n){const{task:a}=n??{};if(!a){try{yield{type:"result",result:await this.request(t,r,n)}}catch(o){yield{type:"error",error:o instanceof fe?o:new fe(me.InternalError,String(o))}}return}let i;try{const o=await this.request(t,ki,n);if(o.task)i=o.task.taskId,yield{type:"taskCreated",task:o.task};else throw new fe(me.InternalError,"Task creation did not return a task");for(;;){const s=await this.getTask({taskId:i},n);if(yield{type:"taskStatus",task:s},Mn(s.status)){s.status==="completed"?yield{type:"result",result:await this.getTaskResult({taskId:i},r,n)}:s.status==="failed"?yield{type:"error",error:new fe(me.InternalError,`Task ${i} failed`)}:s.status==="cancelled"&&(yield{type:"error",error:new fe(me.InternalError,`Task ${i} was cancelled`)});return}if(s.status==="input_required"){yield{type:"result",result:await this.getTaskResult({taskId:i},r,n)};return}const c=s.pollInterval??this._options?.defaultTaskPollInterval??1e3;await new Promise(l=>setTimeout(l,c)),n?.signal?.throwIfAborted()}}catch(o){yield{type:"error",error:o instanceof fe?o:new fe(me.InternalError,String(o))}}}request(t,r,n){const{relatedRequestId:a,resumptionToken:i,onresumptiontoken:o,task:s,relatedTask:c}=n??{};return new Promise((l,u)=>{const d=m=>{u(m)};if(!this._transport){d(new Error("Not connected"));return}if(this._options?.enforceStrictCapabilities===!0)try{this.assertCapabilityForMethod(t.method),s&&this.assertTaskCapability(t.method)}catch(m){d(m);return}n?.signal?.throwIfAborted();const h=this._requestMessageId++,p={...t,jsonrpc:"2.0",id:h};n?.onprogress&&(this._progressHandlers.set(h,n.onprogress),p.params={...t.params,_meta:{...t.params?._meta||{},progressToken:h}}),s&&(p.params={...p.params,task:s}),c&&(p.params={...p.params,_meta:{...p.params?._meta||{},[Bn]:c}});const v=m=>{this._responseHandlers.delete(h),this._progressHandlers.delete(h),this._cleanupTimeout(h),this._transport?.send({jsonrpc:"2.0",method:"notifications/cancelled",params:{requestId:h,reason:String(m)}},{relatedRequestId:a,resumptionToken:i,onresumptiontoken:o}).catch(x=>this._onerror(new Error(`Failed to send cancellation: ${x}`)));const y=m instanceof fe?m:new fe(me.RequestTimeout,String(m));u(y)};this._responseHandlers.set(h,m=>{if(!n?.signal?.aborted){if(m instanceof Error)return u(m);try{const y=gn(r,m.result);y.success?l(y.data):u(y.error)}catch(y){u(y)}}}),n?.signal?.addEventListener("abort",()=>{v(n?.signal?.reason)});const w=n?.timeout??DR,f=()=>v(fe.fromError(me.RequestTimeout,"Request timed out",{timeout:w}));this._setupTimeout(h,w,n?.maxTotalTimeout,f,n?.resetTimeoutOnProgress??!1);const b=c?.taskId;if(b){const m=y=>{const x=this._responseHandlers.get(h);x?x(y):this._onerror(new Error(`Response handler missing for side-channeled request ${h}`))};this._requestResolvers.set(h,m),this._enqueueTaskMessage(b,{type:"request",message:p,timestamp:Date.now()}).catch(y=>{this._cleanupTimeout(h),u(y)})}else this._transport.send(p,{relatedRequestId:a,resumptionToken:i,onresumptiontoken:o}).catch(m=>{this._cleanupTimeout(h),u(m)})})}async getTask(t,r){return this.request({method:"tasks/get",params:t},Mh,r)}async getTaskResult(t,r,n){return this.request({method:"tasks/result",params:t},r,n)}async listTasks(t,r){return this.request({method:"tasks/list",params:t},Lh,r)}async cancelTask(t,r){return this.request({method:"tasks/cancel",params:t},EI,r)}async notification(t,r){if(!this._transport)throw new Error("Not connected");this.assertNotificationCapability(t.method);const n=r?.relatedTask?.taskId;if(n){const s={...t,jsonrpc:"2.0",params:{...t.params,_meta:{...t.params?._meta||{},[Bn]:r.relatedTask}}};await this._enqueueTaskMessage(n,{type:"notification",message:s,timestamp:Date.now()});return}if((this._options?.debouncedNotificationMethods??[]).includes(t.method)&&!t.params&&!r?.relatedRequestId&&!r?.relatedTask){if(this._pendingDebouncedNotifications.has(t.method))return;this._pendingDebouncedNotifications.add(t.method),Promise.resolve().then(()=>{if(this._pendingDebouncedNotifications.delete(t.method),!this._transport)return;let s={...t,jsonrpc:"2.0"};r?.relatedTask&&(s={...s,params:{...s.params,_meta:{...s.params?._meta||{},[Bn]:r.relatedTask}}}),this._transport?.send(s,r).catch(c=>this._onerror(c))});return}let o={...t,jsonrpc:"2.0"};r?.relatedTask&&(o={...o,params:{...o.params,_meta:{...o.params?._meta||{},[Bn]:r.relatedTask}}}),await this._transport.send(o,r)}setRequestHandler(t,r){const n=nv(t);this.assertRequestHandlerCapability(n),this._requestHandlers.set(n,(a,i)=>{const o=av(t,a);return Promise.resolve(r(o,i))})}removeRequestHandler(t){this._requestHandlers.delete(t)}assertCanSetRequestHandler(t){if(this._requestHandlers.has(t))throw new Error(`A request handler for ${t} already exists, which would be overridden`)}setNotificationHandler(t,r){const n=nv(t);this._notificationHandlers.set(n,a=>{const i=av(t,a);return Promise.resolve(r(i))})}removeNotificationHandler(t){this._notificationHandlers.delete(t)}_cleanupTaskProgressHandler(t){const r=this._taskProgressTokens.get(t);r!==void 0&&(this._progressHandlers.delete(r),this._taskProgressTokens.delete(t))}async _enqueueTaskMessage(t,r,n){if(!this._taskStore||!this._taskMessageQueue)throw new Error("Cannot enqueue task message: taskStore and taskMessageQueue are not configured");const a=this._options?.maxTaskQueueSize;await this._taskMessageQueue.enqueue(t,r,n,a)}async _clearTaskQueue(t,r){if(this._taskMessageQueue){const n=await this._taskMessageQueue.dequeueAll(t,r);for(const a of n)if(a.type==="request"&&rv(a.message)){const i=a.message.id,o=this._requestResolvers.get(i);o?(o(new fe(me.InternalError,"Task cancelled or completed")),this._requestResolvers.delete(i)):this._onerror(new Error(`Resolver missing for request ${i} during task ${t} cleanup`))}}}async _waitForTaskUpdate(t,r){let n=this._options?.defaultTaskPollInterval??1e3;try{const a=await this._taskStore?.getTask(t);a?.pollInterval&&(n=a.pollInterval)}catch{}return new Promise((a,i)=>{if(r.aborted){i(new fe(me.InvalidRequest,"Request cancelled"));return}const o=setTimeout(a,n);r.addEventListener("abort",()=>{clearTimeout(o),i(new fe(me.InvalidRequest,"Request cancelled"))},{once:!0})})}requestTaskStore(t,r){const n=this._taskStore;if(!n)throw new Error("No task store configured");return{createTask:async a=>{if(!t)throw new Error("No request provided");return await n.createTask(a,t.id,{method:t.method,params:t.params},r)},getTask:async a=>{const i=await n.getTask(a,r);if(!i)throw new fe(me.InvalidParams,"Failed to retrieve task: Task not found");return i},storeTaskResult:async(a,i,o)=>{await n.storeTaskResult(a,i,o,r);const s=await n.getTask(a,r);if(s){const c=yc.parse({method:"notifications/tasks/status",params:s});await this.notification(c),Mn(s.status)&&this._cleanupTaskProgressHandler(a)}},getTaskResult:a=>n.getTaskResult(a,r),updateTaskStatus:async(a,i,o)=>{const s=await n.getTask(a,r);if(!s)throw new fe(me.InvalidParams,`Task "${a}" not found - it may have been cleaned up`);if(Mn(s.status))throw new fe(me.InvalidParams,`Cannot update task "${a}" from terminal status "${s.status}" to "${i}". Terminal states (completed, failed, cancelled) cannot transition to other states.`);await n.updateTaskStatus(a,i,o,r);const c=await n.getTask(a,r);if(c){const l=yc.parse({method:"notifications/tasks/status",params:c});await this.notification(l),Mn(c.status)&&this._cleanupTaskProgressHandler(a)}},listTasks:a=>n.listTasks(a,r)}}}function iv(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function LR(e,t){const r={...e};for(const n in t){const a=n,i=t[a];if(i===void 0)continue;const o=r[a];iv(o)&&iv(i)?r[a]={...o,...i}:r[a]=i}return r}var bo={exports:{}},Su={},qr={},Dn={},Pu={},$u={},ku={},ov;function bc(){return ov||(ov=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(m){if(super(),!e.IDENTIFIER.test(m))throw new Error("CodeGen: name must be a valid identifier");this.str=m}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(m){super(),this._items=typeof m=="string"?[m]:m}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const m=this._items[0];return m===""||m==='""'}get str(){var m;return(m=this._str)!==null&&m!==void 0?m:this._str=this._items.reduce((y,x)=>`${y}${x}`,"")}get names(){var m;return(m=this._names)!==null&&m!==void 0?m:this._names=this._items.reduce((y,x)=>(x instanceof r&&(y[x.str]=(y[x.str]||0)+1),y),{})}}e._Code=n,e.nil=new n("");function a(b,...m){const y=[b[0]];let x=0;for(;x<m.length;)s(y,m[x]),y.push(b[++x]);return new n(y)}e._=a;const i=new n("+");function o(b,...m){const y=[p(b[0])];let x=0;for(;x<m.length;)y.push(i),s(y,m[x]),y.push(i,p(b[++x]));return c(y),new n(y)}e.str=o;function s(b,m){m instanceof n?b.push(...m._items):m instanceof r?b.push(m):b.push(d(m))}e.addCodeArg=s;function c(b){let m=1;for(;m<b.length-1;){if(b[m]===i){const y=l(b[m-1],b[m+1]);if(y!==void 0){b.splice(m-1,3,y);continue}b[m++]="+"}m++}}function l(b,m){if(m==='""')return b;if(b==='""')return m;if(typeof b=="string")return m instanceof r||b[b.length-1]!=='"'?void 0:typeof m!="string"?`${b.slice(0,-1)}${m}"`:m[0]==='"'?b.slice(0,-1)+m.slice(1):void 0;if(typeof m=="string"&&m[0]==='"'&&!(b instanceof r))return`"${b}${m.slice(1)}`}function u(b,m){return m.emptyStr()?b:b.emptyStr()?m:o`${b}${m}`}e.strConcat=u;function d(b){return typeof b=="number"||typeof b=="boolean"||b===null?b:p(Array.isArray(b)?b.join(","):b)}function h(b){return new n(p(b))}e.stringify=h;function p(b){return JSON.stringify(b).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=p;function v(b){return typeof b=="string"&&e.IDENTIFIER.test(b)?new n(`.${b}`):a`[${b}]`}e.getProperty=v;function w(b){if(typeof b=="string"&&e.IDENTIFIER.test(b))return new n(`${b}`);throw new Error(`CodeGen: invalid export name: ${b}, use explicit $id name mapping`)}e.getEsmExportName=w;function f(b){return new n(b.toString())}e.regexpCode=f})(ku)),ku}var Eu={},sv;function cv(){return sv||(sv=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=bc();class r extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class a{constructor({prefixes:l,parent:u}={}){this._names={},this._prefixes=l,this._parent=u}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const u=this._names[l]||this._nameGroup(l);return`${l}${u.index++}`}_nameGroup(l){var u,d;if(!((d=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||d===void 0)&&d.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}e.Scope=a;class i extends t.Name{constructor(l,u){super(u),this.prefix=l}setValue(l,{property:u,itemIndex:d}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(u)}[${d}]`}}e.ValueScopeName=i;const o=(0,t._)`\n`;class s extends a{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?o:t.nil}}get(){return this._scope}name(l){return new i(l,this._newName(l))}value(l,u){var d;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const h=this.toName(l),{prefix:p}=h,v=(d=u.key)!==null&&d!==void 0?d:u.ref;let w=this._values[p];if(w){const m=w.get(v);if(m)return m}else w=this._values[p]=new Map;w.set(v,h);const f=this._scope[p]||(this._scope[p]=[]),b=f.length;return f[b]=u.ref,h.setValue(u,{property:p,itemIndex:b}),h}getValue(l,u){const d=this._values[l];if(d)return d.get(u)}scopeRefs(l,u=this._values){return this._reduceValues(u,d=>{if(d.scopePath===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return(0,t._)`${l}${d.scopePath}`})}scopeCode(l=this._values,u,d){return this._reduceValues(l,h=>{if(h.value===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return h.value.code},u,d)}_reduceValues(l,u,d={},h){let p=t.nil;for(const v in l){const w=l[v];if(!w)continue;const f=d[v]=d[v]||new Map;w.forEach(b=>{if(f.has(b))return;f.set(b,n.Started);let m=u(b);if(m){const y=this.opts.es5?e.varKinds.var:e.varKinds.const;p=(0,t._)`${p}${y} ${b} = ${m};${this.opts._n}`}else if(m=h?.(b))p=(0,t._)`${p}${m}${this.opts._n}`;else throw new r(b);f.set(b,n.Completed)})}return p}}e.ValueScope=s})(Eu)),Eu}var lv;function we(){return lv||(lv=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=bc(),r=cv();var n=bc();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var a=cv();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return a.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return a.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return a.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return a.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class i{optimizeNodes(){return this}optimizeNames(P,N){return this}}class o extends i{constructor(P,N,D){super(),this.varKind=P,this.name=N,this.rhs=D}render({es5:P,_n:N}){const D=P?r.varKinds.var:this.varKind,K=this.rhs===void 0?"":` = ${this.rhs}`;return`${D} ${this.name}${K};`+N}optimizeNames(P,N){if(P[this.name.str])return this.rhs&&(this.rhs=B(this.rhs,P,N)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class s extends i{constructor(P,N,D){super(),this.lhs=P,this.rhs=N,this.sideEffects=D}render({_n:P}){return`${this.lhs} = ${this.rhs};`+P}optimizeNames(P,N){if(!(this.lhs instanceof t.Name&&!P[this.lhs.str]&&!this.sideEffects))return this.rhs=B(this.rhs,P,N),this}get names(){const P=this.lhs instanceof t.Name?{}:{...this.lhs.names};return U(P,this.rhs)}}class c extends s{constructor(P,N,D,K){super(P,D,K),this.op=N}render({_n:P}){return`${this.lhs} ${this.op}= ${this.rhs};`+P}}class l extends i{constructor(P){super(),this.label=P,this.names={}}render({_n:P}){return`${this.label}:`+P}}class u extends i{constructor(P){super(),this.label=P,this.names={}}render({_n:P}){return`break${this.label?` ${this.label}`:""};`+P}}class d extends i{constructor(P){super(),this.error=P}render({_n:P}){return`throw ${this.error};`+P}get names(){return this.error.names}}class h extends i{constructor(P){super(),this.code=P}render({_n:P}){return`${this.code};`+P}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(P,N){return this.code=B(this.code,P,N),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class p extends i{constructor(P=[]){super(),this.nodes=P}render(P){return this.nodes.reduce((N,D)=>N+D.render(P),"")}optimizeNodes(){const{nodes:P}=this;let N=P.length;for(;N--;){const D=P[N].optimizeNodes();Array.isArray(D)?P.splice(N,1,...D):D?P[N]=D:P.splice(N,1)}return P.length>0?this:void 0}optimizeNames(P,N){const{nodes:D}=this;let K=D.length;for(;K--;){const Y=D[K];Y.optimizeNames(P,N)||(Q(P,Y.names),D.splice(K,1))}return D.length>0?this:void 0}get names(){return this.nodes.reduce((P,N)=>C(P,N.names),{})}}class v extends p{render(P){return"{"+P._n+super.render(P)+"}"+P._n}}class w extends p{}class f extends v{}f.kind="else";class b extends v{constructor(P,N){super(N),this.condition=P}render(P){let N=`if(${this.condition})`+super.render(P);return this.else&&(N+="else "+this.else.render(P)),N}optimizeNodes(){super.optimizeNodes();const P=this.condition;if(P===!0)return this.nodes;let N=this.else;if(N){const D=N.optimizeNodes();N=this.else=Array.isArray(D)?new f(D):D}if(N)return P===!1?N instanceof b?N:N.nodes:this.nodes.length?this:new b(ae(P),N instanceof b?[N]:N.nodes);if(!(P===!1||!this.nodes.length))return this}optimizeNames(P,N){var D;if(this.else=(D=this.else)===null||D===void 0?void 0:D.optimizeNames(P,N),!!(super.optimizeNames(P,N)||this.else))return this.condition=B(this.condition,P,N),this}get names(){const P=super.names;return U(P,this.condition),this.else&&C(P,this.else.names),P}}b.kind="if";class m extends v{}m.kind="for";class y extends m{constructor(P){super(),this.iteration=P}render(P){return`for(${this.iteration})`+super.render(P)}optimizeNames(P,N){if(super.optimizeNames(P,N))return this.iteration=B(this.iteration,P,N),this}get names(){return C(super.names,this.iteration.names)}}class x extends m{constructor(P,N,D,K){super(),this.varKind=P,this.name=N,this.from=D,this.to=K}render(P){const N=P.es5?r.varKinds.var:this.varKind,{name:D,from:K,to:Y}=this;return`for(${N} ${D}=${K}; ${D}<${Y}; ${D}++)`+super.render(P)}get names(){const P=U(super.names,this.from);return U(P,this.to)}}class g extends m{constructor(P,N,D,K){super(),this.loop=P,this.varKind=N,this.name=D,this.iterable=K}render(P){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(P)}optimizeNames(P,N){if(super.optimizeNames(P,N))return this.iterable=B(this.iterable,P,N),this}get names(){return C(super.names,this.iterable.names)}}class _ extends v{constructor(P,N,D){super(),this.name=P,this.args=N,this.async=D}render(P){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(P)}}_.kind="func";class S extends p{render(P){return"return "+super.render(P)}}S.kind="return";class E extends v{render(P){let N="try"+super.render(P);return this.catch&&(N+=this.catch.render(P)),this.finally&&(N+=this.finally.render(P)),N}optimizeNodes(){var P,N;return super.optimizeNodes(),(P=this.catch)===null||P===void 0||P.optimizeNodes(),(N=this.finally)===null||N===void 0||N.optimizeNodes(),this}optimizeNames(P,N){var D,K;return super.optimizeNames(P,N),(D=this.catch)===null||D===void 0||D.optimizeNames(P,N),(K=this.finally)===null||K===void 0||K.optimizeNames(P,N),this}get names(){const P=super.names;return this.catch&&C(P,this.catch.names),this.finally&&C(P,this.finally.names),P}}class I extends v{constructor(P){super(),this.error=P}render(P){return`catch(${this.error})`+super.render(P)}}I.kind="catch";class L extends v{render(P){return"finally"+super.render(P)}}L.kind="finally";class R{constructor(P,N={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...N,_n:N.lines?`
`:""},this._extScope=P,this._scope=new r.Scope({parent:P}),this._nodes=[new w]}toString(){return this._root.render(this.opts)}name(P){return this._scope.name(P)}scopeName(P){return this._extScope.name(P)}scopeValue(P,N){const D=this._extScope.value(P,N);return(this._values[D.prefix]||(this._values[D.prefix]=new Set)).add(D),D}getScopeValue(P,N){return this._extScope.getValue(P,N)}scopeRefs(P){return this._extScope.scopeRefs(P,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(P,N,D,K){const Y=this._scope.toName(N);return D!==void 0&&K&&(this._constants[Y.str]=D),this._leafNode(new o(P,Y,D)),Y}const(P,N,D){return this._def(r.varKinds.const,P,N,D)}let(P,N,D){return this._def(r.varKinds.let,P,N,D)}var(P,N,D){return this._def(r.varKinds.var,P,N,D)}assign(P,N,D){return this._leafNode(new s(P,N,D))}add(P,N){return this._leafNode(new c(P,e.operators.ADD,N))}code(P){return typeof P=="function"?P():P!==t.nil&&this._leafNode(new h(P)),this}object(...P){const N=["{"];for(const[D,K]of P)N.length>1&&N.push(","),N.push(D),(D!==K||this.opts.es5)&&(N.push(":"),(0,t.addCodeArg)(N,K));return N.push("}"),new t._Code(N)}if(P,N,D){if(this._blockNode(new b(P)),N&&D)this.code(N).else().code(D).endIf();else if(N)this.code(N).endIf();else if(D)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(P){return this._elseNode(new b(P))}else(){return this._elseNode(new f)}endIf(){return this._endBlockNode(b,f)}_for(P,N){return this._blockNode(P),N&&this.code(N).endFor(),this}for(P,N){return this._for(new y(P),N)}forRange(P,N,D,K,Y=this.opts.es5?r.varKinds.var:r.varKinds.let){const V=this._scope.toName(P);return this._for(new x(Y,V,N,D),()=>K(V))}forOf(P,N,D,K=r.varKinds.const){const Y=this._scope.toName(P);if(this.opts.es5){const V=N instanceof t.Name?N:this.var("_arr",N);return this.forRange("_i",0,(0,t._)`${V}.length`,X=>{this.var(Y,(0,t._)`${V}[${X}]`),D(Y)})}return this._for(new g("of",K,Y,N),()=>D(Y))}forIn(P,N,D,K=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(P,(0,t._)`Object.keys(${N})`,D);const Y=this._scope.toName(P);return this._for(new g("in",K,Y,N),()=>D(Y))}endFor(){return this._endBlockNode(m)}label(P){return this._leafNode(new l(P))}break(P){return this._leafNode(new u(P))}return(P){const N=new S;if(this._blockNode(N),this.code(P),N.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(S)}try(P,N,D){if(!N&&!D)throw new Error('CodeGen: "try" without "catch" and "finally"');const K=new E;if(this._blockNode(K),this.code(P),N){const Y=this.name("e");this._currNode=K.catch=new I(Y),N(Y)}return D&&(this._currNode=K.finally=new L,this.code(D)),this._endBlockNode(I,L)}throw(P){return this._leafNode(new d(P))}block(P,N){return this._blockStarts.push(this._nodes.length),P&&this.code(P).endBlock(N),this}endBlock(P){const N=this._blockStarts.pop();if(N===void 0)throw new Error("CodeGen: not in self-balancing block");const D=this._nodes.length-N;if(D<0||P!==void 0&&D!==P)throw new Error(`CodeGen: wrong number of nodes: ${D} vs ${P} expected`);return this._nodes.length=N,this}func(P,N=t.nil,D,K){return this._blockNode(new _(P,N,D)),K&&this.code(K).endFunc(),this}endFunc(){return this._endBlockNode(_)}optimize(P=1){for(;P-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(P){return this._currNode.nodes.push(P),this}_blockNode(P){this._currNode.nodes.push(P),this._nodes.push(P)}_endBlockNode(P,N){const D=this._currNode;if(D instanceof P||N&&D instanceof N)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${N?`${P.kind}/${N.kind}`:P.kind}"`)}_elseNode(P){const N=this._currNode;if(!(N instanceof b))throw new Error('CodeGen: "else" without "if"');return this._currNode=N.else=P,this}get _root(){return this._nodes[0]}get _currNode(){const P=this._nodes;return P[P.length-1]}set _currNode(P){const N=this._nodes;N[N.length-1]=P}}e.CodeGen=R;function C(A,P){for(const N in P)A[N]=(A[N]||0)+(P[N]||0);return A}function U(A,P){return P instanceof t._CodeOrName?C(A,P.names):A}function B(A,P,N){if(A instanceof t.Name)return D(A);if(!K(A))return A;return new t._Code(A._items.reduce((Y,V)=>(V instanceof t.Name&&(V=D(V)),V instanceof t._Code?Y.push(...V._items):Y.push(V),Y),[]));function D(Y){const V=N[Y.str];return V===void 0||P[Y.str]!==1?Y:(delete P[Y.str],V)}function K(Y){return Y instanceof t._Code&&Y._items.some(V=>V instanceof t.Name&&P[V.str]===1&&N[V.str]!==void 0)}}function Q(A,P){for(const N in P)A[N]=(A[N]||0)-(P[N]||0)}function ae(A){return typeof A=="boolean"||typeof A=="number"||A===null?!A:(0,t._)`!${z(A)}`}e.not=ae;const te=T(e.operators.AND);function W(...A){return A.reduce(te)}e.and=W;const ue=T(e.operators.OR);function F(...A){return A.reduce(ue)}e.or=F;function T(A){return(P,N)=>P===t.nil?N:N===t.nil?P:(0,t._)`${z(P)} ${A} ${z(N)}`}function z(A){return A instanceof t.Name?A:(0,t._)`(${A})`}})($u)),$u}var ve={},uv;function Ee(){if(uv)return ve;uv=1,Object.defineProperty(ve,"__esModule",{value:!0}),ve.checkStrictMode=ve.getErrorPath=ve.Type=ve.useFunc=ve.setEvaluated=ve.evaluatedPropsToName=ve.mergeEvaluated=ve.eachItem=ve.unescapeJsonPointer=ve.escapeJsonPointer=ve.escapeFragment=ve.unescapeFragment=ve.schemaRefOrVal=ve.schemaHasRulesButRef=ve.schemaHasRules=ve.checkUnknownRules=ve.alwaysValidSchema=ve.toHash=void 0;const e=we(),t=bc();function r(g){const _={};for(const S of g)_[S]=!0;return _}ve.toHash=r;function n(g,_){return typeof _=="boolean"?_:Object.keys(_).length===0?!0:(a(g,_),!i(_,g.self.RULES.all))}ve.alwaysValidSchema=n;function a(g,_=g.schema){const{opts:S,self:E}=g;if(!S.strictSchema||typeof _=="boolean")return;const I=E.RULES.keywords;for(const L in _)I[L]||x(g,`unknown keyword: "${L}"`)}ve.checkUnknownRules=a;function i(g,_){if(typeof g=="boolean")return!g;for(const S in g)if(_[S])return!0;return!1}ve.schemaHasRules=i;function o(g,_){if(typeof g=="boolean")return!g;for(const S in g)if(S!=="$ref"&&_.all[S])return!0;return!1}ve.schemaHasRulesButRef=o;function s({topSchemaRef:g,schemaPath:_},S,E,I){if(!I){if(typeof S=="number"||typeof S=="boolean")return S;if(typeof S=="string")return(0,e._)`${S}`}return(0,e._)`${g}${_}${(0,e.getProperty)(E)}`}ve.schemaRefOrVal=s;function c(g){return d(decodeURIComponent(g))}ve.unescapeFragment=c;function l(g){return encodeURIComponent(u(g))}ve.escapeFragment=l;function u(g){return typeof g=="number"?`${g}`:g.replace(/~/g,"~0").replace(/\//g,"~1")}ve.escapeJsonPointer=u;function d(g){return g.replace(/~1/g,"/").replace(/~0/g,"~")}ve.unescapeJsonPointer=d;function h(g,_){if(Array.isArray(g))for(const S of g)_(S);else _(g)}ve.eachItem=h;function p({mergeNames:g,mergeToName:_,mergeValues:S,resultToName:E}){return(I,L,R,C)=>{const U=R===void 0?L:R instanceof e.Name?(L instanceof e.Name?g(I,L,R):_(I,L,R),R):L instanceof e.Name?(_(I,R,L),L):S(L,R);return C===e.Name&&!(U instanceof e.Name)?E(I,U):U}}ve.mergeEvaluated={props:p({mergeNames:(g,_,S)=>g.if((0,e._)`${S} !== true && ${_} !== undefined`,()=>{g.if((0,e._)`${_} === true`,()=>g.assign(S,!0),()=>g.assign(S,(0,e._)`${S} || {}`).code((0,e._)`Object.assign(${S}, ${_})`))}),mergeToName:(g,_,S)=>g.if((0,e._)`${S} !== true`,()=>{_===!0?g.assign(S,!0):(g.assign(S,(0,e._)`${S} || {}`),w(g,S,_))}),mergeValues:(g,_)=>g===!0?!0:{...g,..._},resultToName:v}),items:p({mergeNames:(g,_,S)=>g.if((0,e._)`${S} !== true && ${_} !== undefined`,()=>g.assign(S,(0,e._)`${_} === true ? true : ${S} > ${_} ? ${S} : ${_}`)),mergeToName:(g,_,S)=>g.if((0,e._)`${S} !== true`,()=>g.assign(S,_===!0?!0:(0,e._)`${S} > ${_} ? ${S} : ${_}`)),mergeValues:(g,_)=>g===!0?!0:Math.max(g,_),resultToName:(g,_)=>g.var("items",_)})};function v(g,_){if(_===!0)return g.var("props",!0);const S=g.var("props",(0,e._)`{}`);return _!==void 0&&w(g,S,_),S}ve.evaluatedPropsToName=v;function w(g,_,S){Object.keys(S).forEach(E=>g.assign((0,e._)`${_}${(0,e.getProperty)(E)}`,!0))}ve.setEvaluated=w;const f={};function b(g,_){return g.scopeValue("func",{ref:_,code:f[_.code]||(f[_.code]=new t._Code(_.code))})}ve.useFunc=b;var m;(function(g){g[g.Num=0]="Num",g[g.Str=1]="Str"})(m||(ve.Type=m={}));function y(g,_,S){if(g instanceof e.Name){const E=_===m.Num;return S?E?(0,e._)`"[" + ${g} + "]"`:(0,e._)`"['" + ${g} + "']"`:E?(0,e._)`"/" + ${g}`:(0,e._)`"/" + ${g}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return S?(0,e.getProperty)(g).toString():"/"+u(g)}ve.getErrorPath=y;function x(g,_,S=g.opts.strictSchema){if(S){if(_=`strict mode: ${_}`,S===!0)throw new Error(_);g.self.logger.warn(_)}}return ve.checkStrictMode=x,ve}var wo={},dv;function Nn(){if(dv)return wo;dv=1,Object.defineProperty(wo,"__esModule",{value:!0});const e=we(),t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return wo.default=t,wo}var fv;function xl(){return fv||(fv=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=we(),r=Ee(),n=Nn();e.keywordError={message:({keyword:f})=>(0,t.str)`must pass "${f}" keyword validation`},e.keyword$DataError={message:({keyword:f,schemaType:b})=>b?(0,t.str)`"${f}" keyword must be ${b} ($data)`:(0,t.str)`"${f}" keyword is invalid ($data)`};function a(f,b=e.keywordError,m,y){const{it:x}=f,{gen:g,compositeRule:_,allErrors:S}=x,E=d(f,b,m);y??(_||S)?c(g,E):l(x,(0,t._)`[${E}]`)}e.reportError=a;function i(f,b=e.keywordError,m){const{it:y}=f,{gen:x,compositeRule:g,allErrors:_}=y,S=d(f,b,m);c(x,S),g||_||l(y,n.default.vErrors)}e.reportExtraError=i;function o(f,b){f.assign(n.default.errors,b),f.if((0,t._)`${n.default.vErrors} !== null`,()=>f.if(b,()=>f.assign((0,t._)`${n.default.vErrors}.length`,b),()=>f.assign(n.default.vErrors,null)))}e.resetErrorsCount=o;function s({gen:f,keyword:b,schemaValue:m,data:y,errsCount:x,it:g}){if(x===void 0)throw new Error("ajv implementation error");const _=f.name("err");f.forRange("i",x,n.default.errors,S=>{f.const(_,(0,t._)`${n.default.vErrors}[${S}]`),f.if((0,t._)`${_}.instancePath === undefined`,()=>f.assign((0,t._)`${_}.instancePath`,(0,t.strConcat)(n.default.instancePath,g.errorPath))),f.assign((0,t._)`${_}.schemaPath`,(0,t.str)`${g.errSchemaPath}/${b}`),g.opts.verbose&&(f.assign((0,t._)`${_}.schema`,m),f.assign((0,t._)`${_}.data`,y))})}e.extendErrors=s;function c(f,b){const m=f.const("err",b);f.if((0,t._)`${n.default.vErrors} === null`,()=>f.assign(n.default.vErrors,(0,t._)`[${m}]`),(0,t._)`${n.default.vErrors}.push(${m})`),f.code((0,t._)`${n.default.errors}++`)}function l(f,b){const{gen:m,validateName:y,schemaEnv:x}=f;x.$async?m.throw((0,t._)`new ${f.ValidationError}(${b})`):(m.assign((0,t._)`${y}.errors`,b),m.return(!1))}const u={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function d(f,b,m){const{createErrors:y}=f.it;return y===!1?(0,t._)`{}`:h(f,b,m)}function h(f,b,m={}){const{gen:y,it:x}=f,g=[p(x,m),v(f,m)];return w(f,b,g),y.object(...g)}function p({errorPath:f},{instancePath:b}){const m=b?(0,t.str)`${f}${(0,r.getErrorPath)(b,r.Type.Str)}`:f;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,m)]}function v({keyword:f,it:{errSchemaPath:b}},{schemaPath:m,parentSchema:y}){let x=y?b:(0,t.str)`${b}/${f}`;return m&&(x=(0,t.str)`${x}${(0,r.getErrorPath)(m,r.Type.Str)}`),[u.schemaPath,x]}function w(f,{params:b,message:m},y){const{keyword:x,data:g,schemaValue:_,it:S}=f,{opts:E,propertyName:I,topSchemaRef:L,schemaPath:R}=S;y.push([u.keyword,x],[u.params,typeof b=="function"?b(f):b||(0,t._)`{}`]),E.messages&&y.push([u.message,typeof m=="function"?m(f):m]),E.verbose&&y.push([u.schema,_],[u.parentSchema,(0,t._)`${L}${R}`],[n.default.data,g]),I&&y.push([u.propertyName,I])}})(Pu)),Pu}var hv;function qR(){if(hv)return Dn;hv=1,Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.boolOrEmptySchema=Dn.topBoolOrEmptySchema=void 0;const e=xl(),t=we(),r=Nn(),n={message:"boolean schema is false"};function a(s){const{gen:c,schema:l,validateName:u}=s;l===!1?o(s,!1):typeof l=="object"&&l.$async===!0?c.return(r.default.data):(c.assign((0,t._)`${u}.errors`,null),c.return(!0))}Dn.topBoolOrEmptySchema=a;function i(s,c){const{gen:l,schema:u}=s;u===!1?(l.var(c,!1),o(s)):l.var(c,!0)}Dn.boolOrEmptySchema=i;function o(s,c){const{gen:l,data:u}=s,d={gen:l,keyword:"false schema",data:u,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:s};(0,e.reportError)(d,n,void 0,c)}return Dn}var ht={},zn={},pv;function MS(){if(pv)return zn;pv=1,Object.defineProperty(zn,"__esModule",{value:!0}),zn.getRules=zn.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],t=new Set(e);function r(a){return typeof a=="string"&&t.has(a)}zn.isJSONType=r;function n(){const a={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...a,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},a.number,a.string,a.array,a.object],post:{rules:[]},all:{},keywords:{}}}return zn.getRules=n,zn}var Fr={},mv;function DS(){if(mv)return Fr;mv=1,Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.shouldUseRule=Fr.shouldUseGroup=Fr.schemaHasRulesForType=void 0;function e({schema:n,self:a},i){const o=a.RULES.types[i];return o&&o!==!0&&t(n,o)}Fr.schemaHasRulesForType=e;function t(n,a){return a.rules.some(i=>r(n,i))}Fr.shouldUseGroup=t;function r(n,a){var i;return n[a.keyword]!==void 0||((i=a.definition.implements)===null||i===void 0?void 0:i.some(o=>n[o]!==void 0))}return Fr.shouldUseRule=r,Fr}var vv;function wc(){if(vv)return ht;vv=1,Object.defineProperty(ht,"__esModule",{value:!0}),ht.reportTypeError=ht.checkDataTypes=ht.checkDataType=ht.coerceAndCheckDataType=ht.getJSONTypes=ht.getSchemaTypes=ht.DataType=void 0;const e=MS(),t=DS(),r=xl(),n=we(),a=Ee();var i;(function(m){m[m.Correct=0]="Correct",m[m.Wrong=1]="Wrong"})(i||(ht.DataType=i={}));function o(m){const y=s(m.type);if(y.includes("null")){if(m.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!y.length&&m.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');m.nullable===!0&&y.push("null")}return y}ht.getSchemaTypes=o;function s(m){const y=Array.isArray(m)?m:m?[m]:[];if(y.every(e.isJSONType))return y;throw new Error("type must be JSONType or JSONType[]: "+y.join(","))}ht.getJSONTypes=s;function c(m,y){const{gen:x,data:g,opts:_}=m,S=u(y,_.coerceTypes),E=y.length>0&&!(S.length===0&&y.length===1&&(0,t.schemaHasRulesForType)(m,y[0]));if(E){const I=v(y,g,_.strictNumbers,i.Wrong);x.if(I,()=>{S.length?d(m,y,S):f(m)})}return E}ht.coerceAndCheckDataType=c;const l=new Set(["string","number","integer","boolean","null"]);function u(m,y){return y?m.filter(x=>l.has(x)||y==="array"&&x==="array"):[]}function d(m,y,x){const{gen:g,data:_,opts:S}=m,E=g.let("dataType",(0,n._)`typeof ${_}`),I=g.let("coerced",(0,n._)`undefined`);S.coerceTypes==="array"&&g.if((0,n._)`${E} == 'object' && Array.isArray(${_}) && ${_}.length == 1`,()=>g.assign(_,(0,n._)`${_}[0]`).assign(E,(0,n._)`typeof ${_}`).if(v(y,_,S.strictNumbers),()=>g.assign(I,_))),g.if((0,n._)`${I} !== undefined`);for(const R of x)(l.has(R)||R==="array"&&S.coerceTypes==="array")&&L(R);g.else(),f(m),g.endIf(),g.if((0,n._)`${I} !== undefined`,()=>{g.assign(_,I),h(m,I)});function L(R){switch(R){case"string":g.elseIf((0,n._)`${E} == "number" || ${E} == "boolean"`).assign(I,(0,n._)`"" + ${_}`).elseIf((0,n._)`${_} === null`).assign(I,(0,n._)`""`);return;case"number":g.elseIf((0,n._)`${E} == "boolean" || ${_} === null
              || (${E} == "string" && ${_} && ${_} == +${_})`).assign(I,(0,n._)`+${_}`);return;case"integer":g.elseIf((0,n._)`${E} === "boolean" || ${_} === null
              || (${E} === "string" && ${_} && ${_} == +${_} && !(${_} % 1))`).assign(I,(0,n._)`+${_}`);return;case"boolean":g.elseIf((0,n._)`${_} === "false" || ${_} === 0 || ${_} === null`).assign(I,!1).elseIf((0,n._)`${_} === "true" || ${_} === 1`).assign(I,!0);return;case"null":g.elseIf((0,n._)`${_} === "" || ${_} === 0 || ${_} === false`),g.assign(I,null);return;case"array":g.elseIf((0,n._)`${E} === "string" || ${E} === "number"
              || ${E} === "boolean" || ${_} === null`).assign(I,(0,n._)`[${_}]`)}}}function h({gen:m,parentData:y,parentDataProperty:x},g){m.if((0,n._)`${y} !== undefined`,()=>m.assign((0,n._)`${y}[${x}]`,g))}function p(m,y,x,g=i.Correct){const _=g===i.Correct?n.operators.EQ:n.operators.NEQ;let S;switch(m){case"null":return(0,n._)`${y} ${_} null`;case"array":S=(0,n._)`Array.isArray(${y})`;break;case"object":S=(0,n._)`${y} && typeof ${y} == "object" && !Array.isArray(${y})`;break;case"integer":S=E((0,n._)`!(${y} % 1) && !isNaN(${y})`);break;case"number":S=E();break;default:return(0,n._)`typeof ${y} ${_} ${m}`}return g===i.Correct?S:(0,n.not)(S);function E(I=n.nil){return(0,n.and)((0,n._)`typeof ${y} == "number"`,I,x?(0,n._)`isFinite(${y})`:n.nil)}}ht.checkDataType=p;function v(m,y,x,g){if(m.length===1)return p(m[0],y,x,g);let _;const S=(0,a.toHash)(m);if(S.array&&S.object){const E=(0,n._)`typeof ${y} != "object"`;_=S.null?E:(0,n._)`!${y} || ${E}`,delete S.null,delete S.array,delete S.object}else _=n.nil;S.number&&delete S.integer;for(const E in S)_=(0,n.and)(_,p(E,y,x,g));return _}ht.checkDataTypes=v;const w={message:({schema:m})=>`must be ${m}`,params:({schema:m,schemaValue:y})=>typeof m=="string"?(0,n._)`{type: ${m}}`:(0,n._)`{type: ${y}}`};function f(m){const y=b(m);(0,r.reportError)(y,w)}ht.reportTypeError=f;function b(m){const{gen:y,data:x,schema:g}=m,_=(0,a.schemaRefOrVal)(m,g,"type");return{gen:y,keyword:"type",data:x,schema:g.type,schemaCode:_,schemaValue:_,parentSchema:g,params:{},it:m}}return ht}var ai={},yv;function FR(){if(yv)return ai;yv=1,Object.defineProperty(ai,"__esModule",{value:!0}),ai.assignDefaults=void 0;const e=we(),t=Ee();function r(a,i){const{properties:o,items:s}=a.schema;if(i==="object"&&o)for(const c in o)n(a,c,o[c].default);else i==="array"&&Array.isArray(s)&&s.forEach((c,l)=>n(a,l,c.default))}ai.assignDefaults=r;function n(a,i,o){const{gen:s,compositeRule:c,data:l,opts:u}=a;if(o===void 0)return;const d=(0,e._)`${l}${(0,e.getProperty)(i)}`;if(c){(0,t.checkStrictMode)(a,`default is ignored for: ${d}`);return}let h=(0,e._)`${d} === undefined`;u.useDefaults==="empty"&&(h=(0,e._)`${h} || ${d} === null || ${d} === ""`),s.if(h,(0,e._)`${d} = ${(0,e.stringify)(o)}`)}return ai}var pr={},Ce={},gv;function xr(){if(gv)return Ce;gv=1,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.validateUnion=Ce.validateArray=Ce.usePattern=Ce.callValidateCode=Ce.schemaProperties=Ce.allSchemaProperties=Ce.noPropertyInData=Ce.propertyInData=Ce.isOwnProperty=Ce.hasPropFunc=Ce.reportMissingProp=Ce.checkMissingProp=Ce.checkReportMissingProp=void 0;const e=we(),t=Ee(),r=Nn(),n=Ee();function a(m,y){const{gen:x,data:g,it:_}=m;x.if(u(x,g,y,_.opts.ownProperties),()=>{m.setParams({missingProperty:(0,e._)`${y}`},!0),m.error()})}Ce.checkReportMissingProp=a;function i({gen:m,data:y,it:{opts:x}},g,_){return(0,e.or)(...g.map(S=>(0,e.and)(u(m,y,S,x.ownProperties),(0,e._)`${_} = ${S}`)))}Ce.checkMissingProp=i;function o(m,y){m.setParams({missingProperty:y},!0),m.error()}Ce.reportMissingProp=o;function s(m){return m.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}Ce.hasPropFunc=s;function c(m,y,x){return(0,e._)`${s(m)}.call(${y}, ${x})`}Ce.isOwnProperty=c;function l(m,y,x,g){const _=(0,e._)`${y}${(0,e.getProperty)(x)} !== undefined`;return g?(0,e._)`${_} && ${c(m,y,x)}`:_}Ce.propertyInData=l;function u(m,y,x,g){const _=(0,e._)`${y}${(0,e.getProperty)(x)} === undefined`;return g?(0,e.or)(_,(0,e.not)(c(m,y,x))):_}Ce.noPropertyInData=u;function d(m){return m?Object.keys(m).filter(y=>y!=="__proto__"):[]}Ce.allSchemaProperties=d;function h(m,y){return d(y).filter(x=>!(0,t.alwaysValidSchema)(m,y[x]))}Ce.schemaProperties=h;function p({schemaCode:m,data:y,it:{gen:x,topSchemaRef:g,schemaPath:_,errorPath:S},it:E},I,L,R){const C=R?(0,e._)`${m}, ${y}, ${g}${_}`:y,U=[[r.default.instancePath,(0,e.strConcat)(r.default.instancePath,S)],[r.default.parentData,E.parentData],[r.default.parentDataProperty,E.parentDataProperty],[r.default.rootData,r.default.rootData]];E.opts.dynamicRef&&U.push([r.default.dynamicAnchors,r.default.dynamicAnchors]);const B=(0,e._)`${C}, ${x.object(...U)}`;return L!==e.nil?(0,e._)`${I}.call(${L}, ${B})`:(0,e._)`${I}(${B})`}Ce.callValidateCode=p;const v=(0,e._)`new RegExp`;function w({gen:m,it:{opts:y}},x){const g=y.unicodeRegExp?"u":"",{regExp:_}=y.code,S=_(x,g);return m.scopeValue("pattern",{key:S.toString(),ref:S,code:(0,e._)`${_.code==="new RegExp"?v:(0,n.useFunc)(m,_)}(${x}, ${g})`})}Ce.usePattern=w;function f(m){const{gen:y,data:x,keyword:g,it:_}=m,S=y.name("valid");if(_.allErrors){const I=y.let("valid",!0);return E(()=>y.assign(I,!1)),I}return y.var(S,!0),E(()=>y.break()),S;function E(I){const L=y.const("len",(0,e._)`${x}.length`);y.forRange("i",0,L,R=>{m.subschema({keyword:g,dataProp:R,dataPropType:t.Type.Num},S),y.if((0,e.not)(S),I)})}}Ce.validateArray=f;function b(m){const{gen:y,schema:x,keyword:g,it:_}=m;if(!Array.isArray(x))throw new Error("ajv implementation error");if(x.some(L=>(0,t.alwaysValidSchema)(_,L))&&!_.opts.unevaluated)return;const E=y.let("valid",!1),I=y.name("_valid");y.block(()=>x.forEach((L,R)=>{const C=m.subschema({keyword:g,schemaProp:R,compositeRule:!0},I);y.assign(E,(0,e._)`${E} || ${I}`),m.mergeValidEvaluated(C,I)||y.if((0,e.not)(E))})),m.result(E,()=>m.reset(),()=>m.error(!0))}return Ce.validateUnion=b,Ce}var bv;function UR(){if(bv)return pr;bv=1,Object.defineProperty(pr,"__esModule",{value:!0}),pr.validateKeywordUsage=pr.validSchemaType=pr.funcKeywordCode=pr.macroKeywordCode=void 0;const e=we(),t=Nn(),r=xr(),n=xl();function a(h,p){const{gen:v,keyword:w,schema:f,parentSchema:b,it:m}=h,y=p.macro.call(m.self,f,b,m),x=l(v,w,y);m.opts.validateSchema!==!1&&m.self.validateSchema(y,!0);const g=v.name("valid");h.subschema({schema:y,schemaPath:e.nil,errSchemaPath:`${m.errSchemaPath}/${w}`,topSchemaRef:x,compositeRule:!0},g),h.pass(g,()=>h.error(!0))}pr.macroKeywordCode=a;function i(h,p){var v;const{gen:w,keyword:f,schema:b,parentSchema:m,$data:y,it:x}=h;c(x,p);const g=!y&&p.compile?p.compile.call(x.self,b,m,x):p.validate,_=l(w,f,g),S=w.let("valid");h.block$data(S,E),h.ok((v=p.valid)!==null&&v!==void 0?v:S);function E(){if(p.errors===!1)R(),p.modifying&&o(h),C(()=>h.error());else{const U=p.async?I():L();p.modifying&&o(h),C(()=>s(h,U))}}function I(){const U=w.let("ruleErrs",null);return w.try(()=>R((0,e._)`await `),B=>w.assign(S,!1).if((0,e._)`${B} instanceof ${x.ValidationError}`,()=>w.assign(U,(0,e._)`${B}.errors`),()=>w.throw(B))),U}function L(){const U=(0,e._)`${_}.errors`;return w.assign(U,null),R(e.nil),U}function R(U=p.async?(0,e._)`await `:e.nil){const B=x.opts.passContext?t.default.this:t.default.self,Q=!("compile"in p&&!y||p.schema===!1);w.assign(S,(0,e._)`${U}${(0,r.callValidateCode)(h,_,B,Q)}`,p.modifying)}function C(U){var B;w.if((0,e.not)((B=p.valid)!==null&&B!==void 0?B:S),U)}}pr.funcKeywordCode=i;function o(h){const{gen:p,data:v,it:w}=h;p.if(w.parentData,()=>p.assign(v,(0,e._)`${w.parentData}[${w.parentDataProperty}]`))}function s(h,p){const{gen:v}=h;v.if((0,e._)`Array.isArray(${p})`,()=>{v.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${p} : ${t.default.vErrors}.concat(${p})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,n.extendErrors)(h)},()=>h.error())}function c({schemaEnv:h},p){if(p.async&&!h.$async)throw new Error("async keyword in sync schema")}function l(h,p,v){if(v===void 0)throw new Error(`keyword "${p}" failed to compile`);return h.scopeValue("keyword",typeof v=="function"?{ref:v}:{ref:v,code:(0,e.stringify)(v)})}function u(h,p,v=!1){return!p.length||p.some(w=>w==="array"?Array.isArray(h):w==="object"?h&&typeof h=="object"&&!Array.isArray(h):typeof h==w||v&&typeof h>"u")}pr.validSchemaType=u;function d({schema:h,opts:p,self:v,errSchemaPath:w},f,b){if(Array.isArray(f.keyword)?!f.keyword.includes(b):f.keyword!==b)throw new Error("ajv implementation error");const m=f.dependencies;if(m?.some(y=>!Object.prototype.hasOwnProperty.call(h,y)))throw new Error(`parent schema must have dependencies of ${b}: ${m.join(",")}`);if(f.validateSchema&&!f.validateSchema(h[b])){const x=`keyword "${b}" value is invalid at path "${w}": `+v.errorsText(f.validateSchema.errors);if(p.validateSchema==="log")v.logger.error(x);else throw new Error(x)}}return pr.validateKeywordUsage=d,pr}var Ur={},wv;function VR(){if(wv)return Ur;wv=1,Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.extendSubschemaMode=Ur.extendSubschemaData=Ur.getSubschema=void 0;const e=we(),t=Ee();function r(i,{keyword:o,schemaProp:s,schema:c,schemaPath:l,errSchemaPath:u,topSchemaRef:d}){if(o!==void 0&&c!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(o!==void 0){const h=i.schema[o];return s===void 0?{schema:h,schemaPath:(0,e._)`${i.schemaPath}${(0,e.getProperty)(o)}`,errSchemaPath:`${i.errSchemaPath}/${o}`}:{schema:h[s],schemaPath:(0,e._)`${i.schemaPath}${(0,e.getProperty)(o)}${(0,e.getProperty)(s)}`,errSchemaPath:`${i.errSchemaPath}/${o}/${(0,t.escapeFragment)(s)}`}}if(c!==void 0){if(l===void 0||u===void 0||d===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:c,schemaPath:l,topSchemaRef:d,errSchemaPath:u}}throw new Error('either "keyword" or "schema" must be passed')}Ur.getSubschema=r;function n(i,o,{dataProp:s,dataPropType:c,data:l,dataTypes:u,propertyName:d}){if(l!==void 0&&s!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:h}=o;if(s!==void 0){const{errorPath:v,dataPathArr:w,opts:f}=o,b=h.let("data",(0,e._)`${o.data}${(0,e.getProperty)(s)}`,!0);p(b),i.errorPath=(0,e.str)`${v}${(0,t.getErrorPath)(s,c,f.jsPropertySyntax)}`,i.parentDataProperty=(0,e._)`${s}`,i.dataPathArr=[...w,i.parentDataProperty]}if(l!==void 0){const v=l instanceof e.Name?l:h.let("data",l,!0);p(v),d!==void 0&&(i.propertyName=d)}u&&(i.dataTypes=u);function p(v){i.data=v,i.dataLevel=o.dataLevel+1,i.dataTypes=[],o.definedProperties=new Set,i.parentData=o.data,i.dataNames=[...o.dataNames,v]}}Ur.extendSubschemaData=n;function a(i,{jtdDiscriminator:o,jtdMetadata:s,compositeRule:c,createErrors:l,allErrors:u}){c!==void 0&&(i.compositeRule=c),l!==void 0&&(i.createErrors=l),u!==void 0&&(i.allErrors=u),i.jtdDiscriminator=o,i.jtdMetadata=s}return Ur.extendSubschemaMode=a,Ur}var Tt={},Ou,_v;function Sl(){return _v||(_v=1,Ou=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,a,i;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(a=n;a--!==0;)if(!e(t[a],r[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(r).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[a]))return!1;for(a=n;a--!==0;){var o=i[a];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r}),Ou}var ju={exports:{}},xv;function BR(){if(xv)return ju.exports;xv=1;var e=ju.exports=function(n,a,i){typeof a=="function"&&(i=a,a={}),i=a.cb||i;var o=typeof i=="function"?i:i.pre||function(){},s=i.post||function(){};t(a,o,s,n,"",n)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function t(n,a,i,o,s,c,l,u,d,h){if(o&&typeof o=="object"&&!Array.isArray(o)){a(o,s,c,l,u,d,h);for(var p in o){var v=o[p];if(Array.isArray(v)){if(p in e.arrayKeywords)for(var w=0;w<v.length;w++)t(n,a,i,v[w],s+"/"+p+"/"+w,c,s,p,o,w)}else if(p in e.propsKeywords){if(v&&typeof v=="object")for(var f in v)t(n,a,i,v[f],s+"/"+p+"/"+r(f),c,s,p,o,f)}else(p in e.keywords||n.allKeys&&!(p in e.skipKeywords))&&t(n,a,i,v,s+"/"+p,c,s,p,o)}i(o,s,c,l,u,d,h)}}function r(n){return n.replace(/~/g,"~0").replace(/\//g,"~1")}return ju.exports}var Sv;function Pl(){if(Sv)return Tt;Sv=1,Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.getSchemaRefs=Tt.resolveUrl=Tt.normalizeId=Tt._getFullPath=Tt.getFullPath=Tt.inlineRef=void 0;const e=Ee(),t=Sl(),r=BR(),n=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function a(w,f=!0){return typeof w=="boolean"?!0:f===!0?!o(w):f?s(w)<=f:!1}Tt.inlineRef=a;const i=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function o(w){for(const f in w){if(i.has(f))return!0;const b=w[f];if(Array.isArray(b)&&b.some(o)||typeof b=="object"&&o(b))return!0}return!1}function s(w){let f=0;for(const b in w){if(b==="$ref")return 1/0;if(f++,!n.has(b)&&(typeof w[b]=="object"&&(0,e.eachItem)(w[b],m=>f+=s(m)),f===1/0))return 1/0}return f}function c(w,f="",b){b!==!1&&(f=d(f));const m=w.parse(f);return l(w,m)}Tt.getFullPath=c;function l(w,f){return w.serialize(f).split("#")[0]+"#"}Tt._getFullPath=l;const u=/#\/?$/;function d(w){return w?w.replace(u,""):""}Tt.normalizeId=d;function h(w,f,b){return b=d(b),w.resolve(f,b)}Tt.resolveUrl=h;const p=/^[a-z_][-a-z0-9._]*$/i;function v(w,f){if(typeof w=="boolean")return{};const{schemaId:b,uriResolver:m}=this.opts,y=d(w[b]||f),x={"":y},g=c(m,y,!1),_={},S=new Set;return r(w,{allKeys:!0},(L,R,C,U)=>{if(U===void 0)return;const B=g+R;let Q=x[U];typeof L[b]=="string"&&(Q=ae.call(this,L[b])),te.call(this,L.$anchor),te.call(this,L.$dynamicAnchor),x[R]=Q;function ae(W){const ue=this.opts.uriResolver.resolve;if(W=d(Q?ue(Q,W):W),S.has(W))throw I(W);S.add(W);let F=this.refs[W];return typeof F=="string"&&(F=this.refs[F]),typeof F=="object"?E(L,F.schema,W):W!==d(B)&&(W[0]==="#"?(E(L,_[W],W),_[W]=L):this.refs[W]=B),W}function te(W){if(typeof W=="string"){if(!p.test(W))throw new Error(`invalid anchor "${W}"`);ae.call(this,`#${W}`)}}}),_;function E(L,R,C){if(R!==void 0&&!t(L,R))throw I(C)}function I(L){return new Error(`reference "${L}" resolves to more than one schema`)}}return Tt.getSchemaRefs=v,Tt}var Pv;function $l(){if(Pv)return qr;Pv=1,Object.defineProperty(qr,"__esModule",{value:!0}),qr.getData=qr.KeywordCxt=qr.validateFunctionCode=void 0;const e=qR(),t=wc(),r=DS(),n=wc(),a=FR(),i=UR(),o=VR(),s=we(),c=Nn(),l=Pl(),u=Ee(),d=xl();function h(O){if(g(O)&&(S(O),x(O))){f(O);return}p(O,()=>(0,e.topBoolOrEmptySchema)(O))}qr.validateFunctionCode=h;function p({gen:O,validateName:j,schema:M,schemaEnv:q,opts:Z},ee){Z.code.es5?O.func(j,(0,s._)`${c.default.data}, ${c.default.valCxt}`,q.$async,()=>{O.code((0,s._)`"use strict"; ${m(M,Z)}`),w(O,Z),O.code(ee)}):O.func(j,(0,s._)`${c.default.data}, ${v(Z)}`,q.$async,()=>O.code(m(M,Z)).code(ee))}function v(O){return(0,s._)`{${c.default.instancePath}="", ${c.default.parentData}, ${c.default.parentDataProperty}, ${c.default.rootData}=${c.default.data}${O.dynamicRef?(0,s._)`, ${c.default.dynamicAnchors}={}`:s.nil}}={}`}function w(O,j){O.if(c.default.valCxt,()=>{O.var(c.default.instancePath,(0,s._)`${c.default.valCxt}.${c.default.instancePath}`),O.var(c.default.parentData,(0,s._)`${c.default.valCxt}.${c.default.parentData}`),O.var(c.default.parentDataProperty,(0,s._)`${c.default.valCxt}.${c.default.parentDataProperty}`),O.var(c.default.rootData,(0,s._)`${c.default.valCxt}.${c.default.rootData}`),j.dynamicRef&&O.var(c.default.dynamicAnchors,(0,s._)`${c.default.valCxt}.${c.default.dynamicAnchors}`)},()=>{O.var(c.default.instancePath,(0,s._)`""`),O.var(c.default.parentData,(0,s._)`undefined`),O.var(c.default.parentDataProperty,(0,s._)`undefined`),O.var(c.default.rootData,c.default.data),j.dynamicRef&&O.var(c.default.dynamicAnchors,(0,s._)`{}`)})}function f(O){const{schema:j,opts:M,gen:q}=O;p(O,()=>{M.$comment&&j.$comment&&U(O),L(O),q.let(c.default.vErrors,null),q.let(c.default.errors,0),M.unevaluated&&b(O),E(O),B(O)})}function b(O){const{gen:j,validateName:M}=O;O.evaluated=j.const("evaluated",(0,s._)`${M}.evaluated`),j.if((0,s._)`${O.evaluated}.dynamicProps`,()=>j.assign((0,s._)`${O.evaluated}.props`,(0,s._)`undefined`)),j.if((0,s._)`${O.evaluated}.dynamicItems`,()=>j.assign((0,s._)`${O.evaluated}.items`,(0,s._)`undefined`))}function m(O,j){const M=typeof O=="object"&&O[j.schemaId];return M&&(j.code.source||j.code.process)?(0,s._)`/*# sourceURL=${M} */`:s.nil}function y(O,j){if(g(O)&&(S(O),x(O))){_(O,j);return}(0,e.boolOrEmptySchema)(O,j)}function x({schema:O,self:j}){if(typeof O=="boolean")return!O;for(const M in O)if(j.RULES.all[M])return!0;return!1}function g(O){return typeof O.schema!="boolean"}function _(O,j){const{schema:M,gen:q,opts:Z}=O;Z.$comment&&M.$comment&&U(O),R(O),C(O);const ee=q.const("_errs",c.default.errors);E(O,ee),q.var(j,(0,s._)`${ee} === ${c.default.errors}`)}function S(O){(0,u.checkUnknownRules)(O),I(O)}function E(O,j){if(O.opts.jtd)return ae(O,[],!1,j);const M=(0,t.getSchemaTypes)(O.schema),q=(0,t.coerceAndCheckDataType)(O,M);ae(O,M,!q,j)}function I(O){const{schema:j,errSchemaPath:M,opts:q,self:Z}=O;j.$ref&&q.ignoreKeywordsWithRef&&(0,u.schemaHasRulesButRef)(j,Z.RULES)&&Z.logger.warn(`$ref: keywords ignored in schema at path "${M}"`)}function L(O){const{schema:j,opts:M}=O;j.default!==void 0&&M.useDefaults&&M.strictSchema&&(0,u.checkStrictMode)(O,"default is ignored in the schema root")}function R(O){const j=O.schema[O.opts.schemaId];j&&(O.baseId=(0,l.resolveUrl)(O.opts.uriResolver,O.baseId,j))}function C(O){if(O.schema.$async&&!O.schemaEnv.$async)throw new Error("async schema in sync schema")}function U({gen:O,schemaEnv:j,schema:M,errSchemaPath:q,opts:Z}){const ee=M.$comment;if(Z.$comment===!0)O.code((0,s._)`${c.default.self}.logger.log(${ee})`);else if(typeof Z.$comment=="function"){const pe=(0,s.str)`${q}/$comment`,_e=O.scopeValue("root",{ref:j.root});O.code((0,s._)`${c.default.self}.opts.$comment(${ee}, ${pe}, ${_e}.schema)`)}}function B(O){const{gen:j,schemaEnv:M,validateName:q,ValidationError:Z,opts:ee}=O;M.$async?j.if((0,s._)`${c.default.errors} === 0`,()=>j.return(c.default.data),()=>j.throw((0,s._)`new ${Z}(${c.default.vErrors})`)):(j.assign((0,s._)`${q}.errors`,c.default.vErrors),ee.unevaluated&&Q(O),j.return((0,s._)`${c.default.errors} === 0`))}function Q({gen:O,evaluated:j,props:M,items:q}){M instanceof s.Name&&O.assign((0,s._)`${j}.props`,M),q instanceof s.Name&&O.assign((0,s._)`${j}.items`,q)}function ae(O,j,M,q){const{gen:Z,schema:ee,data:pe,allErrors:_e,opts:Se,self:$e}=O,{RULES:he}=$e;if(ee.$ref&&(Se.ignoreKeywordsWithRef||!(0,u.schemaHasRulesButRef)(ee,he))){Z.block(()=>K(O,"$ref",he.all.$ref.definition));return}Se.jtd||W(O,j),Z.block(()=>{for(const ke of he.rules)Ge(ke);Ge(he.post)});function Ge(ke){(0,r.shouldUseGroup)(ee,ke)&&(ke.type?(Z.if((0,n.checkDataType)(ke.type,pe,Se.strictNumbers)),te(O,ke),j.length===1&&j[0]===ke.type&&M&&(Z.else(),(0,n.reportTypeError)(O)),Z.endIf()):te(O,ke),_e||Z.if((0,s._)`${c.default.errors} === ${q||0}`))}}function te(O,j){const{gen:M,schema:q,opts:{useDefaults:Z}}=O;Z&&(0,a.assignDefaults)(O,j.type),M.block(()=>{for(const ee of j.rules)(0,r.shouldUseRule)(q,ee)&&K(O,ee.keyword,ee.definition,j.type)})}function W(O,j){O.schemaEnv.meta||!O.opts.strictTypes||(ue(O,j),O.opts.allowUnionTypes||F(O,j),T(O,O.dataTypes))}function ue(O,j){if(j.length){if(!O.dataTypes.length){O.dataTypes=j;return}j.forEach(M=>{A(O.dataTypes,M)||N(O,`type "${M}" not allowed by context "${O.dataTypes.join(",")}"`)}),P(O,j)}}function F(O,j){j.length>1&&!(j.length===2&&j.includes("null"))&&N(O,"use allowUnionTypes to allow union type keyword")}function T(O,j){const M=O.self.RULES.all;for(const q in M){const Z=M[q];if(typeof Z=="object"&&(0,r.shouldUseRule)(O.schema,Z)){const{type:ee}=Z.definition;ee.length&&!ee.some(pe=>z(j,pe))&&N(O,`missing type "${ee.join(",")}" for keyword "${q}"`)}}}function z(O,j){return O.includes(j)||j==="number"&&O.includes("integer")}function A(O,j){return O.includes(j)||j==="integer"&&O.includes("number")}function P(O,j){const M=[];for(const q of O.dataTypes)A(j,q)?M.push(q):j.includes("integer")&&q==="number"&&M.push("integer");O.dataTypes=M}function N(O,j){const M=O.schemaEnv.baseId+O.errSchemaPath;j+=` at "${M}" (strictTypes)`,(0,u.checkStrictMode)(O,j,O.opts.strictTypes)}class D{constructor(j,M,q){if((0,i.validateKeywordUsage)(j,M,q),this.gen=j.gen,this.allErrors=j.allErrors,this.keyword=q,this.data=j.data,this.schema=j.schema[q],this.$data=M.$data&&j.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,u.schemaRefOrVal)(j,this.schema,q,this.$data),this.schemaType=M.schemaType,this.parentSchema=j.schema,this.params={},this.it=j,this.def=M,this.$data)this.schemaCode=j.gen.const("vSchema",X(this.$data,j));else if(this.schemaCode=this.schemaValue,!(0,i.validSchemaType)(this.schema,M.schemaType,M.allowUndefined))throw new Error(`${q} value must be ${JSON.stringify(M.schemaType)}`);("code"in M?M.trackErrors:M.errors!==!1)&&(this.errsCount=j.gen.const("_errs",c.default.errors))}result(j,M,q){this.failResult((0,s.not)(j),M,q)}failResult(j,M,q){this.gen.if(j),q?q():this.error(),M?(this.gen.else(),M(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(j,M){this.failResult((0,s.not)(j),void 0,M)}fail(j){if(j===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(j),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(j){if(!this.$data)return this.fail(j);const{schemaCode:M}=this;this.fail((0,s._)`${M} !== undefined && (${(0,s.or)(this.invalid$data(),j)})`)}error(j,M,q){if(M){this.setParams(M),this._error(j,q),this.setParams({});return}this._error(j,q)}_error(j,M){(j?d.reportExtraError:d.reportError)(this,this.def.error,M)}$dataError(){(0,d.reportError)(this,this.def.$dataError||d.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,d.resetErrorsCount)(this.gen,this.errsCount)}ok(j){this.allErrors||this.gen.if(j)}setParams(j,M){M?Object.assign(this.params,j):this.params=j}block$data(j,M,q=s.nil){this.gen.block(()=>{this.check$data(j,q),M()})}check$data(j=s.nil,M=s.nil){if(!this.$data)return;const{gen:q,schemaCode:Z,schemaType:ee,def:pe}=this;q.if((0,s.or)((0,s._)`${Z} === undefined`,M)),j!==s.nil&&q.assign(j,!0),(ee.length||pe.validateSchema)&&(q.elseIf(this.invalid$data()),this.$dataError(),j!==s.nil&&q.assign(j,!1)),q.else()}invalid$data(){const{gen:j,schemaCode:M,schemaType:q,def:Z,it:ee}=this;return(0,s.or)(pe(),_e());function pe(){if(q.length){if(!(M instanceof s.Name))throw new Error("ajv implementation error");const Se=Array.isArray(q)?q:[q];return(0,s._)`${(0,n.checkDataTypes)(Se,M,ee.opts.strictNumbers,n.DataType.Wrong)}`}return s.nil}function _e(){if(Z.validateSchema){const Se=j.scopeValue("validate$data",{ref:Z.validateSchema});return(0,s._)`!${Se}(${M})`}return s.nil}}subschema(j,M){const q=(0,o.getSubschema)(this.it,j);(0,o.extendSubschemaData)(q,this.it,j),(0,o.extendSubschemaMode)(q,j);const Z={...this.it,...q,items:void 0,props:void 0};return y(Z,M),Z}mergeEvaluated(j,M){const{it:q,gen:Z}=this;q.opts.unevaluated&&(q.props!==!0&&j.props!==void 0&&(q.props=u.mergeEvaluated.props(Z,j.props,q.props,M)),q.items!==!0&&j.items!==void 0&&(q.items=u.mergeEvaluated.items(Z,j.items,q.items,M)))}mergeValidEvaluated(j,M){const{it:q,gen:Z}=this;if(q.opts.unevaluated&&(q.props!==!0||q.items!==!0))return Z.if(M,()=>this.mergeEvaluated(j,s.Name)),!0}}qr.KeywordCxt=D;function K(O,j,M,q){const Z=new D(O,M,j);"code"in M?M.code(Z,q):Z.$data&&M.validate?(0,i.funcKeywordCode)(Z,M):"macro"in M?(0,i.macroKeywordCode)(Z,M):(M.compile||M.validate)&&(0,i.funcKeywordCode)(Z,M)}const Y=/^\/(?:[^~]|~0|~1)*$/,V=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function X(O,{dataLevel:j,dataNames:M,dataPathArr:q}){let Z,ee;if(O==="")return c.default.rootData;if(O[0]==="/"){if(!Y.test(O))throw new Error(`Invalid JSON-pointer: ${O}`);Z=O,ee=c.default.rootData}else{const $e=V.exec(O);if(!$e)throw new Error(`Invalid JSON-pointer: ${O}`);const he=+$e[1];if(Z=$e[2],Z==="#"){if(he>=j)throw new Error(Se("property/index",he));return q[j-he]}if(he>j)throw new Error(Se("data",he));if(ee=M[j-he],!Z)return ee}let pe=ee;const _e=Z.split("/");for(const $e of _e)$e&&(ee=(0,s._)`${ee}${(0,s.getProperty)((0,u.unescapeJsonPointer)($e))}`,pe=(0,s._)`${pe} && ${ee}`);return pe;function Se($e,he){return`Cannot access ${$e} ${he} levels up, current level is ${j}`}}return qr.getData=X,qr}var _o={},$v;function Hh(){if($v)return _o;$v=1,Object.defineProperty(_o,"__esModule",{value:!0});class e extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}}return _o.default=e,_o}var xo={},kv;function kl(){if(kv)return xo;kv=1,Object.defineProperty(xo,"__esModule",{value:!0});const e=Pl();class t extends Error{constructor(n,a,i,o){super(o||`can't resolve reference ${i} from id ${a}`),this.missingRef=(0,e.resolveUrl)(n,a,i),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(n,this.missingRef))}}return xo.default=t,xo}var Ht={},Ev;function Zh(){if(Ev)return Ht;Ev=1,Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.resolveSchema=Ht.getCompilingSchema=Ht.resolveRef=Ht.compileSchema=Ht.SchemaEnv=void 0;const e=we(),t=Hh(),r=Nn(),n=Pl(),a=Ee(),i=$l();class o{constructor(b){var m;this.refs={},this.dynamicAnchors={};let y;typeof b.schema=="object"&&(y=b.schema),this.schema=b.schema,this.schemaId=b.schemaId,this.root=b.root||this,this.baseId=(m=b.baseId)!==null&&m!==void 0?m:(0,n.normalizeId)(y?.[b.schemaId||"$id"]),this.schemaPath=b.schemaPath,this.localRefs=b.localRefs,this.meta=b.meta,this.$async=y?.$async,this.refs={}}}Ht.SchemaEnv=o;function s(f){const b=u.call(this,f);if(b)return b;const m=(0,n.getFullPath)(this.opts.uriResolver,f.root.baseId),{es5:y,lines:x}=this.opts.code,{ownProperties:g}=this.opts,_=new e.CodeGen(this.scope,{es5:y,lines:x,ownProperties:g});let S;f.$async&&(S=_.scopeValue("Error",{ref:t.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const E=_.scopeName("validate");f.validateName=E;const I={gen:_,allErrors:this.opts.allErrors,data:r.default.data,parentData:r.default.parentData,parentDataProperty:r.default.parentDataProperty,dataNames:[r.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:_.scopeValue("schema",this.opts.code.source===!0?{ref:f.schema,code:(0,e.stringify)(f.schema)}:{ref:f.schema}),validateName:E,ValidationError:S,schema:f.schema,schemaEnv:f,rootId:m,baseId:f.baseId||m,schemaPath:e.nil,errSchemaPath:f.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let L;try{this._compilations.add(f),(0,i.validateFunctionCode)(I),_.optimize(this.opts.code.optimize);const R=_.toString();L=`${_.scopeRefs(r.default.scope)}return ${R}`,this.opts.code.process&&(L=this.opts.code.process(L,f));const U=new Function(`${r.default.self}`,`${r.default.scope}`,L)(this,this.scope.get());if(this.scope.value(E,{ref:U}),U.errors=null,U.schema=f.schema,U.schemaEnv=f,f.$async&&(U.$async=!0),this.opts.code.source===!0&&(U.source={validateName:E,validateCode:R,scopeValues:_._values}),this.opts.unevaluated){const{props:B,items:Q}=I;U.evaluated={props:B instanceof e.Name?void 0:B,items:Q instanceof e.Name?void 0:Q,dynamicProps:B instanceof e.Name,dynamicItems:Q instanceof e.Name},U.source&&(U.source.evaluated=(0,e.stringify)(U.evaluated))}return f.validate=U,f}catch(R){throw delete f.validate,delete f.validateName,L&&this.logger.error("Error compiling schema, function code:",L),R}finally{this._compilations.delete(f)}}Ht.compileSchema=s;function c(f,b,m){var y;m=(0,n.resolveUrl)(this.opts.uriResolver,b,m);const x=f.refs[m];if(x)return x;let g=h.call(this,f,m);if(g===void 0){const _=(y=f.localRefs)===null||y===void 0?void 0:y[m],{schemaId:S}=this.opts;_&&(g=new o({schema:_,schemaId:S,root:f,baseId:b}))}if(g!==void 0)return f.refs[m]=l.call(this,g)}Ht.resolveRef=c;function l(f){return(0,n.inlineRef)(f.schema,this.opts.inlineRefs)?f.schema:f.validate?f:s.call(this,f)}function u(f){for(const b of this._compilations)if(d(b,f))return b}Ht.getCompilingSchema=u;function d(f,b){return f.schema===b.schema&&f.root===b.root&&f.baseId===b.baseId}function h(f,b){let m;for(;typeof(m=this.refs[b])=="string";)b=m;return m||this.schemas[b]||p.call(this,f,b)}function p(f,b){const m=this.opts.uriResolver.parse(b),y=(0,n._getFullPath)(this.opts.uriResolver,m);let x=(0,n.getFullPath)(this.opts.uriResolver,f.baseId,void 0);if(Object.keys(f.schema).length>0&&y===x)return w.call(this,m,f);const g=(0,n.normalizeId)(y),_=this.refs[g]||this.schemas[g];if(typeof _=="string"){const S=p.call(this,f,_);return typeof S?.schema!="object"?void 0:w.call(this,m,S)}if(typeof _?.schema=="object"){if(_.validate||s.call(this,_),g===(0,n.normalizeId)(b)){const{schema:S}=_,{schemaId:E}=this.opts,I=S[E];return I&&(x=(0,n.resolveUrl)(this.opts.uriResolver,x,I)),new o({schema:S,schemaId:E,root:f,baseId:x})}return w.call(this,m,_)}}Ht.resolveSchema=p;const v=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function w(f,{baseId:b,schema:m,root:y}){var x;if(((x=f.fragment)===null||x===void 0?void 0:x[0])!=="/")return;for(const S of f.fragment.slice(1).split("/")){if(typeof m=="boolean")return;const E=m[(0,a.unescapeFragment)(S)];if(E===void 0)return;m=E;const I=typeof m=="object"&&m[this.opts.schemaId];!v.has(S)&&I&&(b=(0,n.resolveUrl)(this.opts.uriResolver,b,I))}let g;if(typeof m!="boolean"&&m.$ref&&!(0,a.schemaHasRulesButRef)(m,this.RULES)){const S=(0,n.resolveUrl)(this.opts.uriResolver,b,m.$ref);g=p.call(this,y,S)}const{schemaId:_}=this.opts;if(g=g||new o({schema:m,schemaId:_,root:y,baseId:b}),g.schema!==g.root.schema)return g}return Ht}const KR="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",WR="Meta-schema for $data reference (JSON AnySchema extension proposal)",HR="object",ZR=["$data"],GR={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},YR=!1,JR={$id:KR,description:WR,type:HR,required:ZR,properties:GR,additionalProperties:YR};var So={},ii={exports:{}},Nu,Ov;function zS(){if(Ov)return Nu;Ov=1;const e=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),t=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function r(h){let p="",v=0,w=0;for(w=0;w<h.length;w++)if(v=h[w].charCodeAt(0),v!==48){if(!(v>=48&&v<=57||v>=65&&v<=70||v>=97&&v<=102))return"";p+=h[w];break}for(w+=1;w<h.length;w++){if(v=h[w].charCodeAt(0),!(v>=48&&v<=57||v>=65&&v<=70||v>=97&&v<=102))return"";p+=h[w]}return p}const n=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function a(h){return h.length=0,!0}function i(h,p,v){if(h.length){const w=r(h);if(w!=="")p.push(w);else return v.error=!0,!1;h.length=0}return!0}function o(h){let p=0;const v={error:!1,address:"",zone:""},w=[],f=[];let b=!1,m=!1,y=i;for(let x=0;x<h.length;x++){const g=h[x];if(!(g==="["||g==="]"))if(g===":"){if(b===!0&&(m=!0),!y(f,w,v))break;if(++p>7){v.error=!0;break}x>0&&h[x-1]===":"&&(b=!0),w.push(":");continue}else if(g==="%"){if(!y(f,w,v))break;y=a}else{f.push(g);continue}}return f.length&&(y===a?v.zone=f.join(""):m?w.push(f.join("")):w.push(r(f))),v.address=w.join(""),v}function s(h){if(c(h,":")<2)return{host:h,isIPV6:!1};const p=o(h);if(p.error)return{host:h,isIPV6:!1};{let v=p.address,w=p.address;return p.zone&&(v+="%"+p.zone,w+="%25"+p.zone),{host:v,isIPV6:!0,escapedHost:w}}}function c(h,p){let v=0;for(let w=0;w<h.length;w++)h[w]===p&&v++;return v}function l(h){let p=h;const v=[];let w=-1,f=0;for(;f=p.length;){if(f===1){if(p===".")break;if(p==="/"){v.push("/");break}else{v.push(p);break}}else if(f===2){if(p[0]==="."){if(p[1]===".")break;if(p[1]==="/"){p=p.slice(2);continue}}else if(p[0]==="/"&&(p[1]==="."||p[1]==="/")){v.push("/");break}}else if(f===3&&p==="/.."){v.length!==0&&v.pop(),v.push("/");break}if(p[0]==="."){if(p[1]==="."){if(p[2]==="/"){p=p.slice(3);continue}}else if(p[1]==="/"){p=p.slice(2);continue}}else if(p[0]==="/"&&p[1]==="."){if(p[2]==="/"){p=p.slice(2);continue}else if(p[2]==="."&&p[3]==="/"){p=p.slice(3),v.length!==0&&v.pop();continue}}if((w=p.indexOf("/",1))===-1){v.push(p);break}else v.push(p.slice(0,w)),p=p.slice(w)}return v.join("")}function u(h,p){const v=p!==!0?escape:unescape;return h.scheme!==void 0&&(h.scheme=v(h.scheme)),h.userinfo!==void 0&&(h.userinfo=v(h.userinfo)),h.host!==void 0&&(h.host=v(h.host)),h.path!==void 0&&(h.path=v(h.path)),h.query!==void 0&&(h.query=v(h.query)),h.fragment!==void 0&&(h.fragment=v(h.fragment)),h}function d(h){const p=[];if(h.userinfo!==void 0&&(p.push(h.userinfo),p.push("@")),h.host!==void 0){let v=unescape(h.host);if(!t(v)){const w=s(v);w.isIPV6===!0?v=`[${w.escapedHost}]`:v=h.host}p.push(v)}return(typeof h.port=="number"||typeof h.port=="string")&&(p.push(":"),p.push(String(h.port))),p.length?p.join(""):void 0}return Nu={nonSimpleDomain:n,recomposeAuthority:d,normalizeComponentEncoding:u,removeDotSegments:l,isIPv4:t,isUUID:e,normalizeIPv6:s,stringArrayToHexStripped:r},Nu}var Tu,jv;function XR(){if(jv)return Tu;jv=1;const{isUUID:e}=zS(),t=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,r=["http","https","ws","wss","urn","urn:uuid"];function n(g){return r.indexOf(g)!==-1}function a(g){return g.secure===!0?!0:g.secure===!1?!1:g.scheme?g.scheme.length===3&&(g.scheme[0]==="w"||g.scheme[0]==="W")&&(g.scheme[1]==="s"||g.scheme[1]==="S")&&(g.scheme[2]==="s"||g.scheme[2]==="S"):!1}function i(g){return g.host||(g.error=g.error||"HTTP URIs must have a host."),g}function o(g){const _=String(g.scheme).toLowerCase()==="https";return(g.port===(_?443:80)||g.port==="")&&(g.port=void 0),g.path||(g.path="/"),g}function s(g){return g.secure=a(g),g.resourceName=(g.path||"/")+(g.query?"?"+g.query:""),g.path=void 0,g.query=void 0,g}function c(g){if((g.port===(a(g)?443:80)||g.port==="")&&(g.port=void 0),typeof g.secure=="boolean"&&(g.scheme=g.secure?"wss":"ws",g.secure=void 0),g.resourceName){const[_,S]=g.resourceName.split("?");g.path=_&&_!=="/"?_:void 0,g.query=S,g.resourceName=void 0}return g.fragment=void 0,g}function l(g,_){if(!g.path)return g.error="URN can not be parsed",g;const S=g.path.match(t);if(S){const E=_.scheme||g.scheme||"urn";g.nid=S[1].toLowerCase(),g.nss=S[2];const I=`${E}:${_.nid||g.nid}`,L=x(I);g.path=void 0,L&&(g=L.parse(g,_))}else g.error=g.error||"URN can not be parsed.";return g}function u(g,_){if(g.nid===void 0)throw new Error("URN without nid cannot be serialized");const S=_.scheme||g.scheme||"urn",E=g.nid.toLowerCase(),I=`${S}:${_.nid||E}`,L=x(I);L&&(g=L.serialize(g,_));const R=g,C=g.nss;return R.path=`${E||_.nid}:${C}`,_.skipEscape=!0,R}function d(g,_){const S=g;return S.uuid=S.nss,S.nss=void 0,!_.tolerant&&(!S.uuid||!e(S.uuid))&&(S.error=S.error||"UUID is not valid."),S}function h(g){const _=g;return _.nss=(g.uuid||"").toLowerCase(),_}const p={scheme:"http",domainHost:!0,parse:i,serialize:o},v={scheme:"https",domainHost:p.domainHost,parse:i,serialize:o},w={scheme:"ws",domainHost:!0,parse:s,serialize:c},f={scheme:"wss",domainHost:w.domainHost,parse:w.parse,serialize:w.serialize},y={http:p,https:v,ws:w,wss:f,urn:{scheme:"urn",parse:l,serialize:u,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:d,serialize:h,skipNormalize:!0}};Object.setPrototypeOf(y,null);function x(g){return g&&(y[g]||y[g.toLowerCase()])||void 0}return Tu={wsIsSecure:a,SCHEMES:y,isValidSchemeName:n,getSchemeHandler:x},Tu}var Nv;function LS(){if(Nv)return ii.exports;Nv=1;const{normalizeIPv6:e,removeDotSegments:t,recomposeAuthority:r,normalizeComponentEncoding:n,isIPv4:a,nonSimpleDomain:i}=zS(),{SCHEMES:o,getSchemeHandler:s}=XR();function c(f,b){return typeof f=="string"?f=h(v(f,b),b):typeof f=="object"&&(f=v(h(f,b),b)),f}function l(f,b,m){const y=m?Object.assign({scheme:"null"},m):{scheme:"null"},x=u(v(f,y),v(b,y),y,!0);return y.skipEscape=!0,h(x,y)}function u(f,b,m,y){const x={};return y||(f=v(h(f,m),m),b=v(h(b,m),m)),m=m||{},!m.tolerant&&b.scheme?(x.scheme=b.scheme,x.userinfo=b.userinfo,x.host=b.host,x.port=b.port,x.path=t(b.path||""),x.query=b.query):(b.userinfo!==void 0||b.host!==void 0||b.port!==void 0?(x.userinfo=b.userinfo,x.host=b.host,x.port=b.port,x.path=t(b.path||""),x.query=b.query):(b.path?(b.path[0]==="/"?x.path=t(b.path):((f.userinfo!==void 0||f.host!==void 0||f.port!==void 0)&&!f.path?x.path="/"+b.path:f.path?x.path=f.path.slice(0,f.path.lastIndexOf("/")+1)+b.path:x.path=b.path,x.path=t(x.path)),x.query=b.query):(x.path=f.path,b.query!==void 0?x.query=b.query:x.query=f.query),x.userinfo=f.userinfo,x.host=f.host,x.port=f.port),x.scheme=f.scheme),x.fragment=b.fragment,x}function d(f,b,m){return typeof f=="string"?(f=unescape(f),f=h(n(v(f,m),!0),{...m,skipEscape:!0})):typeof f=="object"&&(f=h(n(f,!0),{...m,skipEscape:!0})),typeof b=="string"?(b=unescape(b),b=h(n(v(b,m),!0),{...m,skipEscape:!0})):typeof b=="object"&&(b=h(n(b,!0),{...m,skipEscape:!0})),f.toLowerCase()===b.toLowerCase()}function h(f,b){const m={host:f.host,scheme:f.scheme,userinfo:f.userinfo,port:f.port,path:f.path,query:f.query,nid:f.nid,nss:f.nss,uuid:f.uuid,fragment:f.fragment,reference:f.reference,resourceName:f.resourceName,secure:f.secure,error:""},y=Object.assign({},b),x=[],g=s(y.scheme||m.scheme);g&&g.serialize&&g.serialize(m,y),m.path!==void 0&&(y.skipEscape?m.path=unescape(m.path):(m.path=escape(m.path),m.scheme!==void 0&&(m.path=m.path.split("%3A").join(":")))),y.reference!=="suffix"&&m.scheme&&x.push(m.scheme,":");const _=r(m);if(_!==void 0&&(y.reference!=="suffix"&&x.push("//"),x.push(_),m.path&&m.path[0]!=="/"&&x.push("/")),m.path!==void 0){let S=m.path;!y.absolutePath&&(!g||!g.absolutePath)&&(S=t(S)),_===void 0&&S[0]==="/"&&S[1]==="/"&&(S="/%2F"+S.slice(2)),x.push(S)}return m.query!==void 0&&x.push("?",m.query),m.fragment!==void 0&&x.push("#",m.fragment),x.join("")}const p=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function v(f,b){const m=Object.assign({},b),y={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0};let x=!1;m.reference==="suffix"&&(m.scheme?f=m.scheme+":"+f:f="//"+f);const g=f.match(p);if(g){if(y.scheme=g[1],y.userinfo=g[3],y.host=g[4],y.port=parseInt(g[5],10),y.path=g[6]||"",y.query=g[7],y.fragment=g[8],isNaN(y.port)&&(y.port=g[5]),y.host)if(a(y.host)===!1){const E=e(y.host);y.host=E.host.toLowerCase(),x=E.isIPV6}else x=!0;y.scheme===void 0&&y.userinfo===void 0&&y.host===void 0&&y.port===void 0&&y.query===void 0&&!y.path?y.reference="same-document":y.scheme===void 0?y.reference="relative":y.fragment===void 0?y.reference="absolute":y.reference="uri",m.reference&&m.reference!=="suffix"&&m.reference!==y.reference&&(y.error=y.error||"URI is not a "+m.reference+" reference.");const _=s(m.scheme||y.scheme);if(!m.unicodeSupport&&(!_||!_.unicodeSupport)&&y.host&&(m.domainHost||_&&_.domainHost)&&x===!1&&i(y.host))try{y.host=URL.domainToASCII(y.host.toLowerCase())}catch(S){y.error=y.error||"Host's domain name can not be converted to ASCII: "+S}(!_||_&&!_.skipNormalize)&&(f.indexOf("%")!==-1&&(y.scheme!==void 0&&(y.scheme=unescape(y.scheme)),y.host!==void 0&&(y.host=unescape(y.host))),y.path&&(y.path=escape(unescape(y.path))),y.fragment&&(y.fragment=encodeURI(decodeURIComponent(y.fragment)))),_&&_.parse&&_.parse(y,m)}else y.error=y.error||"URI can not be parsed.";return y}const w={SCHEMES:o,normalize:c,resolve:l,resolveComponent:u,equal:d,serialize:h,parse:v};return ii.exports=w,ii.exports.default=w,ii.exports.fastUri=w,ii.exports}var Tv;function QR(){if(Tv)return So;Tv=1,Object.defineProperty(So,"__esModule",{value:!0});const e=LS();return e.code='require("ajv/dist/runtime/uri").default',So.default=e,So}var Cv;function eM(){return Cv||(Cv=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=$l();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=we();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Hh(),a=kl(),i=MS(),o=Zh(),s=we(),c=Pl(),l=wc(),u=Ee(),d=JR,h=QR(),p=(F,T)=>new RegExp(F,T);p.code="new RegExp";const v=["removeAdditional","useDefaults","coerceTypes"],w=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),f={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},b={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},m=200;function y(F){var T,z,A,P,N,D,K,Y,V,X,O,j,M,q,Z,ee,pe,_e,Se,$e,he,Ge,ke,qt,kt;const tt=F.strict,Et=(T=F.code)===null||T===void 0?void 0:T.optimize,rr=Et===!0||Et===void 0?1:Et||0,pn=(A=(z=F.code)===null||z===void 0?void 0:z.regExp)!==null&&A!==void 0?A:p,ri=(P=F.uriResolver)!==null&&P!==void 0?P:h.default;return{strictSchema:(D=(N=F.strictSchema)!==null&&N!==void 0?N:tt)!==null&&D!==void 0?D:!0,strictNumbers:(Y=(K=F.strictNumbers)!==null&&K!==void 0?K:tt)!==null&&Y!==void 0?Y:!0,strictTypes:(X=(V=F.strictTypes)!==null&&V!==void 0?V:tt)!==null&&X!==void 0?X:"log",strictTuples:(j=(O=F.strictTuples)!==null&&O!==void 0?O:tt)!==null&&j!==void 0?j:"log",strictRequired:(q=(M=F.strictRequired)!==null&&M!==void 0?M:tt)!==null&&q!==void 0?q:!1,code:F.code?{...F.code,optimize:rr,regExp:pn}:{optimize:rr,regExp:pn},loopRequired:(Z=F.loopRequired)!==null&&Z!==void 0?Z:m,loopEnum:(ee=F.loopEnum)!==null&&ee!==void 0?ee:m,meta:(pe=F.meta)!==null&&pe!==void 0?pe:!0,messages:(_e=F.messages)!==null&&_e!==void 0?_e:!0,inlineRefs:(Se=F.inlineRefs)!==null&&Se!==void 0?Se:!0,schemaId:($e=F.schemaId)!==null&&$e!==void 0?$e:"$id",addUsedSchema:(he=F.addUsedSchema)!==null&&he!==void 0?he:!0,validateSchema:(Ge=F.validateSchema)!==null&&Ge!==void 0?Ge:!0,validateFormats:(ke=F.validateFormats)!==null&&ke!==void 0?ke:!0,unicodeRegExp:(qt=F.unicodeRegExp)!==null&&qt!==void 0?qt:!0,int32range:(kt=F.int32range)!==null&&kt!==void 0?kt:!0,uriResolver:ri}}class x{constructor(T={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,T=this.opts={...T,...y(T)};const{es5:z,lines:A}=this.opts.code;this.scope=new s.ValueScope({scope:{},prefixes:w,es5:z,lines:A}),this.logger=C(T.logger);const P=T.validateFormats;T.validateFormats=!1,this.RULES=(0,i.getRules)(),g.call(this,f,T,"NOT SUPPORTED"),g.call(this,b,T,"DEPRECATED","warn"),this._metaOpts=L.call(this),T.formats&&E.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),T.keywords&&I.call(this,T.keywords),typeof T.meta=="object"&&this.addMetaSchema(T.meta),S.call(this),T.validateFormats=P}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:T,meta:z,schemaId:A}=this.opts;let P=d;A==="id"&&(P={...d},P.id=P.$id,delete P.$id),z&&T&&this.addMetaSchema(P,P[A],!1)}defaultMeta(){const{meta:T,schemaId:z}=this.opts;return this.opts.defaultMeta=typeof T=="object"?T[z]||T:void 0}validate(T,z){let A;if(typeof T=="string"){if(A=this.getSchema(T),!A)throw new Error(`no schema with key or ref "${T}"`)}else A=this.compile(T);const P=A(z);return"$async"in A||(this.errors=A.errors),P}compile(T,z){const A=this._addSchema(T,z);return A.validate||this._compileSchemaEnv(A)}compileAsync(T,z){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:A}=this.opts;return P.call(this,T,z);async function P(X,O){await N.call(this,X.$schema);const j=this._addSchema(X,O);return j.validate||D.call(this,j)}async function N(X){X&&!this.getSchema(X)&&await P.call(this,{$ref:X},!0)}async function D(X){try{return this._compileSchemaEnv(X)}catch(O){if(!(O instanceof a.default))throw O;return K.call(this,O),await Y.call(this,O.missingSchema),D.call(this,X)}}function K({missingSchema:X,missingRef:O}){if(this.refs[X])throw new Error(`AnySchema ${X} is loaded but ${O} cannot be resolved`)}async function Y(X){const O=await V.call(this,X);this.refs[X]||await N.call(this,O.$schema),this.refs[X]||this.addSchema(O,X,z)}async function V(X){const O=this._loading[X];if(O)return O;try{return await(this._loading[X]=A(X))}finally{delete this._loading[X]}}}addSchema(T,z,A,P=this.opts.validateSchema){if(Array.isArray(T)){for(const D of T)this.addSchema(D,void 0,A,P);return this}let N;if(typeof T=="object"){const{schemaId:D}=this.opts;if(N=T[D],N!==void 0&&typeof N!="string")throw new Error(`schema ${D} must be string`)}return z=(0,c.normalizeId)(z||N),this._checkUnique(z),this.schemas[z]=this._addSchema(T,A,z,P,!0),this}addMetaSchema(T,z,A=this.opts.validateSchema){return this.addSchema(T,z,!0,A),this}validateSchema(T,z){if(typeof T=="boolean")return!0;let A;if(A=T.$schema,A!==void 0&&typeof A!="string")throw new Error("$schema must be a string");if(A=A||this.opts.defaultMeta||this.defaultMeta(),!A)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const P=this.validate(A,T);if(!P&&z){const N="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(N);else throw new Error(N)}return P}getSchema(T){let z;for(;typeof(z=_.call(this,T))=="string";)T=z;if(z===void 0){const{schemaId:A}=this.opts,P=new o.SchemaEnv({schema:{},schemaId:A});if(z=o.resolveSchema.call(this,P,T),!z)return;this.refs[T]=z}return z.validate||this._compileSchemaEnv(z)}removeSchema(T){if(T instanceof RegExp)return this._removeAllSchemas(this.schemas,T),this._removeAllSchemas(this.refs,T),this;switch(typeof T){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const z=_.call(this,T);return typeof z=="object"&&this._cache.delete(z.schema),delete this.schemas[T],delete this.refs[T],this}case"object":{const z=T;this._cache.delete(z);let A=T[this.opts.schemaId];return A&&(A=(0,c.normalizeId)(A),delete this.schemas[A],delete this.refs[A]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(T){for(const z of T)this.addKeyword(z);return this}addKeyword(T,z){let A;if(typeof T=="string")A=T,typeof z=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),z.keyword=A);else if(typeof T=="object"&&z===void 0){if(z=T,A=z.keyword,Array.isArray(A)&&!A.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(B.call(this,A,z),!z)return(0,u.eachItem)(A,N=>Q.call(this,N)),this;te.call(this,z);const P={...z,type:(0,l.getJSONTypes)(z.type),schemaType:(0,l.getJSONTypes)(z.schemaType)};return(0,u.eachItem)(A,P.type.length===0?N=>Q.call(this,N,P):N=>P.type.forEach(D=>Q.call(this,N,P,D))),this}getKeyword(T){const z=this.RULES.all[T];return typeof z=="object"?z.definition:!!z}removeKeyword(T){const{RULES:z}=this;delete z.keywords[T],delete z.all[T];for(const A of z.rules){const P=A.rules.findIndex(N=>N.keyword===T);P>=0&&A.rules.splice(P,1)}return this}addFormat(T,z){return typeof z=="string"&&(z=new RegExp(z)),this.formats[T]=z,this}errorsText(T=this.errors,{separator:z=", ",dataVar:A="data"}={}){return!T||T.length===0?"No errors":T.map(P=>`${A}${P.instancePath} ${P.message}`).reduce((P,N)=>P+z+N)}$dataMetaSchema(T,z){const A=this.RULES.all;T=JSON.parse(JSON.stringify(T));for(const P of z){const N=P.split("/").slice(1);let D=T;for(const K of N)D=D[K];for(const K in A){const Y=A[K];if(typeof Y!="object")continue;const{$data:V}=Y.definition,X=D[K];V&&X&&(D[K]=ue(X))}}return T}_removeAllSchemas(T,z){for(const A in T){const P=T[A];(!z||z.test(A))&&(typeof P=="string"?delete T[A]:P&&!P.meta&&(this._cache.delete(P.schema),delete T[A]))}}_addSchema(T,z,A,P=this.opts.validateSchema,N=this.opts.addUsedSchema){let D;const{schemaId:K}=this.opts;if(typeof T=="object")D=T[K];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof T!="boolean")throw new Error("schema must be object or boolean")}let Y=this._cache.get(T);if(Y!==void 0)return Y;A=(0,c.normalizeId)(D||A);const V=c.getSchemaRefs.call(this,T,A);return Y=new o.SchemaEnv({schema:T,schemaId:K,meta:z,baseId:A,localRefs:V}),this._cache.set(Y.schema,Y),N&&!A.startsWith("#")&&(A&&this._checkUnique(A),this.refs[A]=Y),P&&this.validateSchema(T,!0),Y}_checkUnique(T){if(this.schemas[T]||this.refs[T])throw new Error(`schema with key or id "${T}" already exists`)}_compileSchemaEnv(T){if(T.meta?this._compileMetaSchema(T):o.compileSchema.call(this,T),!T.validate)throw new Error("ajv implementation error");return T.validate}_compileMetaSchema(T){const z=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,T)}finally{this.opts=z}}}x.ValidationError=n.default,x.MissingRefError=a.default,e.default=x;function g(F,T,z,A="error"){for(const P in F){const N=P;N in T&&this.logger[A](`${z}: option ${P}. ${F[N]}`)}}function _(F){return F=(0,c.normalizeId)(F),this.schemas[F]||this.refs[F]}function S(){const F=this.opts.schemas;if(F)if(Array.isArray(F))this.addSchema(F);else for(const T in F)this.addSchema(F[T],T)}function E(){for(const F in this.opts.formats){const T=this.opts.formats[F];T&&this.addFormat(F,T)}}function I(F){if(Array.isArray(F)){this.addVocabulary(F);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const T in F){const z=F[T];z.keyword||(z.keyword=T),this.addKeyword(z)}}function L(){const F={...this.opts};for(const T of v)delete F[T];return F}const R={log(){},warn(){},error(){}};function C(F){if(F===!1)return R;if(F===void 0)return console;if(F.log&&F.warn&&F.error)return F;throw new Error("logger must implement log, warn and error methods")}const U=/^[a-z_$][a-z0-9_$:-]*$/i;function B(F,T){const{RULES:z}=this;if((0,u.eachItem)(F,A=>{if(z.keywords[A])throw new Error(`Keyword ${A} is already defined`);if(!U.test(A))throw new Error(`Keyword ${A} has invalid name`)}),!!T&&T.$data&&!("code"in T||"validate"in T))throw new Error('$data keyword must have "code" or "validate" function')}function Q(F,T,z){var A;const P=T?.post;if(z&&P)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:N}=this;let D=P?N.post:N.rules.find(({type:Y})=>Y===z);if(D||(D={type:z,rules:[]},N.rules.push(D)),N.keywords[F]=!0,!T)return;const K={keyword:F,definition:{...T,type:(0,l.getJSONTypes)(T.type),schemaType:(0,l.getJSONTypes)(T.schemaType)}};T.before?ae.call(this,D,K,T.before):D.rules.push(K),N.all[F]=K,(A=T.implements)===null||A===void 0||A.forEach(Y=>this.addKeyword(Y))}function ae(F,T,z){const A=F.rules.findIndex(P=>P.keyword===z);A>=0?F.rules.splice(A,0,T):(F.rules.push(T),this.logger.warn(`rule ${z} is not defined`))}function te(F){let{metaSchema:T}=F;T!==void 0&&(F.$data&&this.opts.$data&&(T=ue(T)),F.validateSchema=this.compile(T,!0))}const W={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ue(F){return{anyOf:[F,W]}}})(Su)),Su}var Po={},$o={},ko={},Av;function tM(){if(Av)return ko;Av=1,Object.defineProperty(ko,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return ko.default=e,ko}var vn={},Iv;function rM(){if(Iv)return vn;Iv=1,Object.defineProperty(vn,"__esModule",{value:!0}),vn.callRef=vn.getValidate=void 0;const e=kl(),t=xr(),r=we(),n=Nn(),a=Zh(),i=Ee(),o={keyword:"$ref",schemaType:"string",code(l){const{gen:u,schema:d,it:h}=l,{baseId:p,schemaEnv:v,validateName:w,opts:f,self:b}=h,{root:m}=v;if((d==="#"||d==="#/")&&p===m.baseId)return x();const y=a.resolveRef.call(b,m,p,d);if(y===void 0)throw new e.default(h.opts.uriResolver,p,d);if(y instanceof a.SchemaEnv)return g(y);return _(y);function x(){if(v===m)return c(l,w,v,v.$async);const S=u.scopeValue("root",{ref:m});return c(l,(0,r._)`${S}.validate`,m,m.$async)}function g(S){const E=s(l,S);c(l,E,S,S.$async)}function _(S){const E=u.scopeValue("schema",f.code.source===!0?{ref:S,code:(0,r.stringify)(S)}:{ref:S}),I=u.name("valid"),L=l.subschema({schema:S,dataTypes:[],schemaPath:r.nil,topSchemaRef:E,errSchemaPath:d},I);l.mergeEvaluated(L),l.ok(I)}}};function s(l,u){const{gen:d}=l;return u.validate?d.scopeValue("validate",{ref:u.validate}):(0,r._)`${d.scopeValue("wrapper",{ref:u})}.validate`}vn.getValidate=s;function c(l,u,d,h){const{gen:p,it:v}=l,{allErrors:w,schemaEnv:f,opts:b}=v,m=b.passContext?n.default.this:r.nil;h?y():x();function y(){if(!f.$async)throw new Error("async schema referenced by sync schema");const S=p.let("valid");p.try(()=>{p.code((0,r._)`await ${(0,t.callValidateCode)(l,u,m)}`),_(u),w||p.assign(S,!0)},E=>{p.if((0,r._)`!(${E} instanceof ${v.ValidationError})`,()=>p.throw(E)),g(E),w||p.assign(S,!1)}),l.ok(S)}function x(){l.result((0,t.callValidateCode)(l,u,m),()=>_(u),()=>g(u))}function g(S){const E=(0,r._)`${S}.errors`;p.assign(n.default.vErrors,(0,r._)`${n.default.vErrors} === null ? ${E} : ${n.default.vErrors}.concat(${E})`),p.assign(n.default.errors,(0,r._)`${n.default.vErrors}.length`)}function _(S){var E;if(!v.opts.unevaluated)return;const I=(E=d?.validate)===null||E===void 0?void 0:E.evaluated;if(v.props!==!0)if(I&&!I.dynamicProps)I.props!==void 0&&(v.props=i.mergeEvaluated.props(p,I.props,v.props));else{const L=p.var("props",(0,r._)`${S}.evaluated.props`);v.props=i.mergeEvaluated.props(p,L,v.props,r.Name)}if(v.items!==!0)if(I&&!I.dynamicItems)I.items!==void 0&&(v.items=i.mergeEvaluated.items(p,I.items,v.items));else{const L=p.var("items",(0,r._)`${S}.evaluated.items`);v.items=i.mergeEvaluated.items(p,L,v.items,r.Name)}}}return vn.callRef=c,vn.default=o,vn}var Rv;function nM(){if(Rv)return $o;Rv=1,Object.defineProperty($o,"__esModule",{value:!0});const e=tM(),t=rM(),r=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default];return $o.default=r,$o}var Eo={},Oo={},Mv;function aM(){if(Mv)return Oo;Mv=1,Object.defineProperty(Oo,"__esModule",{value:!0});const e=we(),t=e.operators,r={maximum:{okStr:"<=",ok:t.LTE,fail:t.GT},minimum:{okStr:">=",ok:t.GTE,fail:t.LT},exclusiveMaximum:{okStr:"<",ok:t.LT,fail:t.GTE},exclusiveMinimum:{okStr:">",ok:t.GT,fail:t.LTE}},n={message:({keyword:i,schemaCode:o})=>(0,e.str)`must be ${r[i].okStr} ${o}`,params:({keyword:i,schemaCode:o})=>(0,e._)`{comparison: ${r[i].okStr}, limit: ${o}}`},a={keyword:Object.keys(r),type:"number",schemaType:"number",$data:!0,error:n,code(i){const{keyword:o,data:s,schemaCode:c}=i;i.fail$data((0,e._)`${s} ${r[o].fail} ${c} || isNaN(${s})`)}};return Oo.default=a,Oo}var jo={},Dv;function iM(){if(Dv)return jo;Dv=1,Object.defineProperty(jo,"__esModule",{value:!0});const e=we(),r={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:n})=>(0,e.str)`must be multiple of ${n}`,params:({schemaCode:n})=>(0,e._)`{multipleOf: ${n}}`},code(n){const{gen:a,data:i,schemaCode:o,it:s}=n,c=s.opts.multipleOfPrecision,l=a.let("res"),u=c?(0,e._)`Math.abs(Math.round(${l}) - ${l}) > 1e-${c}`:(0,e._)`${l} !== parseInt(${l})`;n.fail$data((0,e._)`(${o} === 0 || (${l} = ${i}/${o}, ${u}))`)}};return jo.default=r,jo}var No={},To={},zv;function oM(){if(zv)return To;zv=1,Object.defineProperty(To,"__esModule",{value:!0});function e(t){const r=t.length;let n=0,a=0,i;for(;a<r;)n++,i=t.charCodeAt(a++),i>=55296&&i<=56319&&a<r&&(i=t.charCodeAt(a),(i&64512)===56320&&a++);return n}return To.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',To}var Lv;function sM(){if(Lv)return No;Lv=1,Object.defineProperty(No,"__esModule",{value:!0});const e=we(),t=Ee(),r=oM(),a={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:i,schemaCode:o}){const s=i==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${s} than ${o} characters`},params:({schemaCode:i})=>(0,e._)`{limit: ${i}}`},code(i){const{keyword:o,data:s,schemaCode:c,it:l}=i,u=o==="maxLength"?e.operators.GT:e.operators.LT,d=l.opts.unicode===!1?(0,e._)`${s}.length`:(0,e._)`${(0,t.useFunc)(i.gen,r.default)}(${s})`;i.fail$data((0,e._)`${d} ${u} ${c}`)}};return No.default=a,No}var Co={},qv;function cM(){if(qv)return Co;qv=1,Object.defineProperty(Co,"__esModule",{value:!0});const e=xr(),t=we(),n={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:a})=>(0,t.str)`must match pattern "${a}"`,params:({schemaCode:a})=>(0,t._)`{pattern: ${a}}`},code(a){const{data:i,$data:o,schema:s,schemaCode:c,it:l}=a,u=l.opts.unicodeRegExp?"u":"",d=o?(0,t._)`(new RegExp(${c}, ${u}))`:(0,e.usePattern)(a,s);a.fail$data((0,t._)`!${d}.test(${i})`)}};return Co.default=n,Co}var Ao={},Fv;function lM(){if(Fv)return Ao;Fv=1,Object.defineProperty(Ao,"__esModule",{value:!0});const e=we(),r={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:a}){const i=n==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${i} than ${a} properties`},params:({schemaCode:n})=>(0,e._)`{limit: ${n}}`},code(n){const{keyword:a,data:i,schemaCode:o}=n,s=a==="maxProperties"?e.operators.GT:e.operators.LT;n.fail$data((0,e._)`Object.keys(${i}).length ${s} ${o}`)}};return Ao.default=r,Ao}var Io={},Uv;function uM(){if(Uv)return Io;Uv=1,Object.defineProperty(Io,"__esModule",{value:!0});const e=xr(),t=we(),r=Ee(),a={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:i}})=>(0,t.str)`must have required property '${i}'`,params:({params:{missingProperty:i}})=>(0,t._)`{missingProperty: ${i}}`},code(i){const{gen:o,schema:s,schemaCode:c,data:l,$data:u,it:d}=i,{opts:h}=d;if(!u&&s.length===0)return;const p=s.length>=h.loopRequired;if(d.allErrors?v():w(),h.strictRequired){const m=i.parentSchema.properties,{definedProperties:y}=i.it;for(const x of s)if(m?.[x]===void 0&&!y.has(x)){const g=d.schemaEnv.baseId+d.errSchemaPath,_=`required property "${x}" is not defined at "${g}" (strictRequired)`;(0,r.checkStrictMode)(d,_,d.opts.strictRequired)}}function v(){if(p||u)i.block$data(t.nil,f);else for(const m of s)(0,e.checkReportMissingProp)(i,m)}function w(){const m=o.let("missing");if(p||u){const y=o.let("valid",!0);i.block$data(y,()=>b(m,y)),i.ok(y)}else o.if((0,e.checkMissingProp)(i,s,m)),(0,e.reportMissingProp)(i,m),o.else()}function f(){o.forOf("prop",c,m=>{i.setParams({missingProperty:m}),o.if((0,e.noPropertyInData)(o,l,m,h.ownProperties),()=>i.error())})}function b(m,y){i.setParams({missingProperty:m}),o.forOf(m,c,()=>{o.assign(y,(0,e.propertyInData)(o,l,m,h.ownProperties)),o.if((0,t.not)(y),()=>{i.error(),o.break()})},t.nil)}}};return Io.default=a,Io}var Ro={},Vv;function dM(){if(Vv)return Ro;Vv=1,Object.defineProperty(Ro,"__esModule",{value:!0});const e=we(),r={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:a}){const i=n==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${i} than ${a} items`},params:({schemaCode:n})=>(0,e._)`{limit: ${n}}`},code(n){const{keyword:a,data:i,schemaCode:o}=n,s=a==="maxItems"?e.operators.GT:e.operators.LT;n.fail$data((0,e._)`${i}.length ${s} ${o}`)}};return Ro.default=r,Ro}var Mo={},Do={},Bv;function Gh(){if(Bv)return Do;Bv=1,Object.defineProperty(Do,"__esModule",{value:!0});const e=Sl();return e.code='require("ajv/dist/runtime/equal").default',Do.default=e,Do}var Kv;function fM(){if(Kv)return Mo;Kv=1,Object.defineProperty(Mo,"__esModule",{value:!0});const e=wc(),t=we(),r=Ee(),n=Gh(),i={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:o,j:s}})=>(0,t.str)`must NOT have duplicate items (items ## ${s} and ${o} are identical)`,params:({params:{i:o,j:s}})=>(0,t._)`{i: ${o}, j: ${s}}`},code(o){const{gen:s,data:c,$data:l,schema:u,parentSchema:d,schemaCode:h,it:p}=o;if(!l&&!u)return;const v=s.let("valid"),w=d.items?(0,e.getSchemaTypes)(d.items):[];o.block$data(v,f,(0,t._)`${h} === false`),o.ok(v);function f(){const x=s.let("i",(0,t._)`${c}.length`),g=s.let("j");o.setParams({i:x,j:g}),s.assign(v,!0),s.if((0,t._)`${x} > 1`,()=>(b()?m:y)(x,g))}function b(){return w.length>0&&!w.some(x=>x==="object"||x==="array")}function m(x,g){const _=s.name("item"),S=(0,e.checkDataTypes)(w,_,p.opts.strictNumbers,e.DataType.Wrong),E=s.const("indices",(0,t._)`{}`);s.for((0,t._)`;${x}--;`,()=>{s.let(_,(0,t._)`${c}[${x}]`),s.if(S,(0,t._)`continue`),w.length>1&&s.if((0,t._)`typeof ${_} == "string"`,(0,t._)`${_} += "_"`),s.if((0,t._)`typeof ${E}[${_}] == "number"`,()=>{s.assign(g,(0,t._)`${E}[${_}]`),o.error(),s.assign(v,!1).break()}).code((0,t._)`${E}[${_}] = ${x}`)})}function y(x,g){const _=(0,r.useFunc)(s,n.default),S=s.name("outer");s.label(S).for((0,t._)`;${x}--;`,()=>s.for((0,t._)`${g} = ${x}; ${g}--;`,()=>s.if((0,t._)`${_}(${c}[${x}], ${c}[${g}])`,()=>{o.error(),s.assign(v,!1).break(S)})))}}};return Mo.default=i,Mo}var zo={},Wv;function hM(){if(Wv)return zo;Wv=1,Object.defineProperty(zo,"__esModule",{value:!0});const e=we(),t=Ee(),r=Gh(),a={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:i})=>(0,e._)`{allowedValue: ${i}}`},code(i){const{gen:o,data:s,$data:c,schemaCode:l,schema:u}=i;c||u&&typeof u=="object"?i.fail$data((0,e._)`!${(0,t.useFunc)(o,r.default)}(${s}, ${l})`):i.fail((0,e._)`${u} !== ${s}`)}};return zo.default=a,zo}var Lo={},Hv;function pM(){if(Hv)return Lo;Hv=1,Object.defineProperty(Lo,"__esModule",{value:!0});const e=we(),t=Ee(),r=Gh(),a={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:i})=>(0,e._)`{allowedValues: ${i}}`},code(i){const{gen:o,data:s,$data:c,schema:l,schemaCode:u,it:d}=i;if(!c&&l.length===0)throw new Error("enum must have non-empty array");const h=l.length>=d.opts.loopEnum;let p;const v=()=>p??(p=(0,t.useFunc)(o,r.default));let w;if(h||c)w=o.let("valid"),i.block$data(w,f);else{if(!Array.isArray(l))throw new Error("ajv implementation error");const m=o.const("vSchema",u);w=(0,e.or)(...l.map((y,x)=>b(m,x)))}i.pass(w);function f(){o.assign(w,!1),o.forOf("v",u,m=>o.if((0,e._)`${v()}(${s}, ${m})`,()=>o.assign(w,!0).break()))}function b(m,y){const x=l[y];return typeof x=="object"&&x!==null?(0,e._)`${v()}(${s}, ${m}[${y}])`:(0,e._)`${s} === ${x}`}}};return Lo.default=a,Lo}var Zv;function mM(){if(Zv)return Eo;Zv=1,Object.defineProperty(Eo,"__esModule",{value:!0});const e=aM(),t=iM(),r=sM(),n=cM(),a=lM(),i=uM(),o=dM(),s=fM(),c=hM(),l=pM(),u=[e.default,t.default,r.default,n.default,a.default,i.default,o.default,s.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},c.default,l.default];return Eo.default=u,Eo}var qo={},ha={},Gv;function qS(){if(Gv)return ha;Gv=1,Object.defineProperty(ha,"__esModule",{value:!0}),ha.validateAdditionalItems=void 0;const e=we(),t=Ee(),n={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:i}})=>(0,e.str)`must NOT have more than ${i} items`,params:({params:{len:i}})=>(0,e._)`{limit: ${i}}`},code(i){const{parentSchema:o,it:s}=i,{items:c}=o;if(!Array.isArray(c)){(0,t.checkStrictMode)(s,'"additionalItems" is ignored when "items" is not an array of schemas');return}a(i,c)}};function a(i,o){const{gen:s,schema:c,data:l,keyword:u,it:d}=i;d.items=!0;const h=s.const("len",(0,e._)`${l}.length`);if(c===!1)i.setParams({len:o.length}),i.pass((0,e._)`${h} <= ${o.length}`);else if(typeof c=="object"&&!(0,t.alwaysValidSchema)(d,c)){const v=s.var("valid",(0,e._)`${h} <= ${o.length}`);s.if((0,e.not)(v),()=>p(v)),i.ok(v)}function p(v){s.forRange("i",o.length,h,w=>{i.subschema({keyword:u,dataProp:w,dataPropType:t.Type.Num},v),d.allErrors||s.if((0,e.not)(v),()=>s.break())})}}return ha.validateAdditionalItems=a,ha.default=n,ha}var Fo={},pa={},Yv;function FS(){if(Yv)return pa;Yv=1,Object.defineProperty(pa,"__esModule",{value:!0}),pa.validateTuple=void 0;const e=we(),t=Ee(),r=xr(),n={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(i){const{schema:o,it:s}=i;if(Array.isArray(o))return a(i,"additionalItems",o);s.items=!0,!(0,t.alwaysValidSchema)(s,o)&&i.ok((0,r.validateArray)(i))}};function a(i,o,s=i.schema){const{gen:c,parentSchema:l,data:u,keyword:d,it:h}=i;w(l),h.opts.unevaluated&&s.length&&h.items!==!0&&(h.items=t.mergeEvaluated.items(c,s.length,h.items));const p=c.name("valid"),v=c.const("len",(0,e._)`${u}.length`);s.forEach((f,b)=>{(0,t.alwaysValidSchema)(h,f)||(c.if((0,e._)`${v} > ${b}`,()=>i.subschema({keyword:d,schemaProp:b,dataProp:b},p)),i.ok(p))});function w(f){const{opts:b,errSchemaPath:m}=h,y=s.length,x=y===f.minItems&&(y===f.maxItems||f[o]===!1);if(b.strictTuples&&!x){const g=`"${d}" is ${y}-tuple, but minItems or maxItems/${o} are not specified or different at path "${m}"`;(0,t.checkStrictMode)(h,g,b.strictTuples)}}}return pa.validateTuple=a,pa.default=n,pa}var Jv;function vM(){if(Jv)return Fo;Jv=1,Object.defineProperty(Fo,"__esModule",{value:!0});const e=FS(),t={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:r=>(0,e.validateTuple)(r,"items")};return Fo.default=t,Fo}var Uo={},Xv;function yM(){if(Xv)return Uo;Xv=1,Object.defineProperty(Uo,"__esModule",{value:!0});const e=we(),t=Ee(),r=xr(),n=qS(),i={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:o}})=>(0,e.str)`must NOT have more than ${o} items`,params:({params:{len:o}})=>(0,e._)`{limit: ${o}}`},code(o){const{schema:s,parentSchema:c,it:l}=o,{prefixItems:u}=c;l.items=!0,!(0,t.alwaysValidSchema)(l,s)&&(u?(0,n.validateAdditionalItems)(o,u):o.ok((0,r.validateArray)(o)))}};return Uo.default=i,Uo}var Vo={},Qv;function gM(){if(Qv)return Vo;Qv=1,Object.defineProperty(Vo,"__esModule",{value:!0});const e=we(),t=Ee(),n={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:a,max:i}})=>i===void 0?(0,e.str)`must contain at least ${a} valid item(s)`:(0,e.str)`must contain at least ${a} and no more than ${i} valid item(s)`,params:({params:{min:a,max:i}})=>i===void 0?(0,e._)`{minContains: ${a}}`:(0,e._)`{minContains: ${a}, maxContains: ${i}}`},code(a){const{gen:i,schema:o,parentSchema:s,data:c,it:l}=a;let u,d;const{minContains:h,maxContains:p}=s;l.opts.next?(u=h===void 0?1:h,d=p):u=1;const v=i.const("len",(0,e._)`${c}.length`);if(a.setParams({min:u,max:d}),d===void 0&&u===0){(0,t.checkStrictMode)(l,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(d!==void 0&&u>d){(0,t.checkStrictMode)(l,'"minContains" > "maxContains" is always invalid'),a.fail();return}if((0,t.alwaysValidSchema)(l,o)){let y=(0,e._)`${v} >= ${u}`;d!==void 0&&(y=(0,e._)`${y} && ${v} <= ${d}`),a.pass(y);return}l.items=!0;const w=i.name("valid");d===void 0&&u===1?b(w,()=>i.if(w,()=>i.break())):u===0?(i.let(w,!0),d!==void 0&&i.if((0,e._)`${c}.length > 0`,f)):(i.let(w,!1),f()),a.result(w,()=>a.reset());function f(){const y=i.name("_valid"),x=i.let("count",0);b(y,()=>i.if(y,()=>m(x)))}function b(y,x){i.forRange("i",0,v,g=>{a.subschema({keyword:"contains",dataProp:g,dataPropType:t.Type.Num,compositeRule:!0},y),x()})}function m(y){i.code((0,e._)`${y}++`),d===void 0?i.if((0,e._)`${y} >= ${u}`,()=>i.assign(w,!0).break()):(i.if((0,e._)`${y} > ${d}`,()=>i.assign(w,!1).break()),u===1?i.assign(w,!0):i.if((0,e._)`${y} >= ${u}`,()=>i.assign(w,!0)))}}};return Vo.default=n,Vo}var Cu={},ey;function bM(){return ey||(ey=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=we(),r=Ee(),n=xr();e.error={message:({params:{property:c,depsCount:l,deps:u}})=>{const d=l===1?"property":"properties";return(0,t.str)`must have ${d} ${u} when property ${c} is present`},params:({params:{property:c,depsCount:l,deps:u,missingProperty:d}})=>(0,t._)`{property: ${c},
    missingProperty: ${d},
    depsCount: ${l},
    deps: ${u}}`};const a={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(c){const[l,u]=i(c);o(c,l),s(c,u)}};function i({schema:c}){const l={},u={};for(const d in c){if(d==="__proto__")continue;const h=Array.isArray(c[d])?l:u;h[d]=c[d]}return[l,u]}function o(c,l=c.schema){const{gen:u,data:d,it:h}=c;if(Object.keys(l).length===0)return;const p=u.let("missing");for(const v in l){const w=l[v];if(w.length===0)continue;const f=(0,n.propertyInData)(u,d,v,h.opts.ownProperties);c.setParams({property:v,depsCount:w.length,deps:w.join(", ")}),h.allErrors?u.if(f,()=>{for(const b of w)(0,n.checkReportMissingProp)(c,b)}):(u.if((0,t._)`${f} && (${(0,n.checkMissingProp)(c,w,p)})`),(0,n.reportMissingProp)(c,p),u.else())}}e.validatePropertyDeps=o;function s(c,l=c.schema){const{gen:u,data:d,keyword:h,it:p}=c,v=u.name("valid");for(const w in l)(0,r.alwaysValidSchema)(p,l[w])||(u.if((0,n.propertyInData)(u,d,w,p.opts.ownProperties),()=>{const f=c.subschema({keyword:h,schemaProp:w},v);c.mergeValidEvaluated(f,v)},()=>u.var(v,!0)),c.ok(v))}e.validateSchemaDeps=s,e.default=a})(Cu)),Cu}var Bo={},ty;function wM(){if(ty)return Bo;ty=1,Object.defineProperty(Bo,"__esModule",{value:!0});const e=we(),t=Ee(),n={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:a})=>(0,e._)`{propertyName: ${a.propertyName}}`},code(a){const{gen:i,schema:o,data:s,it:c}=a;if((0,t.alwaysValidSchema)(c,o))return;const l=i.name("valid");i.forIn("key",s,u=>{a.setParams({propertyName:u}),a.subschema({keyword:"propertyNames",data:u,dataTypes:["string"],propertyName:u,compositeRule:!0},l),i.if((0,e.not)(l),()=>{a.error(!0),c.allErrors||i.break()})}),a.ok(l)}};return Bo.default=n,Bo}var Ko={},ry;function US(){if(ry)return Ko;ry=1,Object.defineProperty(Ko,"__esModule",{value:!0});const e=xr(),t=we(),r=Nn(),n=Ee(),i={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:o})=>(0,t._)`{additionalProperty: ${o.additionalProperty}}`},code(o){const{gen:s,schema:c,parentSchema:l,data:u,errsCount:d,it:h}=o;if(!d)throw new Error("ajv implementation error");const{allErrors:p,opts:v}=h;if(h.props=!0,v.removeAdditional!=="all"&&(0,n.alwaysValidSchema)(h,c))return;const w=(0,e.allSchemaProperties)(l.properties),f=(0,e.allSchemaProperties)(l.patternProperties);b(),o.ok((0,t._)`${d} === ${r.default.errors}`);function b(){s.forIn("key",u,_=>{!w.length&&!f.length?x(_):s.if(m(_),()=>x(_))})}function m(_){let S;if(w.length>8){const E=(0,n.schemaRefOrVal)(h,l.properties,"properties");S=(0,e.isOwnProperty)(s,E,_)}else w.length?S=(0,t.or)(...w.map(E=>(0,t._)`${_} === ${E}`)):S=t.nil;return f.length&&(S=(0,t.or)(S,...f.map(E=>(0,t._)`${(0,e.usePattern)(o,E)}.test(${_})`))),(0,t.not)(S)}function y(_){s.code((0,t._)`delete ${u}[${_}]`)}function x(_){if(v.removeAdditional==="all"||v.removeAdditional&&c===!1){y(_);return}if(c===!1){o.setParams({additionalProperty:_}),o.error(),p||s.break();return}if(typeof c=="object"&&!(0,n.alwaysValidSchema)(h,c)){const S=s.name("valid");v.removeAdditional==="failing"?(g(_,S,!1),s.if((0,t.not)(S),()=>{o.reset(),y(_)})):(g(_,S),p||s.if((0,t.not)(S),()=>s.break()))}}function g(_,S,E){const I={keyword:"additionalProperties",dataProp:_,dataPropType:n.Type.Str};E===!1&&Object.assign(I,{compositeRule:!0,createErrors:!1,allErrors:!1}),o.subschema(I,S)}}};return Ko.default=i,Ko}var Wo={},ny;function _M(){if(ny)return Wo;ny=1,Object.defineProperty(Wo,"__esModule",{value:!0});const e=$l(),t=xr(),r=Ee(),n=US(),a={keyword:"properties",type:"object",schemaType:"object",code(i){const{gen:o,schema:s,parentSchema:c,data:l,it:u}=i;u.opts.removeAdditional==="all"&&c.additionalProperties===void 0&&n.default.code(new e.KeywordCxt(u,n.default,"additionalProperties"));const d=(0,t.allSchemaProperties)(s);for(const f of d)u.definedProperties.add(f);u.opts.unevaluated&&d.length&&u.props!==!0&&(u.props=r.mergeEvaluated.props(o,(0,r.toHash)(d),u.props));const h=d.filter(f=>!(0,r.alwaysValidSchema)(u,s[f]));if(h.length===0)return;const p=o.name("valid");for(const f of h)v(f)?w(f):(o.if((0,t.propertyInData)(o,l,f,u.opts.ownProperties)),w(f),u.allErrors||o.else().var(p,!0),o.endIf()),i.it.definedProperties.add(f),i.ok(p);function v(f){return u.opts.useDefaults&&!u.compositeRule&&s[f].default!==void 0}function w(f){i.subschema({keyword:"properties",schemaProp:f,dataProp:f},p)}}};return Wo.default=a,Wo}var Ho={},ay;function xM(){if(ay)return Ho;ay=1,Object.defineProperty(Ho,"__esModule",{value:!0});const e=xr(),t=we(),r=Ee(),n=Ee(),a={keyword:"patternProperties",type:"object",schemaType:"object",code(i){const{gen:o,schema:s,data:c,parentSchema:l,it:u}=i,{opts:d}=u,h=(0,e.allSchemaProperties)(s),p=h.filter(x=>(0,r.alwaysValidSchema)(u,s[x]));if(h.length===0||p.length===h.length&&(!u.opts.unevaluated||u.props===!0))return;const v=d.strictSchema&&!d.allowMatchingProperties&&l.properties,w=o.name("valid");u.props!==!0&&!(u.props instanceof t.Name)&&(u.props=(0,n.evaluatedPropsToName)(o,u.props));const{props:f}=u;b();function b(){for(const x of h)v&&m(x),u.allErrors?y(x):(o.var(w,!0),y(x),o.if(w))}function m(x){for(const g in v)new RegExp(x).test(g)&&(0,r.checkStrictMode)(u,`property ${g} matches pattern ${x} (use allowMatchingProperties)`)}function y(x){o.forIn("key",c,g=>{o.if((0,t._)`${(0,e.usePattern)(i,x)}.test(${g})`,()=>{const _=p.includes(x);_||i.subschema({keyword:"patternProperties",schemaProp:x,dataProp:g,dataPropType:n.Type.Str},w),u.opts.unevaluated&&f!==!0?o.assign((0,t._)`${f}[${g}]`,!0):!_&&!u.allErrors&&o.if((0,t.not)(w),()=>o.break())})})}}};return Ho.default=a,Ho}var Zo={},iy;function SM(){if(iy)return Zo;iy=1,Object.defineProperty(Zo,"__esModule",{value:!0});const e=Ee(),t={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(r){const{gen:n,schema:a,it:i}=r;if((0,e.alwaysValidSchema)(i,a)){r.fail();return}const o=n.name("valid");r.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),r.failResult(o,()=>r.reset(),()=>r.error())},error:{message:"must NOT be valid"}};return Zo.default=t,Zo}var Go={},oy;function PM(){if(oy)return Go;oy=1,Object.defineProperty(Go,"__esModule",{value:!0});const t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:xr().validateUnion,error:{message:"must match a schema in anyOf"}};return Go.default=t,Go}var Yo={},sy;function $M(){if(sy)return Yo;sy=1,Object.defineProperty(Yo,"__esModule",{value:!0});const e=we(),t=Ee(),n={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:a})=>(0,e._)`{passingSchemas: ${a.passing}}`},code(a){const{gen:i,schema:o,parentSchema:s,it:c}=a;if(!Array.isArray(o))throw new Error("ajv implementation error");if(c.opts.discriminator&&s.discriminator)return;const l=o,u=i.let("valid",!1),d=i.let("passing",null),h=i.name("_valid");a.setParams({passing:d}),i.block(p),a.result(u,()=>a.reset(),()=>a.error(!0));function p(){l.forEach((v,w)=>{let f;(0,t.alwaysValidSchema)(c,v)?i.var(h,!0):f=a.subschema({keyword:"oneOf",schemaProp:w,compositeRule:!0},h),w>0&&i.if((0,e._)`${h} && ${u}`).assign(u,!1).assign(d,(0,e._)`[${d}, ${w}]`).else(),i.if(h,()=>{i.assign(u,!0),i.assign(d,w),f&&a.mergeEvaluated(f,e.Name)})})}}};return Yo.default=n,Yo}var Jo={},cy;function kM(){if(cy)return Jo;cy=1,Object.defineProperty(Jo,"__esModule",{value:!0});const e=Ee(),t={keyword:"allOf",schemaType:"array",code(r){const{gen:n,schema:a,it:i}=r;if(!Array.isArray(a))throw new Error("ajv implementation error");const o=n.name("valid");a.forEach((s,c)=>{if((0,e.alwaysValidSchema)(i,s))return;const l=r.subschema({keyword:"allOf",schemaProp:c},o);r.ok(o),r.mergeEvaluated(l)})}};return Jo.default=t,Jo}var Xo={},ly;function EM(){if(ly)return Xo;ly=1,Object.defineProperty(Xo,"__esModule",{value:!0});const e=we(),t=Ee(),n={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:i})=>(0,e.str)`must match "${i.ifClause}" schema`,params:({params:i})=>(0,e._)`{failingKeyword: ${i.ifClause}}`},code(i){const{gen:o,parentSchema:s,it:c}=i;s.then===void 0&&s.else===void 0&&(0,t.checkStrictMode)(c,'"if" without "then" and "else" is ignored');const l=a(c,"then"),u=a(c,"else");if(!l&&!u)return;const d=o.let("valid",!0),h=o.name("_valid");if(p(),i.reset(),l&&u){const w=o.let("ifClause");i.setParams({ifClause:w}),o.if(h,v("then",w),v("else",w))}else l?o.if(h,v("then")):o.if((0,e.not)(h),v("else"));i.pass(d,()=>i.error(!0));function p(){const w=i.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},h);i.mergeEvaluated(w)}function v(w,f){return()=>{const b=i.subschema({keyword:w},h);o.assign(d,h),i.mergeValidEvaluated(b,d),f?o.assign(f,(0,e._)`${w}`):i.setParams({ifClause:w})}}}};function a(i,o){const s=i.schema[o];return s!==void 0&&!(0,t.alwaysValidSchema)(i,s)}return Xo.default=n,Xo}var Qo={},uy;function OM(){if(uy)return Qo;uy=1,Object.defineProperty(Qo,"__esModule",{value:!0});const e=Ee(),t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:r,parentSchema:n,it:a}){n.if===void 0&&(0,e.checkStrictMode)(a,`"${r}" without "if" is ignored`)}};return Qo.default=t,Qo}var dy;function jM(){if(dy)return qo;dy=1,Object.defineProperty(qo,"__esModule",{value:!0});const e=qS(),t=vM(),r=FS(),n=yM(),a=gM(),i=bM(),o=wM(),s=US(),c=_M(),l=xM(),u=SM(),d=PM(),h=$M(),p=kM(),v=EM(),w=OM();function f(b=!1){const m=[u.default,d.default,h.default,p.default,v.default,w.default,o.default,s.default,i.default,c.default,l.default];return b?m.push(t.default,n.default):m.push(e.default,r.default),m.push(a.default),m}return qo.default=f,qo}var es={},ts={},fy;function NM(){if(fy)return ts;fy=1,Object.defineProperty(ts,"__esModule",{value:!0});const e=we(),r={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:n})=>(0,e.str)`must match format "${n}"`,params:({schemaCode:n})=>(0,e._)`{format: ${n}}`},code(n,a){const{gen:i,data:o,$data:s,schema:c,schemaCode:l,it:u}=n,{opts:d,errSchemaPath:h,schemaEnv:p,self:v}=u;if(!d.validateFormats)return;s?w():f();function w(){const b=i.scopeValue("formats",{ref:v.formats,code:d.code.formats}),m=i.const("fDef",(0,e._)`${b}[${l}]`),y=i.let("fType"),x=i.let("format");i.if((0,e._)`typeof ${m} == "object" && !(${m} instanceof RegExp)`,()=>i.assign(y,(0,e._)`${m}.type || "string"`).assign(x,(0,e._)`${m}.validate`),()=>i.assign(y,(0,e._)`"string"`).assign(x,m)),n.fail$data((0,e.or)(g(),_()));function g(){return d.strictSchema===!1?e.nil:(0,e._)`${l} && !${x}`}function _(){const S=p.$async?(0,e._)`(${m}.async ? await ${x}(${o}) : ${x}(${o}))`:(0,e._)`${x}(${o})`,E=(0,e._)`(typeof ${x} == "function" ? ${S} : ${x}.test(${o}))`;return(0,e._)`${x} && ${x} !== true && ${y} === ${a} && !${E}`}}function f(){const b=v.formats[c];if(!b){g();return}if(b===!0)return;const[m,y,x]=_(b);m===a&&n.pass(S());function g(){if(d.strictSchema===!1){v.logger.warn(E());return}throw new Error(E());function E(){return`unknown format "${c}" ignored in schema at path "${h}"`}}function _(E){const I=E instanceof RegExp?(0,e.regexpCode)(E):d.code.formats?(0,e._)`${d.code.formats}${(0,e.getProperty)(c)}`:void 0,L=i.scopeValue("formats",{key:c,ref:E,code:I});return typeof E=="object"&&!(E instanceof RegExp)?[E.type||"string",E.validate,(0,e._)`${L}.validate`]:["string",E,L]}function S(){if(typeof b=="object"&&!(b instanceof RegExp)&&b.async){if(!p.$async)throw new Error("async format in sync schema");return(0,e._)`await ${x}(${o})`}return typeof y=="function"?(0,e._)`${x}(${o})`:(0,e._)`${x}.test(${o})`}}}};return ts.default=r,ts}var hy;function TM(){if(hy)return es;hy=1,Object.defineProperty(es,"__esModule",{value:!0});const t=[NM().default];return es.default=t,es}var Ln={},py;function CM(){return py||(py=1,Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.contentVocabulary=Ln.metadataVocabulary=void 0,Ln.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],Ln.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),Ln}var my;function AM(){if(my)return Po;my=1,Object.defineProperty(Po,"__esModule",{value:!0});const e=nM(),t=mM(),r=jM(),n=TM(),a=CM(),i=[e.default,t.default,(0,r.default)(),n.default,a.metadataVocabulary,a.contentVocabulary];return Po.default=i,Po}var rs={},oi={},vy;function IM(){if(vy)return oi;vy=1,Object.defineProperty(oi,"__esModule",{value:!0}),oi.DiscrError=void 0;var e;return(function(t){t.Tag="tag",t.Mapping="mapping"})(e||(oi.DiscrError=e={})),oi}var yy;function RM(){if(yy)return rs;yy=1,Object.defineProperty(rs,"__esModule",{value:!0});const e=we(),t=IM(),r=Zh(),n=kl(),a=Ee(),o={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:s,tagName:c}})=>s===t.DiscrError.Tag?`tag "${c}" must be string`:`value of tag "${c}" must be in oneOf`,params:({params:{discrError:s,tag:c,tagName:l}})=>(0,e._)`{error: ${s}, tag: ${l}, tagValue: ${c}}`},code(s){const{gen:c,data:l,schema:u,parentSchema:d,it:h}=s,{oneOf:p}=d;if(!h.opts.discriminator)throw new Error("discriminator: requires discriminator option");const v=u.propertyName;if(typeof v!="string")throw new Error("discriminator: requires propertyName");if(u.mapping)throw new Error("discriminator: mapping is not supported");if(!p)throw new Error("discriminator: requires oneOf keyword");const w=c.let("valid",!1),f=c.const("tag",(0,e._)`${l}${(0,e.getProperty)(v)}`);c.if((0,e._)`typeof ${f} == "string"`,()=>b(),()=>s.error(!1,{discrError:t.DiscrError.Tag,tag:f,tagName:v})),s.ok(w);function b(){const x=y();c.if(!1);for(const g in x)c.elseIf((0,e._)`${f} === ${g}`),c.assign(w,m(x[g]));c.else(),s.error(!1,{discrError:t.DiscrError.Mapping,tag:f,tagName:v}),c.endIf()}function m(x){const g=c.name("valid"),_=s.subschema({keyword:"oneOf",schemaProp:x},g);return s.mergeEvaluated(_,e.Name),g}function y(){var x;const g={},_=E(d);let S=!0;for(let R=0;R<p.length;R++){let C=p[R];if(C?.$ref&&!(0,a.schemaHasRulesButRef)(C,h.self.RULES)){const B=C.$ref;if(C=r.resolveRef.call(h.self,h.schemaEnv.root,h.baseId,B),C instanceof r.SchemaEnv&&(C=C.schema),C===void 0)throw new n.default(h.opts.uriResolver,h.baseId,B)}const U=(x=C?.properties)===null||x===void 0?void 0:x[v];if(typeof U!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${v}"`);S=S&&(_||E(C)),I(U,R)}if(!S)throw new Error(`discriminator: "${v}" must be required`);return g;function E({required:R}){return Array.isArray(R)&&R.includes(v)}function I(R,C){if(R.const)L(R.const,C);else if(R.enum)for(const U of R.enum)L(U,C);else throw new Error(`discriminator: "properties/${v}" must have "const" or "enum"`)}function L(R,C){if(typeof R!="string"||R in g)throw new Error(`discriminator: "${v}" values must be unique strings`);g[R]=C}}}};return rs.default=o,rs}const MM="http://json-schema.org/draft-07/schema#",DM="http://json-schema.org/draft-07/schema#",zM="Core schema meta-schema",LM={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},qM=["object","boolean"],FM={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},UM={$schema:MM,$id:DM,title:zM,definitions:LM,type:qM,properties:FM,default:!0};var gy;function VM(){return gy||(gy=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=eM(),n=AM(),a=RM(),i=UM,o=["/properties"],s="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(v=>this.addVocabulary(v)),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const v=this.opts.$data?this.$dataMetaSchema(i,o):i;this.addMetaSchema(v,s,!1),this.refs["http://json-schema.org/schema"]=s}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(s)?s:void 0)}}t.Ajv=c,e.exports=t=c,e.exports.Ajv=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var l=$l();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var u=we();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}});var d=Hh();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return d.default}});var h=kl();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return h.default}})})(bo,bo.exports)),bo.exports}var BM=VM();const KM=an(BM);var ns={exports:{}},Au={},by;function WM(){return by||(by=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(R,C){return{validate:R,compare:C}}e.fullFormats={date:t(i,o),time:t(c(!0),l),"date-time":t(h(!0),p),"iso-time":t(c(),u),"iso-date-time":t(h(),v),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:b,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:L,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:y,int32:{type:"number",validate:_},int64:{type:"number",validate:S},float:{type:"number",validate:E},double:{type:"number",validate:E},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,o),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,l),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,p),"iso-time":t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,u),"iso-date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,v),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(R){return R%4===0&&(R%100!==0||R%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,a=[0,31,28,31,30,31,30,31,31,30,31,30,31];function i(R){const C=n.exec(R);if(!C)return!1;const U=+C[1],B=+C[2],Q=+C[3];return B>=1&&B<=12&&Q>=1&&Q<=(B===2&&r(U)?29:a[B])}function o(R,C){if(R&&C)return R>C?1:R<C?-1:0}const s=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function c(R){return function(U){const B=s.exec(U);if(!B)return!1;const Q=+B[1],ae=+B[2],te=+B[3],W=B[4],ue=B[5]==="-"?-1:1,F=+(B[6]||0),T=+(B[7]||0);if(F>23||T>59||R&&!W)return!1;if(Q<=23&&ae<=59&&te<60)return!0;const z=ae-T*ue,A=Q-F*ue-(z<0?1:0);return(A===23||A===-1)&&(z===59||z===-1)&&te<61}}function l(R,C){if(!(R&&C))return;const U=new Date("2020-01-01T"+R).valueOf(),B=new Date("2020-01-01T"+C).valueOf();if(U&&B)return U-B}function u(R,C){if(!(R&&C))return;const U=s.exec(R),B=s.exec(C);if(U&&B)return R=U[1]+U[2]+U[3],C=B[1]+B[2]+B[3],R>C?1:R<C?-1:0}const d=/t|\s/i;function h(R){const C=c(R);return function(B){const Q=B.split(d);return Q.length===2&&i(Q[0])&&C(Q[1])}}function p(R,C){if(!(R&&C))return;const U=new Date(R).valueOf(),B=new Date(C).valueOf();if(U&&B)return U-B}function v(R,C){if(!(R&&C))return;const[U,B]=R.split(d),[Q,ae]=C.split(d),te=o(U,Q);if(te!==void 0)return te||l(B,ae)}const w=/\/|:/,f=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function b(R){return w.test(R)&&f.test(R)}const m=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function y(R){return m.lastIndex=0,m.test(R)}const x=-2147483648,g=2**31-1;function _(R){return Number.isInteger(R)&&R<=g&&R>=x}function S(R){return Number.isInteger(R)}function E(){return!0}const I=/[^\\]\\Z/;function L(R){if(I.test(R))return!1;try{return new RegExp(R),!0}catch{return!1}}})(Au)),Au}var Iu={},as={exports:{}},Ru={},Vr={},qn={},Mu={},Du={},zu={},wy;function _c(){return wy||(wy=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(m){if(super(),!e.IDENTIFIER.test(m))throw new Error("CodeGen: name must be a valid identifier");this.str=m}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(m){super(),this._items=typeof m=="string"?[m]:m}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const m=this._items[0];return m===""||m==='""'}get str(){var m;return(m=this._str)!==null&&m!==void 0?m:this._str=this._items.reduce((y,x)=>`${y}${x}`,"")}get names(){var m;return(m=this._names)!==null&&m!==void 0?m:this._names=this._items.reduce((y,x)=>(x instanceof r&&(y[x.str]=(y[x.str]||0)+1),y),{})}}e._Code=n,e.nil=new n("");function a(b,...m){const y=[b[0]];let x=0;for(;x<m.length;)s(y,m[x]),y.push(b[++x]);return new n(y)}e._=a;const i=new n("+");function o(b,...m){const y=[p(b[0])];let x=0;for(;x<m.length;)y.push(i),s(y,m[x]),y.push(i,p(b[++x]));return c(y),new n(y)}e.str=o;function s(b,m){m instanceof n?b.push(...m._items):m instanceof r?b.push(m):b.push(d(m))}e.addCodeArg=s;function c(b){let m=1;for(;m<b.length-1;){if(b[m]===i){const y=l(b[m-1],b[m+1]);if(y!==void 0){b.splice(m-1,3,y);continue}b[m++]="+"}m++}}function l(b,m){if(m==='""')return b;if(b==='""')return m;if(typeof b=="string")return m instanceof r||b[b.length-1]!=='"'?void 0:typeof m!="string"?`${b.slice(0,-1)}${m}"`:m[0]==='"'?b.slice(0,-1)+m.slice(1):void 0;if(typeof m=="string"&&m[0]==='"'&&!(b instanceof r))return`"${b}${m.slice(1)}`}function u(b,m){return m.emptyStr()?b:b.emptyStr()?m:o`${b}${m}`}e.strConcat=u;function d(b){return typeof b=="number"||typeof b=="boolean"||b===null?b:p(Array.isArray(b)?b.join(","):b)}function h(b){return new n(p(b))}e.stringify=h;function p(b){return JSON.stringify(b).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=p;function v(b){return typeof b=="string"&&e.IDENTIFIER.test(b)?new n(`.${b}`):a`[${b}]`}e.getProperty=v;function w(b){if(typeof b=="string"&&e.IDENTIFIER.test(b))return new n(`${b}`);throw new Error(`CodeGen: invalid export name: ${b}, use explicit $id name mapping`)}e.getEsmExportName=w;function f(b){return new n(b.toString())}e.regexpCode=f})(zu)),zu}var Lu={},_y;function xy(){return _y||(_y=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=_c();class r extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class a{constructor({prefixes:l,parent:u}={}){this._names={},this._prefixes=l,this._parent=u}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const u=this._names[l]||this._nameGroup(l);return`${l}${u.index++}`}_nameGroup(l){var u,d;if(!((d=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||d===void 0)&&d.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}e.Scope=a;class i extends t.Name{constructor(l,u){super(u),this.prefix=l}setValue(l,{property:u,itemIndex:d}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(u)}[${d}]`}}e.ValueScopeName=i;const o=(0,t._)`\n`;class s extends a{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?o:t.nil}}get(){return this._scope}name(l){return new i(l,this._newName(l))}value(l,u){var d;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const h=this.toName(l),{prefix:p}=h,v=(d=u.key)!==null&&d!==void 0?d:u.ref;let w=this._values[p];if(w){const m=w.get(v);if(m)return m}else w=this._values[p]=new Map;w.set(v,h);const f=this._scope[p]||(this._scope[p]=[]),b=f.length;return f[b]=u.ref,h.setValue(u,{property:p,itemIndex:b}),h}getValue(l,u){const d=this._values[l];if(d)return d.get(u)}scopeRefs(l,u=this._values){return this._reduceValues(u,d=>{if(d.scopePath===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return(0,t._)`${l}${d.scopePath}`})}scopeCode(l=this._values,u,d){return this._reduceValues(l,h=>{if(h.value===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return h.value.code},u,d)}_reduceValues(l,u,d={},h){let p=t.nil;for(const v in l){const w=l[v];if(!w)continue;const f=d[v]=d[v]||new Map;w.forEach(b=>{if(f.has(b))return;f.set(b,n.Started);let m=u(b);if(m){const y=this.opts.es5?e.varKinds.var:e.varKinds.const;p=(0,t._)`${p}${y} ${b} = ${m};${this.opts._n}`}else if(m=h?.(b))p=(0,t._)`${p}${m}${this.opts._n}`;else throw new r(b);f.set(b,n.Completed)})}return p}}e.ValueScope=s})(Lu)),Lu}var Sy;function be(){return Sy||(Sy=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=_c(),r=xy();var n=_c();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var a=xy();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return a.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return a.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return a.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return a.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class i{optimizeNodes(){return this}optimizeNames(P,N){return this}}class o extends i{constructor(P,N,D){super(),this.varKind=P,this.name=N,this.rhs=D}render({es5:P,_n:N}){const D=P?r.varKinds.var:this.varKind,K=this.rhs===void 0?"":` = ${this.rhs}`;return`${D} ${this.name}${K};`+N}optimizeNames(P,N){if(P[this.name.str])return this.rhs&&(this.rhs=B(this.rhs,P,N)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class s extends i{constructor(P,N,D){super(),this.lhs=P,this.rhs=N,this.sideEffects=D}render({_n:P}){return`${this.lhs} = ${this.rhs};`+P}optimizeNames(P,N){if(!(this.lhs instanceof t.Name&&!P[this.lhs.str]&&!this.sideEffects))return this.rhs=B(this.rhs,P,N),this}get names(){const P=this.lhs instanceof t.Name?{}:{...this.lhs.names};return U(P,this.rhs)}}class c extends s{constructor(P,N,D,K){super(P,D,K),this.op=N}render({_n:P}){return`${this.lhs} ${this.op}= ${this.rhs};`+P}}class l extends i{constructor(P){super(),this.label=P,this.names={}}render({_n:P}){return`${this.label}:`+P}}class u extends i{constructor(P){super(),this.label=P,this.names={}}render({_n:P}){return`break${this.label?` ${this.label}`:""};`+P}}class d extends i{constructor(P){super(),this.error=P}render({_n:P}){return`throw ${this.error};`+P}get names(){return this.error.names}}class h extends i{constructor(P){super(),this.code=P}render({_n:P}){return`${this.code};`+P}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(P,N){return this.code=B(this.code,P,N),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class p extends i{constructor(P=[]){super(),this.nodes=P}render(P){return this.nodes.reduce((N,D)=>N+D.render(P),"")}optimizeNodes(){const{nodes:P}=this;let N=P.length;for(;N--;){const D=P[N].optimizeNodes();Array.isArray(D)?P.splice(N,1,...D):D?P[N]=D:P.splice(N,1)}return P.length>0?this:void 0}optimizeNames(P,N){const{nodes:D}=this;let K=D.length;for(;K--;){const Y=D[K];Y.optimizeNames(P,N)||(Q(P,Y.names),D.splice(K,1))}return D.length>0?this:void 0}get names(){return this.nodes.reduce((P,N)=>C(P,N.names),{})}}class v extends p{render(P){return"{"+P._n+super.render(P)+"}"+P._n}}class w extends p{}class f extends v{}f.kind="else";class b extends v{constructor(P,N){super(N),this.condition=P}render(P){let N=`if(${this.condition})`+super.render(P);return this.else&&(N+="else "+this.else.render(P)),N}optimizeNodes(){super.optimizeNodes();const P=this.condition;if(P===!0)return this.nodes;let N=this.else;if(N){const D=N.optimizeNodes();N=this.else=Array.isArray(D)?new f(D):D}if(N)return P===!1?N instanceof b?N:N.nodes:this.nodes.length?this:new b(ae(P),N instanceof b?[N]:N.nodes);if(!(P===!1||!this.nodes.length))return this}optimizeNames(P,N){var D;if(this.else=(D=this.else)===null||D===void 0?void 0:D.optimizeNames(P,N),!!(super.optimizeNames(P,N)||this.else))return this.condition=B(this.condition,P,N),this}get names(){const P=super.names;return U(P,this.condition),this.else&&C(P,this.else.names),P}}b.kind="if";class m extends v{}m.kind="for";class y extends m{constructor(P){super(),this.iteration=P}render(P){return`for(${this.iteration})`+super.render(P)}optimizeNames(P,N){if(super.optimizeNames(P,N))return this.iteration=B(this.iteration,P,N),this}get names(){return C(super.names,this.iteration.names)}}class x extends m{constructor(P,N,D,K){super(),this.varKind=P,this.name=N,this.from=D,this.to=K}render(P){const N=P.es5?r.varKinds.var:this.varKind,{name:D,from:K,to:Y}=this;return`for(${N} ${D}=${K}; ${D}<${Y}; ${D}++)`+super.render(P)}get names(){const P=U(super.names,this.from);return U(P,this.to)}}class g extends m{constructor(P,N,D,K){super(),this.loop=P,this.varKind=N,this.name=D,this.iterable=K}render(P){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(P)}optimizeNames(P,N){if(super.optimizeNames(P,N))return this.iterable=B(this.iterable,P,N),this}get names(){return C(super.names,this.iterable.names)}}class _ extends v{constructor(P,N,D){super(),this.name=P,this.args=N,this.async=D}render(P){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(P)}}_.kind="func";class S extends p{render(P){return"return "+super.render(P)}}S.kind="return";class E extends v{render(P){let N="try"+super.render(P);return this.catch&&(N+=this.catch.render(P)),this.finally&&(N+=this.finally.render(P)),N}optimizeNodes(){var P,N;return super.optimizeNodes(),(P=this.catch)===null||P===void 0||P.optimizeNodes(),(N=this.finally)===null||N===void 0||N.optimizeNodes(),this}optimizeNames(P,N){var D,K;return super.optimizeNames(P,N),(D=this.catch)===null||D===void 0||D.optimizeNames(P,N),(K=this.finally)===null||K===void 0||K.optimizeNames(P,N),this}get names(){const P=super.names;return this.catch&&C(P,this.catch.names),this.finally&&C(P,this.finally.names),P}}class I extends v{constructor(P){super(),this.error=P}render(P){return`catch(${this.error})`+super.render(P)}}I.kind="catch";class L extends v{render(P){return"finally"+super.render(P)}}L.kind="finally";class R{constructor(P,N={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...N,_n:N.lines?`
`:""},this._extScope=P,this._scope=new r.Scope({parent:P}),this._nodes=[new w]}toString(){return this._root.render(this.opts)}name(P){return this._scope.name(P)}scopeName(P){return this._extScope.name(P)}scopeValue(P,N){const D=this._extScope.value(P,N);return(this._values[D.prefix]||(this._values[D.prefix]=new Set)).add(D),D}getScopeValue(P,N){return this._extScope.getValue(P,N)}scopeRefs(P){return this._extScope.scopeRefs(P,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(P,N,D,K){const Y=this._scope.toName(N);return D!==void 0&&K&&(this._constants[Y.str]=D),this._leafNode(new o(P,Y,D)),Y}const(P,N,D){return this._def(r.varKinds.const,P,N,D)}let(P,N,D){return this._def(r.varKinds.let,P,N,D)}var(P,N,D){return this._def(r.varKinds.var,P,N,D)}assign(P,N,D){return this._leafNode(new s(P,N,D))}add(P,N){return this._leafNode(new c(P,e.operators.ADD,N))}code(P){return typeof P=="function"?P():P!==t.nil&&this._leafNode(new h(P)),this}object(...P){const N=["{"];for(const[D,K]of P)N.length>1&&N.push(","),N.push(D),(D!==K||this.opts.es5)&&(N.push(":"),(0,t.addCodeArg)(N,K));return N.push("}"),new t._Code(N)}if(P,N,D){if(this._blockNode(new b(P)),N&&D)this.code(N).else().code(D).endIf();else if(N)this.code(N).endIf();else if(D)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(P){return this._elseNode(new b(P))}else(){return this._elseNode(new f)}endIf(){return this._endBlockNode(b,f)}_for(P,N){return this._blockNode(P),N&&this.code(N).endFor(),this}for(P,N){return this._for(new y(P),N)}forRange(P,N,D,K,Y=this.opts.es5?r.varKinds.var:r.varKinds.let){const V=this._scope.toName(P);return this._for(new x(Y,V,N,D),()=>K(V))}forOf(P,N,D,K=r.varKinds.const){const Y=this._scope.toName(P);if(this.opts.es5){const V=N instanceof t.Name?N:this.var("_arr",N);return this.forRange("_i",0,(0,t._)`${V}.length`,X=>{this.var(Y,(0,t._)`${V}[${X}]`),D(Y)})}return this._for(new g("of",K,Y,N),()=>D(Y))}forIn(P,N,D,K=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(P,(0,t._)`Object.keys(${N})`,D);const Y=this._scope.toName(P);return this._for(new g("in",K,Y,N),()=>D(Y))}endFor(){return this._endBlockNode(m)}label(P){return this._leafNode(new l(P))}break(P){return this._leafNode(new u(P))}return(P){const N=new S;if(this._blockNode(N),this.code(P),N.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(S)}try(P,N,D){if(!N&&!D)throw new Error('CodeGen: "try" without "catch" and "finally"');const K=new E;if(this._blockNode(K),this.code(P),N){const Y=this.name("e");this._currNode=K.catch=new I(Y),N(Y)}return D&&(this._currNode=K.finally=new L,this.code(D)),this._endBlockNode(I,L)}throw(P){return this._leafNode(new d(P))}block(P,N){return this._blockStarts.push(this._nodes.length),P&&this.code(P).endBlock(N),this}endBlock(P){const N=this._blockStarts.pop();if(N===void 0)throw new Error("CodeGen: not in self-balancing block");const D=this._nodes.length-N;if(D<0||P!==void 0&&D!==P)throw new Error(`CodeGen: wrong number of nodes: ${D} vs ${P} expected`);return this._nodes.length=N,this}func(P,N=t.nil,D,K){return this._blockNode(new _(P,N,D)),K&&this.code(K).endFunc(),this}endFunc(){return this._endBlockNode(_)}optimize(P=1){for(;P-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(P){return this._currNode.nodes.push(P),this}_blockNode(P){this._currNode.nodes.push(P),this._nodes.push(P)}_endBlockNode(P,N){const D=this._currNode;if(D instanceof P||N&&D instanceof N)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${N?`${P.kind}/${N.kind}`:P.kind}"`)}_elseNode(P){const N=this._currNode;if(!(N instanceof b))throw new Error('CodeGen: "else" without "if"');return this._currNode=N.else=P,this}get _root(){return this._nodes[0]}get _currNode(){const P=this._nodes;return P[P.length-1]}set _currNode(P){const N=this._nodes;N[N.length-1]=P}}e.CodeGen=R;function C(A,P){for(const N in P)A[N]=(A[N]||0)+(P[N]||0);return A}function U(A,P){return P instanceof t._CodeOrName?C(A,P.names):A}function B(A,P,N){if(A instanceof t.Name)return D(A);if(!K(A))return A;return new t._Code(A._items.reduce((Y,V)=>(V instanceof t.Name&&(V=D(V)),V instanceof t._Code?Y.push(...V._items):Y.push(V),Y),[]));function D(Y){const V=N[Y.str];return V===void 0||P[Y.str]!==1?Y:(delete P[Y.str],V)}function K(Y){return Y instanceof t._Code&&Y._items.some(V=>V instanceof t.Name&&P[V.str]===1&&N[V.str]!==void 0)}}function Q(A,P){for(const N in P)A[N]=(A[N]||0)-(P[N]||0)}function ae(A){return typeof A=="boolean"||typeof A=="number"||A===null?!A:(0,t._)`!${z(A)}`}e.not=ae;const te=T(e.operators.AND);function W(...A){return A.reduce(te)}e.and=W;const ue=T(e.operators.OR);function F(...A){return A.reduce(ue)}e.or=F;function T(A){return(P,N)=>P===t.nil?N:N===t.nil?P:(0,t._)`${z(P)} ${A} ${z(N)}`}function z(A){return A instanceof t.Name?A:(0,t._)`(${A})`}})(Du)),Du}var ye={},Py;function Oe(){if(Py)return ye;Py=1,Object.defineProperty(ye,"__esModule",{value:!0}),ye.checkStrictMode=ye.getErrorPath=ye.Type=ye.useFunc=ye.setEvaluated=ye.evaluatedPropsToName=ye.mergeEvaluated=ye.eachItem=ye.unescapeJsonPointer=ye.escapeJsonPointer=ye.escapeFragment=ye.unescapeFragment=ye.schemaRefOrVal=ye.schemaHasRulesButRef=ye.schemaHasRules=ye.checkUnknownRules=ye.alwaysValidSchema=ye.toHash=void 0;const e=be(),t=_c();function r(g){const _={};for(const S of g)_[S]=!0;return _}ye.toHash=r;function n(g,_){return typeof _=="boolean"?_:Object.keys(_).length===0?!0:(a(g,_),!i(_,g.self.RULES.all))}ye.alwaysValidSchema=n;function a(g,_=g.schema){const{opts:S,self:E}=g;if(!S.strictSchema||typeof _=="boolean")return;const I=E.RULES.keywords;for(const L in _)I[L]||x(g,`unknown keyword: "${L}"`)}ye.checkUnknownRules=a;function i(g,_){if(typeof g=="boolean")return!g;for(const S in g)if(_[S])return!0;return!1}ye.schemaHasRules=i;function o(g,_){if(typeof g=="boolean")return!g;for(const S in g)if(S!=="$ref"&&_.all[S])return!0;return!1}ye.schemaHasRulesButRef=o;function s({topSchemaRef:g,schemaPath:_},S,E,I){if(!I){if(typeof S=="number"||typeof S=="boolean")return S;if(typeof S=="string")return(0,e._)`${S}`}return(0,e._)`${g}${_}${(0,e.getProperty)(E)}`}ye.schemaRefOrVal=s;function c(g){return d(decodeURIComponent(g))}ye.unescapeFragment=c;function l(g){return encodeURIComponent(u(g))}ye.escapeFragment=l;function u(g){return typeof g=="number"?`${g}`:g.replace(/~/g,"~0").replace(/\//g,"~1")}ye.escapeJsonPointer=u;function d(g){return g.replace(/~1/g,"/").replace(/~0/g,"~")}ye.unescapeJsonPointer=d;function h(g,_){if(Array.isArray(g))for(const S of g)_(S);else _(g)}ye.eachItem=h;function p({mergeNames:g,mergeToName:_,mergeValues:S,resultToName:E}){return(I,L,R,C)=>{const U=R===void 0?L:R instanceof e.Name?(L instanceof e.Name?g(I,L,R):_(I,L,R),R):L instanceof e.Name?(_(I,R,L),L):S(L,R);return C===e.Name&&!(U instanceof e.Name)?E(I,U):U}}ye.mergeEvaluated={props:p({mergeNames:(g,_,S)=>g.if((0,e._)`${S} !== true && ${_} !== undefined`,()=>{g.if((0,e._)`${_} === true`,()=>g.assign(S,!0),()=>g.assign(S,(0,e._)`${S} || {}`).code((0,e._)`Object.assign(${S}, ${_})`))}),mergeToName:(g,_,S)=>g.if((0,e._)`${S} !== true`,()=>{_===!0?g.assign(S,!0):(g.assign(S,(0,e._)`${S} || {}`),w(g,S,_))}),mergeValues:(g,_)=>g===!0?!0:{...g,..._},resultToName:v}),items:p({mergeNames:(g,_,S)=>g.if((0,e._)`${S} !== true && ${_} !== undefined`,()=>g.assign(S,(0,e._)`${_} === true ? true : ${S} > ${_} ? ${S} : ${_}`)),mergeToName:(g,_,S)=>g.if((0,e._)`${S} !== true`,()=>g.assign(S,_===!0?!0:(0,e._)`${S} > ${_} ? ${S} : ${_}`)),mergeValues:(g,_)=>g===!0?!0:Math.max(g,_),resultToName:(g,_)=>g.var("items",_)})};function v(g,_){if(_===!0)return g.var("props",!0);const S=g.var("props",(0,e._)`{}`);return _!==void 0&&w(g,S,_),S}ye.evaluatedPropsToName=v;function w(g,_,S){Object.keys(S).forEach(E=>g.assign((0,e._)`${_}${(0,e.getProperty)(E)}`,!0))}ye.setEvaluated=w;const f={};function b(g,_){return g.scopeValue("func",{ref:_,code:f[_.code]||(f[_.code]=new t._Code(_.code))})}ye.useFunc=b;var m;(function(g){g[g.Num=0]="Num",g[g.Str=1]="Str"})(m||(ye.Type=m={}));function y(g,_,S){if(g instanceof e.Name){const E=_===m.Num;return S?E?(0,e._)`"[" + ${g} + "]"`:(0,e._)`"['" + ${g} + "']"`:E?(0,e._)`"/" + ${g}`:(0,e._)`"/" + ${g}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return S?(0,e.getProperty)(g).toString():"/"+u(g)}ye.getErrorPath=y;function x(g,_,S=g.opts.strictSchema){if(S){if(_=`strict mode: ${_}`,S===!0)throw new Error(_);g.self.logger.warn(_)}}return ye.checkStrictMode=x,ye}var is={},$y;function Tn(){if($y)return is;$y=1,Object.defineProperty(is,"__esModule",{value:!0});const e=be(),t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return is.default=t,is}var ky;function El(){return ky||(ky=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=be(),r=Oe(),n=Tn();e.keywordError={message:({keyword:f})=>(0,t.str)`must pass "${f}" keyword validation`},e.keyword$DataError={message:({keyword:f,schemaType:b})=>b?(0,t.str)`"${f}" keyword must be ${b} ($data)`:(0,t.str)`"${f}" keyword is invalid ($data)`};function a(f,b=e.keywordError,m,y){const{it:x}=f,{gen:g,compositeRule:_,allErrors:S}=x,E=d(f,b,m);y??(_||S)?c(g,E):l(x,(0,t._)`[${E}]`)}e.reportError=a;function i(f,b=e.keywordError,m){const{it:y}=f,{gen:x,compositeRule:g,allErrors:_}=y,S=d(f,b,m);c(x,S),g||_||l(y,n.default.vErrors)}e.reportExtraError=i;function o(f,b){f.assign(n.default.errors,b),f.if((0,t._)`${n.default.vErrors} !== null`,()=>f.if(b,()=>f.assign((0,t._)`${n.default.vErrors}.length`,b),()=>f.assign(n.default.vErrors,null)))}e.resetErrorsCount=o;function s({gen:f,keyword:b,schemaValue:m,data:y,errsCount:x,it:g}){if(x===void 0)throw new Error("ajv implementation error");const _=f.name("err");f.forRange("i",x,n.default.errors,S=>{f.const(_,(0,t._)`${n.default.vErrors}[${S}]`),f.if((0,t._)`${_}.instancePath === undefined`,()=>f.assign((0,t._)`${_}.instancePath`,(0,t.strConcat)(n.default.instancePath,g.errorPath))),f.assign((0,t._)`${_}.schemaPath`,(0,t.str)`${g.errSchemaPath}/${b}`),g.opts.verbose&&(f.assign((0,t._)`${_}.schema`,m),f.assign((0,t._)`${_}.data`,y))})}e.extendErrors=s;function c(f,b){const m=f.const("err",b);f.if((0,t._)`${n.default.vErrors} === null`,()=>f.assign(n.default.vErrors,(0,t._)`[${m}]`),(0,t._)`${n.default.vErrors}.push(${m})`),f.code((0,t._)`${n.default.errors}++`)}function l(f,b){const{gen:m,validateName:y,schemaEnv:x}=f;x.$async?m.throw((0,t._)`new ${f.ValidationError}(${b})`):(m.assign((0,t._)`${y}.errors`,b),m.return(!1))}const u={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function d(f,b,m){const{createErrors:y}=f.it;return y===!1?(0,t._)`{}`:h(f,b,m)}function h(f,b,m={}){const{gen:y,it:x}=f,g=[p(x,m),v(f,m)];return w(f,b,g),y.object(...g)}function p({errorPath:f},{instancePath:b}){const m=b?(0,t.str)`${f}${(0,r.getErrorPath)(b,r.Type.Str)}`:f;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,m)]}function v({keyword:f,it:{errSchemaPath:b}},{schemaPath:m,parentSchema:y}){let x=y?b:(0,t.str)`${b}/${f}`;return m&&(x=(0,t.str)`${x}${(0,r.getErrorPath)(m,r.Type.Str)}`),[u.schemaPath,x]}function w(f,{params:b,message:m},y){const{keyword:x,data:g,schemaValue:_,it:S}=f,{opts:E,propertyName:I,topSchemaRef:L,schemaPath:R}=S;y.push([u.keyword,x],[u.params,typeof b=="function"?b(f):b||(0,t._)`{}`]),E.messages&&y.push([u.message,typeof m=="function"?m(f):m]),E.verbose&&y.push([u.schema,_],[u.parentSchema,(0,t._)`${L}${R}`],[n.default.data,g]),I&&y.push([u.propertyName,I])}})(Mu)),Mu}var Ey;function HM(){if(Ey)return qn;Ey=1,Object.defineProperty(qn,"__esModule",{value:!0}),qn.boolOrEmptySchema=qn.topBoolOrEmptySchema=void 0;const e=El(),t=be(),r=Tn(),n={message:"boolean schema is false"};function a(s){const{gen:c,schema:l,validateName:u}=s;l===!1?o(s,!1):typeof l=="object"&&l.$async===!0?c.return(r.default.data):(c.assign((0,t._)`${u}.errors`,null),c.return(!0))}qn.topBoolOrEmptySchema=a;function i(s,c){const{gen:l,schema:u}=s;u===!1?(l.var(c,!1),o(s)):l.var(c,!0)}qn.boolOrEmptySchema=i;function o(s,c){const{gen:l,data:u}=s,d={gen:l,keyword:"false schema",data:u,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:s};(0,e.reportError)(d,n,void 0,c)}return qn}var pt={},Fn={},Oy;function VS(){if(Oy)return Fn;Oy=1,Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.getRules=Fn.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],t=new Set(e);function r(a){return typeof a=="string"&&t.has(a)}Fn.isJSONType=r;function n(){const a={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...a,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},a.number,a.string,a.array,a.object],post:{rules:[]},all:{},keywords:{}}}return Fn.getRules=n,Fn}var Br={},jy;function BS(){if(jy)return Br;jy=1,Object.defineProperty(Br,"__esModule",{value:!0}),Br.shouldUseRule=Br.shouldUseGroup=Br.schemaHasRulesForType=void 0;function e({schema:n,self:a},i){const o=a.RULES.types[i];return o&&o!==!0&&t(n,o)}Br.schemaHasRulesForType=e;function t(n,a){return a.rules.some(i=>r(n,i))}Br.shouldUseGroup=t;function r(n,a){var i;return n[a.keyword]!==void 0||((i=a.definition.implements)===null||i===void 0?void 0:i.some(o=>n[o]!==void 0))}return Br.shouldUseRule=r,Br}var Ny;function xc(){if(Ny)return pt;Ny=1,Object.defineProperty(pt,"__esModule",{value:!0}),pt.reportTypeError=pt.checkDataTypes=pt.checkDataType=pt.coerceAndCheckDataType=pt.getJSONTypes=pt.getSchemaTypes=pt.DataType=void 0;const e=VS(),t=BS(),r=El(),n=be(),a=Oe();var i;(function(m){m[m.Correct=0]="Correct",m[m.Wrong=1]="Wrong"})(i||(pt.DataType=i={}));function o(m){const y=s(m.type);if(y.includes("null")){if(m.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!y.length&&m.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');m.nullable===!0&&y.push("null")}return y}pt.getSchemaTypes=o;function s(m){const y=Array.isArray(m)?m:m?[m]:[];if(y.every(e.isJSONType))return y;throw new Error("type must be JSONType or JSONType[]: "+y.join(","))}pt.getJSONTypes=s;function c(m,y){const{gen:x,data:g,opts:_}=m,S=u(y,_.coerceTypes),E=y.length>0&&!(S.length===0&&y.length===1&&(0,t.schemaHasRulesForType)(m,y[0]));if(E){const I=v(y,g,_.strictNumbers,i.Wrong);x.if(I,()=>{S.length?d(m,y,S):f(m)})}return E}pt.coerceAndCheckDataType=c;const l=new Set(["string","number","integer","boolean","null"]);function u(m,y){return y?m.filter(x=>l.has(x)||y==="array"&&x==="array"):[]}function d(m,y,x){const{gen:g,data:_,opts:S}=m,E=g.let("dataType",(0,n._)`typeof ${_}`),I=g.let("coerced",(0,n._)`undefined`);S.coerceTypes==="array"&&g.if((0,n._)`${E} == 'object' && Array.isArray(${_}) && ${_}.length == 1`,()=>g.assign(_,(0,n._)`${_}[0]`).assign(E,(0,n._)`typeof ${_}`).if(v(y,_,S.strictNumbers),()=>g.assign(I,_))),g.if((0,n._)`${I} !== undefined`);for(const R of x)(l.has(R)||R==="array"&&S.coerceTypes==="array")&&L(R);g.else(),f(m),g.endIf(),g.if((0,n._)`${I} !== undefined`,()=>{g.assign(_,I),h(m,I)});function L(R){switch(R){case"string":g.elseIf((0,n._)`${E} == "number" || ${E} == "boolean"`).assign(I,(0,n._)`"" + ${_}`).elseIf((0,n._)`${_} === null`).assign(I,(0,n._)`""`);return;case"number":g.elseIf((0,n._)`${E} == "boolean" || ${_} === null
              || (${E} == "string" && ${_} && ${_} == +${_})`).assign(I,(0,n._)`+${_}`);return;case"integer":g.elseIf((0,n._)`${E} === "boolean" || ${_} === null
              || (${E} === "string" && ${_} && ${_} == +${_} && !(${_} % 1))`).assign(I,(0,n._)`+${_}`);return;case"boolean":g.elseIf((0,n._)`${_} === "false" || ${_} === 0 || ${_} === null`).assign(I,!1).elseIf((0,n._)`${_} === "true" || ${_} === 1`).assign(I,!0);return;case"null":g.elseIf((0,n._)`${_} === "" || ${_} === 0 || ${_} === false`),g.assign(I,null);return;case"array":g.elseIf((0,n._)`${E} === "string" || ${E} === "number"
              || ${E} === "boolean" || ${_} === null`).assign(I,(0,n._)`[${_}]`)}}}function h({gen:m,parentData:y,parentDataProperty:x},g){m.if((0,n._)`${y} !== undefined`,()=>m.assign((0,n._)`${y}[${x}]`,g))}function p(m,y,x,g=i.Correct){const _=g===i.Correct?n.operators.EQ:n.operators.NEQ;let S;switch(m){case"null":return(0,n._)`${y} ${_} null`;case"array":S=(0,n._)`Array.isArray(${y})`;break;case"object":S=(0,n._)`${y} && typeof ${y} == "object" && !Array.isArray(${y})`;break;case"integer":S=E((0,n._)`!(${y} % 1) && !isNaN(${y})`);break;case"number":S=E();break;default:return(0,n._)`typeof ${y} ${_} ${m}`}return g===i.Correct?S:(0,n.not)(S);function E(I=n.nil){return(0,n.and)((0,n._)`typeof ${y} == "number"`,I,x?(0,n._)`isFinite(${y})`:n.nil)}}pt.checkDataType=p;function v(m,y,x,g){if(m.length===1)return p(m[0],y,x,g);let _;const S=(0,a.toHash)(m);if(S.array&&S.object){const E=(0,n._)`typeof ${y} != "object"`;_=S.null?E:(0,n._)`!${y} || ${E}`,delete S.null,delete S.array,delete S.object}else _=n.nil;S.number&&delete S.integer;for(const E in S)_=(0,n.and)(_,p(E,y,x,g));return _}pt.checkDataTypes=v;const w={message:({schema:m})=>`must be ${m}`,params:({schema:m,schemaValue:y})=>typeof m=="string"?(0,n._)`{type: ${m}}`:(0,n._)`{type: ${y}}`};function f(m){const y=b(m);(0,r.reportError)(y,w)}pt.reportTypeError=f;function b(m){const{gen:y,data:x,schema:g}=m,_=(0,a.schemaRefOrVal)(m,g,"type");return{gen:y,keyword:"type",data:x,schema:g.type,schemaCode:_,schemaValue:_,parentSchema:g,params:{},it:m}}return pt}var si={},Ty;function ZM(){if(Ty)return si;Ty=1,Object.defineProperty(si,"__esModule",{value:!0}),si.assignDefaults=void 0;const e=be(),t=Oe();function r(a,i){const{properties:o,items:s}=a.schema;if(i==="object"&&o)for(const c in o)n(a,c,o[c].default);else i==="array"&&Array.isArray(s)&&s.forEach((c,l)=>n(a,l,c.default))}si.assignDefaults=r;function n(a,i,o){const{gen:s,compositeRule:c,data:l,opts:u}=a;if(o===void 0)return;const d=(0,e._)`${l}${(0,e.getProperty)(i)}`;if(c){(0,t.checkStrictMode)(a,`default is ignored for: ${d}`);return}let h=(0,e._)`${d} === undefined`;u.useDefaults==="empty"&&(h=(0,e._)`${h} || ${d} === null || ${d} === ""`),s.if(h,(0,e._)`${d} = ${(0,e.stringify)(o)}`)}return si}var mr={},Ae={},Cy;function Sr(){if(Cy)return Ae;Cy=1,Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.validateUnion=Ae.validateArray=Ae.usePattern=Ae.callValidateCode=Ae.schemaProperties=Ae.allSchemaProperties=Ae.noPropertyInData=Ae.propertyInData=Ae.isOwnProperty=Ae.hasPropFunc=Ae.reportMissingProp=Ae.checkMissingProp=Ae.checkReportMissingProp=void 0;const e=be(),t=Oe(),r=Tn(),n=Oe();function a(m,y){const{gen:x,data:g,it:_}=m;x.if(u(x,g,y,_.opts.ownProperties),()=>{m.setParams({missingProperty:(0,e._)`${y}`},!0),m.error()})}Ae.checkReportMissingProp=a;function i({gen:m,data:y,it:{opts:x}},g,_){return(0,e.or)(...g.map(S=>(0,e.and)(u(m,y,S,x.ownProperties),(0,e._)`${_} = ${S}`)))}Ae.checkMissingProp=i;function o(m,y){m.setParams({missingProperty:y},!0),m.error()}Ae.reportMissingProp=o;function s(m){return m.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}Ae.hasPropFunc=s;function c(m,y,x){return(0,e._)`${s(m)}.call(${y}, ${x})`}Ae.isOwnProperty=c;function l(m,y,x,g){const _=(0,e._)`${y}${(0,e.getProperty)(x)} !== undefined`;return g?(0,e._)`${_} && ${c(m,y,x)}`:_}Ae.propertyInData=l;function u(m,y,x,g){const _=(0,e._)`${y}${(0,e.getProperty)(x)} === undefined`;return g?(0,e.or)(_,(0,e.not)(c(m,y,x))):_}Ae.noPropertyInData=u;function d(m){return m?Object.keys(m).filter(y=>y!=="__proto__"):[]}Ae.allSchemaProperties=d;function h(m,y){return d(y).filter(x=>!(0,t.alwaysValidSchema)(m,y[x]))}Ae.schemaProperties=h;function p({schemaCode:m,data:y,it:{gen:x,topSchemaRef:g,schemaPath:_,errorPath:S},it:E},I,L,R){const C=R?(0,e._)`${m}, ${y}, ${g}${_}`:y,U=[[r.default.instancePath,(0,e.strConcat)(r.default.instancePath,S)],[r.default.parentData,E.parentData],[r.default.parentDataProperty,E.parentDataProperty],[r.default.rootData,r.default.rootData]];E.opts.dynamicRef&&U.push([r.default.dynamicAnchors,r.default.dynamicAnchors]);const B=(0,e._)`${C}, ${x.object(...U)}`;return L!==e.nil?(0,e._)`${I}.call(${L}, ${B})`:(0,e._)`${I}(${B})`}Ae.callValidateCode=p;const v=(0,e._)`new RegExp`;function w({gen:m,it:{opts:y}},x){const g=y.unicodeRegExp?"u":"",{regExp:_}=y.code,S=_(x,g);return m.scopeValue("pattern",{key:S.toString(),ref:S,code:(0,e._)`${_.code==="new RegExp"?v:(0,n.useFunc)(m,_)}(${x}, ${g})`})}Ae.usePattern=w;function f(m){const{gen:y,data:x,keyword:g,it:_}=m,S=y.name("valid");if(_.allErrors){const I=y.let("valid",!0);return E(()=>y.assign(I,!1)),I}return y.var(S,!0),E(()=>y.break()),S;function E(I){const L=y.const("len",(0,e._)`${x}.length`);y.forRange("i",0,L,R=>{m.subschema({keyword:g,dataProp:R,dataPropType:t.Type.Num},S),y.if((0,e.not)(S),I)})}}Ae.validateArray=f;function b(m){const{gen:y,schema:x,keyword:g,it:_}=m;if(!Array.isArray(x))throw new Error("ajv implementation error");if(x.some(L=>(0,t.alwaysValidSchema)(_,L))&&!_.opts.unevaluated)return;const E=y.let("valid",!1),I=y.name("_valid");y.block(()=>x.forEach((L,R)=>{const C=m.subschema({keyword:g,schemaProp:R,compositeRule:!0},I);y.assign(E,(0,e._)`${E} || ${I}`),m.mergeValidEvaluated(C,I)||y.if((0,e.not)(E))})),m.result(E,()=>m.reset(),()=>m.error(!0))}return Ae.validateUnion=b,Ae}var Ay;function GM(){if(Ay)return mr;Ay=1,Object.defineProperty(mr,"__esModule",{value:!0}),mr.validateKeywordUsage=mr.validSchemaType=mr.funcKeywordCode=mr.macroKeywordCode=void 0;const e=be(),t=Tn(),r=Sr(),n=El();function a(h,p){const{gen:v,keyword:w,schema:f,parentSchema:b,it:m}=h,y=p.macro.call(m.self,f,b,m),x=l(v,w,y);m.opts.validateSchema!==!1&&m.self.validateSchema(y,!0);const g=v.name("valid");h.subschema({schema:y,schemaPath:e.nil,errSchemaPath:`${m.errSchemaPath}/${w}`,topSchemaRef:x,compositeRule:!0},g),h.pass(g,()=>h.error(!0))}mr.macroKeywordCode=a;function i(h,p){var v;const{gen:w,keyword:f,schema:b,parentSchema:m,$data:y,it:x}=h;c(x,p);const g=!y&&p.compile?p.compile.call(x.self,b,m,x):p.validate,_=l(w,f,g),S=w.let("valid");h.block$data(S,E),h.ok((v=p.valid)!==null&&v!==void 0?v:S);function E(){if(p.errors===!1)R(),p.modifying&&o(h),C(()=>h.error());else{const U=p.async?I():L();p.modifying&&o(h),C(()=>s(h,U))}}function I(){const U=w.let("ruleErrs",null);return w.try(()=>R((0,e._)`await `),B=>w.assign(S,!1).if((0,e._)`${B} instanceof ${x.ValidationError}`,()=>w.assign(U,(0,e._)`${B}.errors`),()=>w.throw(B))),U}function L(){const U=(0,e._)`${_}.errors`;return w.assign(U,null),R(e.nil),U}function R(U=p.async?(0,e._)`await `:e.nil){const B=x.opts.passContext?t.default.this:t.default.self,Q=!("compile"in p&&!y||p.schema===!1);w.assign(S,(0,e._)`${U}${(0,r.callValidateCode)(h,_,B,Q)}`,p.modifying)}function C(U){var B;w.if((0,e.not)((B=p.valid)!==null&&B!==void 0?B:S),U)}}mr.funcKeywordCode=i;function o(h){const{gen:p,data:v,it:w}=h;p.if(w.parentData,()=>p.assign(v,(0,e._)`${w.parentData}[${w.parentDataProperty}]`))}function s(h,p){const{gen:v}=h;v.if((0,e._)`Array.isArray(${p})`,()=>{v.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${p} : ${t.default.vErrors}.concat(${p})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,n.extendErrors)(h)},()=>h.error())}function c({schemaEnv:h},p){if(p.async&&!h.$async)throw new Error("async keyword in sync schema")}function l(h,p,v){if(v===void 0)throw new Error(`keyword "${p}" failed to compile`);return h.scopeValue("keyword",typeof v=="function"?{ref:v}:{ref:v,code:(0,e.stringify)(v)})}function u(h,p,v=!1){return!p.length||p.some(w=>w==="array"?Array.isArray(h):w==="object"?h&&typeof h=="object"&&!Array.isArray(h):typeof h==w||v&&typeof h>"u")}mr.validSchemaType=u;function d({schema:h,opts:p,self:v,errSchemaPath:w},f,b){if(Array.isArray(f.keyword)?!f.keyword.includes(b):f.keyword!==b)throw new Error("ajv implementation error");const m=f.dependencies;if(m?.some(y=>!Object.prototype.hasOwnProperty.call(h,y)))throw new Error(`parent schema must have dependencies of ${b}: ${m.join(",")}`);if(f.validateSchema&&!f.validateSchema(h[b])){const x=`keyword "${b}" value is invalid at path "${w}": `+v.errorsText(f.validateSchema.errors);if(p.validateSchema==="log")v.logger.error(x);else throw new Error(x)}}return mr.validateKeywordUsage=d,mr}var Kr={},Iy;function YM(){if(Iy)return Kr;Iy=1,Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.extendSubschemaMode=Kr.extendSubschemaData=Kr.getSubschema=void 0;const e=be(),t=Oe();function r(i,{keyword:o,schemaProp:s,schema:c,schemaPath:l,errSchemaPath:u,topSchemaRef:d}){if(o!==void 0&&c!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(o!==void 0){const h=i.schema[o];return s===void 0?{schema:h,schemaPath:(0,e._)`${i.schemaPath}${(0,e.getProperty)(o)}`,errSchemaPath:`${i.errSchemaPath}/${o}`}:{schema:h[s],schemaPath:(0,e._)`${i.schemaPath}${(0,e.getProperty)(o)}${(0,e.getProperty)(s)}`,errSchemaPath:`${i.errSchemaPath}/${o}/${(0,t.escapeFragment)(s)}`}}if(c!==void 0){if(l===void 0||u===void 0||d===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:c,schemaPath:l,topSchemaRef:d,errSchemaPath:u}}throw new Error('either "keyword" or "schema" must be passed')}Kr.getSubschema=r;function n(i,o,{dataProp:s,dataPropType:c,data:l,dataTypes:u,propertyName:d}){if(l!==void 0&&s!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:h}=o;if(s!==void 0){const{errorPath:v,dataPathArr:w,opts:f}=o,b=h.let("data",(0,e._)`${o.data}${(0,e.getProperty)(s)}`,!0);p(b),i.errorPath=(0,e.str)`${v}${(0,t.getErrorPath)(s,c,f.jsPropertySyntax)}`,i.parentDataProperty=(0,e._)`${s}`,i.dataPathArr=[...w,i.parentDataProperty]}if(l!==void 0){const v=l instanceof e.Name?l:h.let("data",l,!0);p(v),d!==void 0&&(i.propertyName=d)}u&&(i.dataTypes=u);function p(v){i.data=v,i.dataLevel=o.dataLevel+1,i.dataTypes=[],o.definedProperties=new Set,i.parentData=o.data,i.dataNames=[...o.dataNames,v]}}Kr.extendSubschemaData=n;function a(i,{jtdDiscriminator:o,jtdMetadata:s,compositeRule:c,createErrors:l,allErrors:u}){c!==void 0&&(i.compositeRule=c),l!==void 0&&(i.createErrors=l),u!==void 0&&(i.allErrors=u),i.jtdDiscriminator=o,i.jtdMetadata=s}return Kr.extendSubschemaMode=a,Kr}var Ct={},qu={exports:{}},Ry;function JM(){if(Ry)return qu.exports;Ry=1;var e=qu.exports=function(n,a,i){typeof a=="function"&&(i=a,a={}),i=a.cb||i;var o=typeof i=="function"?i:i.pre||function(){},s=i.post||function(){};t(a,o,s,n,"",n)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function t(n,a,i,o,s,c,l,u,d,h){if(o&&typeof o=="object"&&!Array.isArray(o)){a(o,s,c,l,u,d,h);for(var p in o){var v=o[p];if(Array.isArray(v)){if(p in e.arrayKeywords)for(var w=0;w<v.length;w++)t(n,a,i,v[w],s+"/"+p+"/"+w,c,s,p,o,w)}else if(p in e.propsKeywords){if(v&&typeof v=="object")for(var f in v)t(n,a,i,v[f],s+"/"+p+"/"+r(f),c,s,p,o,f)}else(p in e.keywords||n.allKeys&&!(p in e.skipKeywords))&&t(n,a,i,v,s+"/"+p,c,s,p,o)}i(o,s,c,l,u,d,h)}}function r(n){return n.replace(/~/g,"~0").replace(/\//g,"~1")}return qu.exports}var My;function Ol(){if(My)return Ct;My=1,Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.getSchemaRefs=Ct.resolveUrl=Ct.normalizeId=Ct._getFullPath=Ct.getFullPath=Ct.inlineRef=void 0;const e=Oe(),t=Sl(),r=JM(),n=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function a(w,f=!0){return typeof w=="boolean"?!0:f===!0?!o(w):f?s(w)<=f:!1}Ct.inlineRef=a;const i=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function o(w){for(const f in w){if(i.has(f))return!0;const b=w[f];if(Array.isArray(b)&&b.some(o)||typeof b=="object"&&o(b))return!0}return!1}function s(w){let f=0;for(const b in w){if(b==="$ref")return 1/0;if(f++,!n.has(b)&&(typeof w[b]=="object"&&(0,e.eachItem)(w[b],m=>f+=s(m)),f===1/0))return 1/0}return f}function c(w,f="",b){b!==!1&&(f=d(f));const m=w.parse(f);return l(w,m)}Ct.getFullPath=c;function l(w,f){return w.serialize(f).split("#")[0]+"#"}Ct._getFullPath=l;const u=/#\/?$/;function d(w){return w?w.replace(u,""):""}Ct.normalizeId=d;function h(w,f,b){return b=d(b),w.resolve(f,b)}Ct.resolveUrl=h;const p=/^[a-z_][-a-z0-9._]*$/i;function v(w,f){if(typeof w=="boolean")return{};const{schemaId:b,uriResolver:m}=this.opts,y=d(w[b]||f),x={"":y},g=c(m,y,!1),_={},S=new Set;return r(w,{allKeys:!0},(L,R,C,U)=>{if(U===void 0)return;const B=g+R;let Q=x[U];typeof L[b]=="string"&&(Q=ae.call(this,L[b])),te.call(this,L.$anchor),te.call(this,L.$dynamicAnchor),x[R]=Q;function ae(W){const ue=this.opts.uriResolver.resolve;if(W=d(Q?ue(Q,W):W),S.has(W))throw I(W);S.add(W);let F=this.refs[W];return typeof F=="string"&&(F=this.refs[F]),typeof F=="object"?E(L,F.schema,W):W!==d(B)&&(W[0]==="#"?(E(L,_[W],W),_[W]=L):this.refs[W]=B),W}function te(W){if(typeof W=="string"){if(!p.test(W))throw new Error(`invalid anchor "${W}"`);ae.call(this,`#${W}`)}}}),_;function E(L,R,C){if(R!==void 0&&!t(L,R))throw I(C)}function I(L){return new Error(`reference "${L}" resolves to more than one schema`)}}return Ct.getSchemaRefs=v,Ct}var Dy;function jl(){if(Dy)return Vr;Dy=1,Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.getData=Vr.KeywordCxt=Vr.validateFunctionCode=void 0;const e=HM(),t=xc(),r=BS(),n=xc(),a=ZM(),i=GM(),o=YM(),s=be(),c=Tn(),l=Ol(),u=Oe(),d=El();function h(O){if(g(O)&&(S(O),x(O))){f(O);return}p(O,()=>(0,e.topBoolOrEmptySchema)(O))}Vr.validateFunctionCode=h;function p({gen:O,validateName:j,schema:M,schemaEnv:q,opts:Z},ee){Z.code.es5?O.func(j,(0,s._)`${c.default.data}, ${c.default.valCxt}`,q.$async,()=>{O.code((0,s._)`"use strict"; ${m(M,Z)}`),w(O,Z),O.code(ee)}):O.func(j,(0,s._)`${c.default.data}, ${v(Z)}`,q.$async,()=>O.code(m(M,Z)).code(ee))}function v(O){return(0,s._)`{${c.default.instancePath}="", ${c.default.parentData}, ${c.default.parentDataProperty}, ${c.default.rootData}=${c.default.data}${O.dynamicRef?(0,s._)`, ${c.default.dynamicAnchors}={}`:s.nil}}={}`}function w(O,j){O.if(c.default.valCxt,()=>{O.var(c.default.instancePath,(0,s._)`${c.default.valCxt}.${c.default.instancePath}`),O.var(c.default.parentData,(0,s._)`${c.default.valCxt}.${c.default.parentData}`),O.var(c.default.parentDataProperty,(0,s._)`${c.default.valCxt}.${c.default.parentDataProperty}`),O.var(c.default.rootData,(0,s._)`${c.default.valCxt}.${c.default.rootData}`),j.dynamicRef&&O.var(c.default.dynamicAnchors,(0,s._)`${c.default.valCxt}.${c.default.dynamicAnchors}`)},()=>{O.var(c.default.instancePath,(0,s._)`""`),O.var(c.default.parentData,(0,s._)`undefined`),O.var(c.default.parentDataProperty,(0,s._)`undefined`),O.var(c.default.rootData,c.default.data),j.dynamicRef&&O.var(c.default.dynamicAnchors,(0,s._)`{}`)})}function f(O){const{schema:j,opts:M,gen:q}=O;p(O,()=>{M.$comment&&j.$comment&&U(O),L(O),q.let(c.default.vErrors,null),q.let(c.default.errors,0),M.unevaluated&&b(O),E(O),B(O)})}function b(O){const{gen:j,validateName:M}=O;O.evaluated=j.const("evaluated",(0,s._)`${M}.evaluated`),j.if((0,s._)`${O.evaluated}.dynamicProps`,()=>j.assign((0,s._)`${O.evaluated}.props`,(0,s._)`undefined`)),j.if((0,s._)`${O.evaluated}.dynamicItems`,()=>j.assign((0,s._)`${O.evaluated}.items`,(0,s._)`undefined`))}function m(O,j){const M=typeof O=="object"&&O[j.schemaId];return M&&(j.code.source||j.code.process)?(0,s._)`/*# sourceURL=${M} */`:s.nil}function y(O,j){if(g(O)&&(S(O),x(O))){_(O,j);return}(0,e.boolOrEmptySchema)(O,j)}function x({schema:O,self:j}){if(typeof O=="boolean")return!O;for(const M in O)if(j.RULES.all[M])return!0;return!1}function g(O){return typeof O.schema!="boolean"}function _(O,j){const{schema:M,gen:q,opts:Z}=O;Z.$comment&&M.$comment&&U(O),R(O),C(O);const ee=q.const("_errs",c.default.errors);E(O,ee),q.var(j,(0,s._)`${ee} === ${c.default.errors}`)}function S(O){(0,u.checkUnknownRules)(O),I(O)}function E(O,j){if(O.opts.jtd)return ae(O,[],!1,j);const M=(0,t.getSchemaTypes)(O.schema),q=(0,t.coerceAndCheckDataType)(O,M);ae(O,M,!q,j)}function I(O){const{schema:j,errSchemaPath:M,opts:q,self:Z}=O;j.$ref&&q.ignoreKeywordsWithRef&&(0,u.schemaHasRulesButRef)(j,Z.RULES)&&Z.logger.warn(`$ref: keywords ignored in schema at path "${M}"`)}function L(O){const{schema:j,opts:M}=O;j.default!==void 0&&M.useDefaults&&M.strictSchema&&(0,u.checkStrictMode)(O,"default is ignored in the schema root")}function R(O){const j=O.schema[O.opts.schemaId];j&&(O.baseId=(0,l.resolveUrl)(O.opts.uriResolver,O.baseId,j))}function C(O){if(O.schema.$async&&!O.schemaEnv.$async)throw new Error("async schema in sync schema")}function U({gen:O,schemaEnv:j,schema:M,errSchemaPath:q,opts:Z}){const ee=M.$comment;if(Z.$comment===!0)O.code((0,s._)`${c.default.self}.logger.log(${ee})`);else if(typeof Z.$comment=="function"){const pe=(0,s.str)`${q}/$comment`,_e=O.scopeValue("root",{ref:j.root});O.code((0,s._)`${c.default.self}.opts.$comment(${ee}, ${pe}, ${_e}.schema)`)}}function B(O){const{gen:j,schemaEnv:M,validateName:q,ValidationError:Z,opts:ee}=O;M.$async?j.if((0,s._)`${c.default.errors} === 0`,()=>j.return(c.default.data),()=>j.throw((0,s._)`new ${Z}(${c.default.vErrors})`)):(j.assign((0,s._)`${q}.errors`,c.default.vErrors),ee.unevaluated&&Q(O),j.return((0,s._)`${c.default.errors} === 0`))}function Q({gen:O,evaluated:j,props:M,items:q}){M instanceof s.Name&&O.assign((0,s._)`${j}.props`,M),q instanceof s.Name&&O.assign((0,s._)`${j}.items`,q)}function ae(O,j,M,q){const{gen:Z,schema:ee,data:pe,allErrors:_e,opts:Se,self:$e}=O,{RULES:he}=$e;if(ee.$ref&&(Se.ignoreKeywordsWithRef||!(0,u.schemaHasRulesButRef)(ee,he))){Z.block(()=>K(O,"$ref",he.all.$ref.definition));return}Se.jtd||W(O,j),Z.block(()=>{for(const ke of he.rules)Ge(ke);Ge(he.post)});function Ge(ke){(0,r.shouldUseGroup)(ee,ke)&&(ke.type?(Z.if((0,n.checkDataType)(ke.type,pe,Se.strictNumbers)),te(O,ke),j.length===1&&j[0]===ke.type&&M&&(Z.else(),(0,n.reportTypeError)(O)),Z.endIf()):te(O,ke),_e||Z.if((0,s._)`${c.default.errors} === ${q||0}`))}}function te(O,j){const{gen:M,schema:q,opts:{useDefaults:Z}}=O;Z&&(0,a.assignDefaults)(O,j.type),M.block(()=>{for(const ee of j.rules)(0,r.shouldUseRule)(q,ee)&&K(O,ee.keyword,ee.definition,j.type)})}function W(O,j){O.schemaEnv.meta||!O.opts.strictTypes||(ue(O,j),O.opts.allowUnionTypes||F(O,j),T(O,O.dataTypes))}function ue(O,j){if(j.length){if(!O.dataTypes.length){O.dataTypes=j;return}j.forEach(M=>{A(O.dataTypes,M)||N(O,`type "${M}" not allowed by context "${O.dataTypes.join(",")}"`)}),P(O,j)}}function F(O,j){j.length>1&&!(j.length===2&&j.includes("null"))&&N(O,"use allowUnionTypes to allow union type keyword")}function T(O,j){const M=O.self.RULES.all;for(const q in M){const Z=M[q];if(typeof Z=="object"&&(0,r.shouldUseRule)(O.schema,Z)){const{type:ee}=Z.definition;ee.length&&!ee.some(pe=>z(j,pe))&&N(O,`missing type "${ee.join(",")}" for keyword "${q}"`)}}}function z(O,j){return O.includes(j)||j==="number"&&O.includes("integer")}function A(O,j){return O.includes(j)||j==="integer"&&O.includes("number")}function P(O,j){const M=[];for(const q of O.dataTypes)A(j,q)?M.push(q):j.includes("integer")&&q==="number"&&M.push("integer");O.dataTypes=M}function N(O,j){const M=O.schemaEnv.baseId+O.errSchemaPath;j+=` at "${M}" (strictTypes)`,(0,u.checkStrictMode)(O,j,O.opts.strictTypes)}class D{constructor(j,M,q){if((0,i.validateKeywordUsage)(j,M,q),this.gen=j.gen,this.allErrors=j.allErrors,this.keyword=q,this.data=j.data,this.schema=j.schema[q],this.$data=M.$data&&j.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,u.schemaRefOrVal)(j,this.schema,q,this.$data),this.schemaType=M.schemaType,this.parentSchema=j.schema,this.params={},this.it=j,this.def=M,this.$data)this.schemaCode=j.gen.const("vSchema",X(this.$data,j));else if(this.schemaCode=this.schemaValue,!(0,i.validSchemaType)(this.schema,M.schemaType,M.allowUndefined))throw new Error(`${q} value must be ${JSON.stringify(M.schemaType)}`);("code"in M?M.trackErrors:M.errors!==!1)&&(this.errsCount=j.gen.const("_errs",c.default.errors))}result(j,M,q){this.failResult((0,s.not)(j),M,q)}failResult(j,M,q){this.gen.if(j),q?q():this.error(),M?(this.gen.else(),M(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(j,M){this.failResult((0,s.not)(j),void 0,M)}fail(j){if(j===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(j),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(j){if(!this.$data)return this.fail(j);const{schemaCode:M}=this;this.fail((0,s._)`${M} !== undefined && (${(0,s.or)(this.invalid$data(),j)})`)}error(j,M,q){if(M){this.setParams(M),this._error(j,q),this.setParams({});return}this._error(j,q)}_error(j,M){(j?d.reportExtraError:d.reportError)(this,this.def.error,M)}$dataError(){(0,d.reportError)(this,this.def.$dataError||d.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,d.resetErrorsCount)(this.gen,this.errsCount)}ok(j){this.allErrors||this.gen.if(j)}setParams(j,M){M?Object.assign(this.params,j):this.params=j}block$data(j,M,q=s.nil){this.gen.block(()=>{this.check$data(j,q),M()})}check$data(j=s.nil,M=s.nil){if(!this.$data)return;const{gen:q,schemaCode:Z,schemaType:ee,def:pe}=this;q.if((0,s.or)((0,s._)`${Z} === undefined`,M)),j!==s.nil&&q.assign(j,!0),(ee.length||pe.validateSchema)&&(q.elseIf(this.invalid$data()),this.$dataError(),j!==s.nil&&q.assign(j,!1)),q.else()}invalid$data(){const{gen:j,schemaCode:M,schemaType:q,def:Z,it:ee}=this;return(0,s.or)(pe(),_e());function pe(){if(q.length){if(!(M instanceof s.Name))throw new Error("ajv implementation error");const Se=Array.isArray(q)?q:[q];return(0,s._)`${(0,n.checkDataTypes)(Se,M,ee.opts.strictNumbers,n.DataType.Wrong)}`}return s.nil}function _e(){if(Z.validateSchema){const Se=j.scopeValue("validate$data",{ref:Z.validateSchema});return(0,s._)`!${Se}(${M})`}return s.nil}}subschema(j,M){const q=(0,o.getSubschema)(this.it,j);(0,o.extendSubschemaData)(q,this.it,j),(0,o.extendSubschemaMode)(q,j);const Z={...this.it,...q,items:void 0,props:void 0};return y(Z,M),Z}mergeEvaluated(j,M){const{it:q,gen:Z}=this;q.opts.unevaluated&&(q.props!==!0&&j.props!==void 0&&(q.props=u.mergeEvaluated.props(Z,j.props,q.props,M)),q.items!==!0&&j.items!==void 0&&(q.items=u.mergeEvaluated.items(Z,j.items,q.items,M)))}mergeValidEvaluated(j,M){const{it:q,gen:Z}=this;if(q.opts.unevaluated&&(q.props!==!0||q.items!==!0))return Z.if(M,()=>this.mergeEvaluated(j,s.Name)),!0}}Vr.KeywordCxt=D;function K(O,j,M,q){const Z=new D(O,M,j);"code"in M?M.code(Z,q):Z.$data&&M.validate?(0,i.funcKeywordCode)(Z,M):"macro"in M?(0,i.macroKeywordCode)(Z,M):(M.compile||M.validate)&&(0,i.funcKeywordCode)(Z,M)}const Y=/^\/(?:[^~]|~0|~1)*$/,V=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function X(O,{dataLevel:j,dataNames:M,dataPathArr:q}){let Z,ee;if(O==="")return c.default.rootData;if(O[0]==="/"){if(!Y.test(O))throw new Error(`Invalid JSON-pointer: ${O}`);Z=O,ee=c.default.rootData}else{const $e=V.exec(O);if(!$e)throw new Error(`Invalid JSON-pointer: ${O}`);const he=+$e[1];if(Z=$e[2],Z==="#"){if(he>=j)throw new Error(Se("property/index",he));return q[j-he]}if(he>j)throw new Error(Se("data",he));if(ee=M[j-he],!Z)return ee}let pe=ee;const _e=Z.split("/");for(const $e of _e)$e&&(ee=(0,s._)`${ee}${(0,s.getProperty)((0,u.unescapeJsonPointer)($e))}`,pe=(0,s._)`${pe} && ${ee}`);return pe;function Se($e,he){return`Cannot access ${$e} ${he} levels up, current level is ${j}`}}return Vr.getData=X,Vr}var os={},zy;function Yh(){if(zy)return os;zy=1,Object.defineProperty(os,"__esModule",{value:!0});class e extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}}return os.default=e,os}var ss={},Ly;function Nl(){if(Ly)return ss;Ly=1,Object.defineProperty(ss,"__esModule",{value:!0});const e=Ol();class t extends Error{constructor(n,a,i,o){super(o||`can't resolve reference ${i} from id ${a}`),this.missingRef=(0,e.resolveUrl)(n,a,i),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(n,this.missingRef))}}return ss.default=t,ss}var Zt={},qy;function Jh(){if(qy)return Zt;qy=1,Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.resolveSchema=Zt.getCompilingSchema=Zt.resolveRef=Zt.compileSchema=Zt.SchemaEnv=void 0;const e=be(),t=Yh(),r=Tn(),n=Ol(),a=Oe(),i=jl();class o{constructor(b){var m;this.refs={},this.dynamicAnchors={};let y;typeof b.schema=="object"&&(y=b.schema),this.schema=b.schema,this.schemaId=b.schemaId,this.root=b.root||this,this.baseId=(m=b.baseId)!==null&&m!==void 0?m:(0,n.normalizeId)(y?.[b.schemaId||"$id"]),this.schemaPath=b.schemaPath,this.localRefs=b.localRefs,this.meta=b.meta,this.$async=y?.$async,this.refs={}}}Zt.SchemaEnv=o;function s(f){const b=u.call(this,f);if(b)return b;const m=(0,n.getFullPath)(this.opts.uriResolver,f.root.baseId),{es5:y,lines:x}=this.opts.code,{ownProperties:g}=this.opts,_=new e.CodeGen(this.scope,{es5:y,lines:x,ownProperties:g});let S;f.$async&&(S=_.scopeValue("Error",{ref:t.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const E=_.scopeName("validate");f.validateName=E;const I={gen:_,allErrors:this.opts.allErrors,data:r.default.data,parentData:r.default.parentData,parentDataProperty:r.default.parentDataProperty,dataNames:[r.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:_.scopeValue("schema",this.opts.code.source===!0?{ref:f.schema,code:(0,e.stringify)(f.schema)}:{ref:f.schema}),validateName:E,ValidationError:S,schema:f.schema,schemaEnv:f,rootId:m,baseId:f.baseId||m,schemaPath:e.nil,errSchemaPath:f.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let L;try{this._compilations.add(f),(0,i.validateFunctionCode)(I),_.optimize(this.opts.code.optimize);const R=_.toString();L=`${_.scopeRefs(r.default.scope)}return ${R}`,this.opts.code.process&&(L=this.opts.code.process(L,f));const U=new Function(`${r.default.self}`,`${r.default.scope}`,L)(this,this.scope.get());if(this.scope.value(E,{ref:U}),U.errors=null,U.schema=f.schema,U.schemaEnv=f,f.$async&&(U.$async=!0),this.opts.code.source===!0&&(U.source={validateName:E,validateCode:R,scopeValues:_._values}),this.opts.unevaluated){const{props:B,items:Q}=I;U.evaluated={props:B instanceof e.Name?void 0:B,items:Q instanceof e.Name?void 0:Q,dynamicProps:B instanceof e.Name,dynamicItems:Q instanceof e.Name},U.source&&(U.source.evaluated=(0,e.stringify)(U.evaluated))}return f.validate=U,f}catch(R){throw delete f.validate,delete f.validateName,L&&this.logger.error("Error compiling schema, function code:",L),R}finally{this._compilations.delete(f)}}Zt.compileSchema=s;function c(f,b,m){var y;m=(0,n.resolveUrl)(this.opts.uriResolver,b,m);const x=f.refs[m];if(x)return x;let g=h.call(this,f,m);if(g===void 0){const _=(y=f.localRefs)===null||y===void 0?void 0:y[m],{schemaId:S}=this.opts;_&&(g=new o({schema:_,schemaId:S,root:f,baseId:b}))}if(g!==void 0)return f.refs[m]=l.call(this,g)}Zt.resolveRef=c;function l(f){return(0,n.inlineRef)(f.schema,this.opts.inlineRefs)?f.schema:f.validate?f:s.call(this,f)}function u(f){for(const b of this._compilations)if(d(b,f))return b}Zt.getCompilingSchema=u;function d(f,b){return f.schema===b.schema&&f.root===b.root&&f.baseId===b.baseId}function h(f,b){let m;for(;typeof(m=this.refs[b])=="string";)b=m;return m||this.schemas[b]||p.call(this,f,b)}function p(f,b){const m=this.opts.uriResolver.parse(b),y=(0,n._getFullPath)(this.opts.uriResolver,m);let x=(0,n.getFullPath)(this.opts.uriResolver,f.baseId,void 0);if(Object.keys(f.schema).length>0&&y===x)return w.call(this,m,f);const g=(0,n.normalizeId)(y),_=this.refs[g]||this.schemas[g];if(typeof _=="string"){const S=p.call(this,f,_);return typeof S?.schema!="object"?void 0:w.call(this,m,S)}if(typeof _?.schema=="object"){if(_.validate||s.call(this,_),g===(0,n.normalizeId)(b)){const{schema:S}=_,{schemaId:E}=this.opts,I=S[E];return I&&(x=(0,n.resolveUrl)(this.opts.uriResolver,x,I)),new o({schema:S,schemaId:E,root:f,baseId:x})}return w.call(this,m,_)}}Zt.resolveSchema=p;const v=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function w(f,{baseId:b,schema:m,root:y}){var x;if(((x=f.fragment)===null||x===void 0?void 0:x[0])!=="/")return;for(const S of f.fragment.slice(1).split("/")){if(typeof m=="boolean")return;const E=m[(0,a.unescapeFragment)(S)];if(E===void 0)return;m=E;const I=typeof m=="object"&&m[this.opts.schemaId];!v.has(S)&&I&&(b=(0,n.resolveUrl)(this.opts.uriResolver,b,I))}let g;if(typeof m!="boolean"&&m.$ref&&!(0,a.schemaHasRulesButRef)(m,this.RULES)){const S=(0,n.resolveUrl)(this.opts.uriResolver,b,m.$ref);g=p.call(this,y,S)}const{schemaId:_}=this.opts;if(g=g||new o({schema:m,schemaId:_,root:y,baseId:b}),g.schema!==g.root.schema)return g}return Zt}const XM="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",QM="Meta-schema for $data reference (JSON AnySchema extension proposal)",eD="object",tD=["$data"],rD={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},nD=!1,aD={$id:XM,description:QM,type:eD,required:tD,properties:rD,additionalProperties:nD};var cs={},Fy;function iD(){if(Fy)return cs;Fy=1,Object.defineProperty(cs,"__esModule",{value:!0});const e=LS();return e.code='require("ajv/dist/runtime/uri").default',cs.default=e,cs}var Uy;function oD(){return Uy||(Uy=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=jl();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=be();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Yh(),a=Nl(),i=VS(),o=Jh(),s=be(),c=Ol(),l=xc(),u=Oe(),d=aD,h=iD(),p=(F,T)=>new RegExp(F,T);p.code="new RegExp";const v=["removeAdditional","useDefaults","coerceTypes"],w=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),f={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},b={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},m=200;function y(F){var T,z,A,P,N,D,K,Y,V,X,O,j,M,q,Z,ee,pe,_e,Se,$e,he,Ge,ke,qt,kt;const tt=F.strict,Et=(T=F.code)===null||T===void 0?void 0:T.optimize,rr=Et===!0||Et===void 0?1:Et||0,pn=(A=(z=F.code)===null||z===void 0?void 0:z.regExp)!==null&&A!==void 0?A:p,ri=(P=F.uriResolver)!==null&&P!==void 0?P:h.default;return{strictSchema:(D=(N=F.strictSchema)!==null&&N!==void 0?N:tt)!==null&&D!==void 0?D:!0,strictNumbers:(Y=(K=F.strictNumbers)!==null&&K!==void 0?K:tt)!==null&&Y!==void 0?Y:!0,strictTypes:(X=(V=F.strictTypes)!==null&&V!==void 0?V:tt)!==null&&X!==void 0?X:"log",strictTuples:(j=(O=F.strictTuples)!==null&&O!==void 0?O:tt)!==null&&j!==void 0?j:"log",strictRequired:(q=(M=F.strictRequired)!==null&&M!==void 0?M:tt)!==null&&q!==void 0?q:!1,code:F.code?{...F.code,optimize:rr,regExp:pn}:{optimize:rr,regExp:pn},loopRequired:(Z=F.loopRequired)!==null&&Z!==void 0?Z:m,loopEnum:(ee=F.loopEnum)!==null&&ee!==void 0?ee:m,meta:(pe=F.meta)!==null&&pe!==void 0?pe:!0,messages:(_e=F.messages)!==null&&_e!==void 0?_e:!0,inlineRefs:(Se=F.inlineRefs)!==null&&Se!==void 0?Se:!0,schemaId:($e=F.schemaId)!==null&&$e!==void 0?$e:"$id",addUsedSchema:(he=F.addUsedSchema)!==null&&he!==void 0?he:!0,validateSchema:(Ge=F.validateSchema)!==null&&Ge!==void 0?Ge:!0,validateFormats:(ke=F.validateFormats)!==null&&ke!==void 0?ke:!0,unicodeRegExp:(qt=F.unicodeRegExp)!==null&&qt!==void 0?qt:!0,int32range:(kt=F.int32range)!==null&&kt!==void 0?kt:!0,uriResolver:ri}}class x{constructor(T={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,T=this.opts={...T,...y(T)};const{es5:z,lines:A}=this.opts.code;this.scope=new s.ValueScope({scope:{},prefixes:w,es5:z,lines:A}),this.logger=C(T.logger);const P=T.validateFormats;T.validateFormats=!1,this.RULES=(0,i.getRules)(),g.call(this,f,T,"NOT SUPPORTED"),g.call(this,b,T,"DEPRECATED","warn"),this._metaOpts=L.call(this),T.formats&&E.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),T.keywords&&I.call(this,T.keywords),typeof T.meta=="object"&&this.addMetaSchema(T.meta),S.call(this),T.validateFormats=P}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:T,meta:z,schemaId:A}=this.opts;let P=d;A==="id"&&(P={...d},P.id=P.$id,delete P.$id),z&&T&&this.addMetaSchema(P,P[A],!1)}defaultMeta(){const{meta:T,schemaId:z}=this.opts;return this.opts.defaultMeta=typeof T=="object"?T[z]||T:void 0}validate(T,z){let A;if(typeof T=="string"){if(A=this.getSchema(T),!A)throw new Error(`no schema with key or ref "${T}"`)}else A=this.compile(T);const P=A(z);return"$async"in A||(this.errors=A.errors),P}compile(T,z){const A=this._addSchema(T,z);return A.validate||this._compileSchemaEnv(A)}compileAsync(T,z){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:A}=this.opts;return P.call(this,T,z);async function P(X,O){await N.call(this,X.$schema);const j=this._addSchema(X,O);return j.validate||D.call(this,j)}async function N(X){X&&!this.getSchema(X)&&await P.call(this,{$ref:X},!0)}async function D(X){try{return this._compileSchemaEnv(X)}catch(O){if(!(O instanceof a.default))throw O;return K.call(this,O),await Y.call(this,O.missingSchema),D.call(this,X)}}function K({missingSchema:X,missingRef:O}){if(this.refs[X])throw new Error(`AnySchema ${X} is loaded but ${O} cannot be resolved`)}async function Y(X){const O=await V.call(this,X);this.refs[X]||await N.call(this,O.$schema),this.refs[X]||this.addSchema(O,X,z)}async function V(X){const O=this._loading[X];if(O)return O;try{return await(this._loading[X]=A(X))}finally{delete this._loading[X]}}}addSchema(T,z,A,P=this.opts.validateSchema){if(Array.isArray(T)){for(const D of T)this.addSchema(D,void 0,A,P);return this}let N;if(typeof T=="object"){const{schemaId:D}=this.opts;if(N=T[D],N!==void 0&&typeof N!="string")throw new Error(`schema ${D} must be string`)}return z=(0,c.normalizeId)(z||N),this._checkUnique(z),this.schemas[z]=this._addSchema(T,A,z,P,!0),this}addMetaSchema(T,z,A=this.opts.validateSchema){return this.addSchema(T,z,!0,A),this}validateSchema(T,z){if(typeof T=="boolean")return!0;let A;if(A=T.$schema,A!==void 0&&typeof A!="string")throw new Error("$schema must be a string");if(A=A||this.opts.defaultMeta||this.defaultMeta(),!A)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const P=this.validate(A,T);if(!P&&z){const N="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(N);else throw new Error(N)}return P}getSchema(T){let z;for(;typeof(z=_.call(this,T))=="string";)T=z;if(z===void 0){const{schemaId:A}=this.opts,P=new o.SchemaEnv({schema:{},schemaId:A});if(z=o.resolveSchema.call(this,P,T),!z)return;this.refs[T]=z}return z.validate||this._compileSchemaEnv(z)}removeSchema(T){if(T instanceof RegExp)return this._removeAllSchemas(this.schemas,T),this._removeAllSchemas(this.refs,T),this;switch(typeof T){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const z=_.call(this,T);return typeof z=="object"&&this._cache.delete(z.schema),delete this.schemas[T],delete this.refs[T],this}case"object":{const z=T;this._cache.delete(z);let A=T[this.opts.schemaId];return A&&(A=(0,c.normalizeId)(A),delete this.schemas[A],delete this.refs[A]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(T){for(const z of T)this.addKeyword(z);return this}addKeyword(T,z){let A;if(typeof T=="string")A=T,typeof z=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),z.keyword=A);else if(typeof T=="object"&&z===void 0){if(z=T,A=z.keyword,Array.isArray(A)&&!A.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(B.call(this,A,z),!z)return(0,u.eachItem)(A,N=>Q.call(this,N)),this;te.call(this,z);const P={...z,type:(0,l.getJSONTypes)(z.type),schemaType:(0,l.getJSONTypes)(z.schemaType)};return(0,u.eachItem)(A,P.type.length===0?N=>Q.call(this,N,P):N=>P.type.forEach(D=>Q.call(this,N,P,D))),this}getKeyword(T){const z=this.RULES.all[T];return typeof z=="object"?z.definition:!!z}removeKeyword(T){const{RULES:z}=this;delete z.keywords[T],delete z.all[T];for(const A of z.rules){const P=A.rules.findIndex(N=>N.keyword===T);P>=0&&A.rules.splice(P,1)}return this}addFormat(T,z){return typeof z=="string"&&(z=new RegExp(z)),this.formats[T]=z,this}errorsText(T=this.errors,{separator:z=", ",dataVar:A="data"}={}){return!T||T.length===0?"No errors":T.map(P=>`${A}${P.instancePath} ${P.message}`).reduce((P,N)=>P+z+N)}$dataMetaSchema(T,z){const A=this.RULES.all;T=JSON.parse(JSON.stringify(T));for(const P of z){const N=P.split("/").slice(1);let D=T;for(const K of N)D=D[K];for(const K in A){const Y=A[K];if(typeof Y!="object")continue;const{$data:V}=Y.definition,X=D[K];V&&X&&(D[K]=ue(X))}}return T}_removeAllSchemas(T,z){for(const A in T){const P=T[A];(!z||z.test(A))&&(typeof P=="string"?delete T[A]:P&&!P.meta&&(this._cache.delete(P.schema),delete T[A]))}}_addSchema(T,z,A,P=this.opts.validateSchema,N=this.opts.addUsedSchema){let D;const{schemaId:K}=this.opts;if(typeof T=="object")D=T[K];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof T!="boolean")throw new Error("schema must be object or boolean")}let Y=this._cache.get(T);if(Y!==void 0)return Y;A=(0,c.normalizeId)(D||A);const V=c.getSchemaRefs.call(this,T,A);return Y=new o.SchemaEnv({schema:T,schemaId:K,meta:z,baseId:A,localRefs:V}),this._cache.set(Y.schema,Y),N&&!A.startsWith("#")&&(A&&this._checkUnique(A),this.refs[A]=Y),P&&this.validateSchema(T,!0),Y}_checkUnique(T){if(this.schemas[T]||this.refs[T])throw new Error(`schema with key or id "${T}" already exists`)}_compileSchemaEnv(T){if(T.meta?this._compileMetaSchema(T):o.compileSchema.call(this,T),!T.validate)throw new Error("ajv implementation error");return T.validate}_compileMetaSchema(T){const z=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,T)}finally{this.opts=z}}}x.ValidationError=n.default,x.MissingRefError=a.default,e.default=x;function g(F,T,z,A="error"){for(const P in F){const N=P;N in T&&this.logger[A](`${z}: option ${P}. ${F[N]}`)}}function _(F){return F=(0,c.normalizeId)(F),this.schemas[F]||this.refs[F]}function S(){const F=this.opts.schemas;if(F)if(Array.isArray(F))this.addSchema(F);else for(const T in F)this.addSchema(F[T],T)}function E(){for(const F in this.opts.formats){const T=this.opts.formats[F];T&&this.addFormat(F,T)}}function I(F){if(Array.isArray(F)){this.addVocabulary(F);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const T in F){const z=F[T];z.keyword||(z.keyword=T),this.addKeyword(z)}}function L(){const F={...this.opts};for(const T of v)delete F[T];return F}const R={log(){},warn(){},error(){}};function C(F){if(F===!1)return R;if(F===void 0)return console;if(F.log&&F.warn&&F.error)return F;throw new Error("logger must implement log, warn and error methods")}const U=/^[a-z_$][a-z0-9_$:-]*$/i;function B(F,T){const{RULES:z}=this;if((0,u.eachItem)(F,A=>{if(z.keywords[A])throw new Error(`Keyword ${A} is already defined`);if(!U.test(A))throw new Error(`Keyword ${A} has invalid name`)}),!!T&&T.$data&&!("code"in T||"validate"in T))throw new Error('$data keyword must have "code" or "validate" function')}function Q(F,T,z){var A;const P=T?.post;if(z&&P)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:N}=this;let D=P?N.post:N.rules.find(({type:Y})=>Y===z);if(D||(D={type:z,rules:[]},N.rules.push(D)),N.keywords[F]=!0,!T)return;const K={keyword:F,definition:{...T,type:(0,l.getJSONTypes)(T.type),schemaType:(0,l.getJSONTypes)(T.schemaType)}};T.before?ae.call(this,D,K,T.before):D.rules.push(K),N.all[F]=K,(A=T.implements)===null||A===void 0||A.forEach(Y=>this.addKeyword(Y))}function ae(F,T,z){const A=F.rules.findIndex(P=>P.keyword===z);A>=0?F.rules.splice(A,0,T):(F.rules.push(T),this.logger.warn(`rule ${z} is not defined`))}function te(F){let{metaSchema:T}=F;T!==void 0&&(F.$data&&this.opts.$data&&(T=ue(T)),F.validateSchema=this.compile(T,!0))}const W={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ue(F){return{anyOf:[F,W]}}})(Ru)),Ru}var ls={},us={},ds={},Vy;function sD(){if(Vy)return ds;Vy=1,Object.defineProperty(ds,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return ds.default=e,ds}var yn={},By;function cD(){if(By)return yn;By=1,Object.defineProperty(yn,"__esModule",{value:!0}),yn.callRef=yn.getValidate=void 0;const e=Nl(),t=Sr(),r=be(),n=Tn(),a=Jh(),i=Oe(),o={keyword:"$ref",schemaType:"string",code(l){const{gen:u,schema:d,it:h}=l,{baseId:p,schemaEnv:v,validateName:w,opts:f,self:b}=h,{root:m}=v;if((d==="#"||d==="#/")&&p===m.baseId)return x();const y=a.resolveRef.call(b,m,p,d);if(y===void 0)throw new e.default(h.opts.uriResolver,p,d);if(y instanceof a.SchemaEnv)return g(y);return _(y);function x(){if(v===m)return c(l,w,v,v.$async);const S=u.scopeValue("root",{ref:m});return c(l,(0,r._)`${S}.validate`,m,m.$async)}function g(S){const E=s(l,S);c(l,E,S,S.$async)}function _(S){const E=u.scopeValue("schema",f.code.source===!0?{ref:S,code:(0,r.stringify)(S)}:{ref:S}),I=u.name("valid"),L=l.subschema({schema:S,dataTypes:[],schemaPath:r.nil,topSchemaRef:E,errSchemaPath:d},I);l.mergeEvaluated(L),l.ok(I)}}};function s(l,u){const{gen:d}=l;return u.validate?d.scopeValue("validate",{ref:u.validate}):(0,r._)`${d.scopeValue("wrapper",{ref:u})}.validate`}yn.getValidate=s;function c(l,u,d,h){const{gen:p,it:v}=l,{allErrors:w,schemaEnv:f,opts:b}=v,m=b.passContext?n.default.this:r.nil;h?y():x();function y(){if(!f.$async)throw new Error("async schema referenced by sync schema");const S=p.let("valid");p.try(()=>{p.code((0,r._)`await ${(0,t.callValidateCode)(l,u,m)}`),_(u),w||p.assign(S,!0)},E=>{p.if((0,r._)`!(${E} instanceof ${v.ValidationError})`,()=>p.throw(E)),g(E),w||p.assign(S,!1)}),l.ok(S)}function x(){l.result((0,t.callValidateCode)(l,u,m),()=>_(u),()=>g(u))}function g(S){const E=(0,r._)`${S}.errors`;p.assign(n.default.vErrors,(0,r._)`${n.default.vErrors} === null ? ${E} : ${n.default.vErrors}.concat(${E})`),p.assign(n.default.errors,(0,r._)`${n.default.vErrors}.length`)}function _(S){var E;if(!v.opts.unevaluated)return;const I=(E=d?.validate)===null||E===void 0?void 0:E.evaluated;if(v.props!==!0)if(I&&!I.dynamicProps)I.props!==void 0&&(v.props=i.mergeEvaluated.props(p,I.props,v.props));else{const L=p.var("props",(0,r._)`${S}.evaluated.props`);v.props=i.mergeEvaluated.props(p,L,v.props,r.Name)}if(v.items!==!0)if(I&&!I.dynamicItems)I.items!==void 0&&(v.items=i.mergeEvaluated.items(p,I.items,v.items));else{const L=p.var("items",(0,r._)`${S}.evaluated.items`);v.items=i.mergeEvaluated.items(p,L,v.items,r.Name)}}}return yn.callRef=c,yn.default=o,yn}var Ky;function lD(){if(Ky)return us;Ky=1,Object.defineProperty(us,"__esModule",{value:!0});const e=sD(),t=cD(),r=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default];return us.default=r,us}var fs={},hs={},Wy;function uD(){if(Wy)return hs;Wy=1,Object.defineProperty(hs,"__esModule",{value:!0});const e=be(),t=e.operators,r={maximum:{okStr:"<=",ok:t.LTE,fail:t.GT},minimum:{okStr:">=",ok:t.GTE,fail:t.LT},exclusiveMaximum:{okStr:"<",ok:t.LT,fail:t.GTE},exclusiveMinimum:{okStr:">",ok:t.GT,fail:t.LTE}},n={message:({keyword:i,schemaCode:o})=>(0,e.str)`must be ${r[i].okStr} ${o}`,params:({keyword:i,schemaCode:o})=>(0,e._)`{comparison: ${r[i].okStr}, limit: ${o}}`},a={keyword:Object.keys(r),type:"number",schemaType:"number",$data:!0,error:n,code(i){const{keyword:o,data:s,schemaCode:c}=i;i.fail$data((0,e._)`${s} ${r[o].fail} ${c} || isNaN(${s})`)}};return hs.default=a,hs}var ps={},Hy;function dD(){if(Hy)return ps;Hy=1,Object.defineProperty(ps,"__esModule",{value:!0});const e=be(),r={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:n})=>(0,e.str)`must be multiple of ${n}`,params:({schemaCode:n})=>(0,e._)`{multipleOf: ${n}}`},code(n){const{gen:a,data:i,schemaCode:o,it:s}=n,c=s.opts.multipleOfPrecision,l=a.let("res"),u=c?(0,e._)`Math.abs(Math.round(${l}) - ${l}) > 1e-${c}`:(0,e._)`${l} !== parseInt(${l})`;n.fail$data((0,e._)`(${o} === 0 || (${l} = ${i}/${o}, ${u}))`)}};return ps.default=r,ps}var ms={},vs={},Zy;function fD(){if(Zy)return vs;Zy=1,Object.defineProperty(vs,"__esModule",{value:!0});function e(t){const r=t.length;let n=0,a=0,i;for(;a<r;)n++,i=t.charCodeAt(a++),i>=55296&&i<=56319&&a<r&&(i=t.charCodeAt(a),(i&64512)===56320&&a++);return n}return vs.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',vs}var Gy;function hD(){if(Gy)return ms;Gy=1,Object.defineProperty(ms,"__esModule",{value:!0});const e=be(),t=Oe(),r=fD(),a={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:i,schemaCode:o}){const s=i==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${s} than ${o} characters`},params:({schemaCode:i})=>(0,e._)`{limit: ${i}}`},code(i){const{keyword:o,data:s,schemaCode:c,it:l}=i,u=o==="maxLength"?e.operators.GT:e.operators.LT,d=l.opts.unicode===!1?(0,e._)`${s}.length`:(0,e._)`${(0,t.useFunc)(i.gen,r.default)}(${s})`;i.fail$data((0,e._)`${d} ${u} ${c}`)}};return ms.default=a,ms}var ys={},Yy;function pD(){if(Yy)return ys;Yy=1,Object.defineProperty(ys,"__esModule",{value:!0});const e=Sr(),t=be(),n={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:a})=>(0,t.str)`must match pattern "${a}"`,params:({schemaCode:a})=>(0,t._)`{pattern: ${a}}`},code(a){const{data:i,$data:o,schema:s,schemaCode:c,it:l}=a,u=l.opts.unicodeRegExp?"u":"",d=o?(0,t._)`(new RegExp(${c}, ${u}))`:(0,e.usePattern)(a,s);a.fail$data((0,t._)`!${d}.test(${i})`)}};return ys.default=n,ys}var gs={},Jy;function mD(){if(Jy)return gs;Jy=1,Object.defineProperty(gs,"__esModule",{value:!0});const e=be(),r={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:a}){const i=n==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${i} than ${a} properties`},params:({schemaCode:n})=>(0,e._)`{limit: ${n}}`},code(n){const{keyword:a,data:i,schemaCode:o}=n,s=a==="maxProperties"?e.operators.GT:e.operators.LT;n.fail$data((0,e._)`Object.keys(${i}).length ${s} ${o}`)}};return gs.default=r,gs}var bs={},Xy;function vD(){if(Xy)return bs;Xy=1,Object.defineProperty(bs,"__esModule",{value:!0});const e=Sr(),t=be(),r=Oe(),a={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:i}})=>(0,t.str)`must have required property '${i}'`,params:({params:{missingProperty:i}})=>(0,t._)`{missingProperty: ${i}}`},code(i){const{gen:o,schema:s,schemaCode:c,data:l,$data:u,it:d}=i,{opts:h}=d;if(!u&&s.length===0)return;const p=s.length>=h.loopRequired;if(d.allErrors?v():w(),h.strictRequired){const m=i.parentSchema.properties,{definedProperties:y}=i.it;for(const x of s)if(m?.[x]===void 0&&!y.has(x)){const g=d.schemaEnv.baseId+d.errSchemaPath,_=`required property "${x}" is not defined at "${g}" (strictRequired)`;(0,r.checkStrictMode)(d,_,d.opts.strictRequired)}}function v(){if(p||u)i.block$data(t.nil,f);else for(const m of s)(0,e.checkReportMissingProp)(i,m)}function w(){const m=o.let("missing");if(p||u){const y=o.let("valid",!0);i.block$data(y,()=>b(m,y)),i.ok(y)}else o.if((0,e.checkMissingProp)(i,s,m)),(0,e.reportMissingProp)(i,m),o.else()}function f(){o.forOf("prop",c,m=>{i.setParams({missingProperty:m}),o.if((0,e.noPropertyInData)(o,l,m,h.ownProperties),()=>i.error())})}function b(m,y){i.setParams({missingProperty:m}),o.forOf(m,c,()=>{o.assign(y,(0,e.propertyInData)(o,l,m,h.ownProperties)),o.if((0,t.not)(y),()=>{i.error(),o.break()})},t.nil)}}};return bs.default=a,bs}var ws={},Qy;function yD(){if(Qy)return ws;Qy=1,Object.defineProperty(ws,"__esModule",{value:!0});const e=be(),r={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:a}){const i=n==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${i} than ${a} items`},params:({schemaCode:n})=>(0,e._)`{limit: ${n}}`},code(n){const{keyword:a,data:i,schemaCode:o}=n,s=a==="maxItems"?e.operators.GT:e.operators.LT;n.fail$data((0,e._)`${i}.length ${s} ${o}`)}};return ws.default=r,ws}var _s={},xs={},eg;function Xh(){if(eg)return xs;eg=1,Object.defineProperty(xs,"__esModule",{value:!0});const e=Sl();return e.code='require("ajv/dist/runtime/equal").default',xs.default=e,xs}var tg;function gD(){if(tg)return _s;tg=1,Object.defineProperty(_s,"__esModule",{value:!0});const e=xc(),t=be(),r=Oe(),n=Xh(),i={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:o,j:s}})=>(0,t.str)`must NOT have duplicate items (items ## ${s} and ${o} are identical)`,params:({params:{i:o,j:s}})=>(0,t._)`{i: ${o}, j: ${s}}`},code(o){const{gen:s,data:c,$data:l,schema:u,parentSchema:d,schemaCode:h,it:p}=o;if(!l&&!u)return;const v=s.let("valid"),w=d.items?(0,e.getSchemaTypes)(d.items):[];o.block$data(v,f,(0,t._)`${h} === false`),o.ok(v);function f(){const x=s.let("i",(0,t._)`${c}.length`),g=s.let("j");o.setParams({i:x,j:g}),s.assign(v,!0),s.if((0,t._)`${x} > 1`,()=>(b()?m:y)(x,g))}function b(){return w.length>0&&!w.some(x=>x==="object"||x==="array")}function m(x,g){const _=s.name("item"),S=(0,e.checkDataTypes)(w,_,p.opts.strictNumbers,e.DataType.Wrong),E=s.const("indices",(0,t._)`{}`);s.for((0,t._)`;${x}--;`,()=>{s.let(_,(0,t._)`${c}[${x}]`),s.if(S,(0,t._)`continue`),w.length>1&&s.if((0,t._)`typeof ${_} == "string"`,(0,t._)`${_} += "_"`),s.if((0,t._)`typeof ${E}[${_}] == "number"`,()=>{s.assign(g,(0,t._)`${E}[${_}]`),o.error(),s.assign(v,!1).break()}).code((0,t._)`${E}[${_}] = ${x}`)})}function y(x,g){const _=(0,r.useFunc)(s,n.default),S=s.name("outer");s.label(S).for((0,t._)`;${x}--;`,()=>s.for((0,t._)`${g} = ${x}; ${g}--;`,()=>s.if((0,t._)`${_}(${c}[${x}], ${c}[${g}])`,()=>{o.error(),s.assign(v,!1).break(S)})))}}};return _s.default=i,_s}var Ss={},rg;function bD(){if(rg)return Ss;rg=1,Object.defineProperty(Ss,"__esModule",{value:!0});const e=be(),t=Oe(),r=Xh(),a={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:i})=>(0,e._)`{allowedValue: ${i}}`},code(i){const{gen:o,data:s,$data:c,schemaCode:l,schema:u}=i;c||u&&typeof u=="object"?i.fail$data((0,e._)`!${(0,t.useFunc)(o,r.default)}(${s}, ${l})`):i.fail((0,e._)`${u} !== ${s}`)}};return Ss.default=a,Ss}var Ps={},ng;function wD(){if(ng)return Ps;ng=1,Object.defineProperty(Ps,"__esModule",{value:!0});const e=be(),t=Oe(),r=Xh(),a={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:i})=>(0,e._)`{allowedValues: ${i}}`},code(i){const{gen:o,data:s,$data:c,schema:l,schemaCode:u,it:d}=i;if(!c&&l.length===0)throw new Error("enum must have non-empty array");const h=l.length>=d.opts.loopEnum;let p;const v=()=>p??(p=(0,t.useFunc)(o,r.default));let w;if(h||c)w=o.let("valid"),i.block$data(w,f);else{if(!Array.isArray(l))throw new Error("ajv implementation error");const m=o.const("vSchema",u);w=(0,e.or)(...l.map((y,x)=>b(m,x)))}i.pass(w);function f(){o.assign(w,!1),o.forOf("v",u,m=>o.if((0,e._)`${v()}(${s}, ${m})`,()=>o.assign(w,!0).break()))}function b(m,y){const x=l[y];return typeof x=="object"&&x!==null?(0,e._)`${v()}(${s}, ${m}[${y}])`:(0,e._)`${s} === ${x}`}}};return Ps.default=a,Ps}var ag;function _D(){if(ag)return fs;ag=1,Object.defineProperty(fs,"__esModule",{value:!0});const e=uD(),t=dD(),r=hD(),n=pD(),a=mD(),i=vD(),o=yD(),s=gD(),c=bD(),l=wD(),u=[e.default,t.default,r.default,n.default,a.default,i.default,o.default,s.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},c.default,l.default];return fs.default=u,fs}var $s={},ma={},ig;function KS(){if(ig)return ma;ig=1,Object.defineProperty(ma,"__esModule",{value:!0}),ma.validateAdditionalItems=void 0;const e=be(),t=Oe(),n={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:i}})=>(0,e.str)`must NOT have more than ${i} items`,params:({params:{len:i}})=>(0,e._)`{limit: ${i}}`},code(i){const{parentSchema:o,it:s}=i,{items:c}=o;if(!Array.isArray(c)){(0,t.checkStrictMode)(s,'"additionalItems" is ignored when "items" is not an array of schemas');return}a(i,c)}};function a(i,o){const{gen:s,schema:c,data:l,keyword:u,it:d}=i;d.items=!0;const h=s.const("len",(0,e._)`${l}.length`);if(c===!1)i.setParams({len:o.length}),i.pass((0,e._)`${h} <= ${o.length}`);else if(typeof c=="object"&&!(0,t.alwaysValidSchema)(d,c)){const v=s.var("valid",(0,e._)`${h} <= ${o.length}`);s.if((0,e.not)(v),()=>p(v)),i.ok(v)}function p(v){s.forRange("i",o.length,h,w=>{i.subschema({keyword:u,dataProp:w,dataPropType:t.Type.Num},v),d.allErrors||s.if((0,e.not)(v),()=>s.break())})}}return ma.validateAdditionalItems=a,ma.default=n,ma}var ks={},va={},og;function WS(){if(og)return va;og=1,Object.defineProperty(va,"__esModule",{value:!0}),va.validateTuple=void 0;const e=be(),t=Oe(),r=Sr(),n={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(i){const{schema:o,it:s}=i;if(Array.isArray(o))return a(i,"additionalItems",o);s.items=!0,!(0,t.alwaysValidSchema)(s,o)&&i.ok((0,r.validateArray)(i))}};function a(i,o,s=i.schema){const{gen:c,parentSchema:l,data:u,keyword:d,it:h}=i;w(l),h.opts.unevaluated&&s.length&&h.items!==!0&&(h.items=t.mergeEvaluated.items(c,s.length,h.items));const p=c.name("valid"),v=c.const("len",(0,e._)`${u}.length`);s.forEach((f,b)=>{(0,t.alwaysValidSchema)(h,f)||(c.if((0,e._)`${v} > ${b}`,()=>i.subschema({keyword:d,schemaProp:b,dataProp:b},p)),i.ok(p))});function w(f){const{opts:b,errSchemaPath:m}=h,y=s.length,x=y===f.minItems&&(y===f.maxItems||f[o]===!1);if(b.strictTuples&&!x){const g=`"${d}" is ${y}-tuple, but minItems or maxItems/${o} are not specified or different at path "${m}"`;(0,t.checkStrictMode)(h,g,b.strictTuples)}}}return va.validateTuple=a,va.default=n,va}var sg;function xD(){if(sg)return ks;sg=1,Object.defineProperty(ks,"__esModule",{value:!0});const e=WS(),t={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:r=>(0,e.validateTuple)(r,"items")};return ks.default=t,ks}var Es={},cg;function SD(){if(cg)return Es;cg=1,Object.defineProperty(Es,"__esModule",{value:!0});const e=be(),t=Oe(),r=Sr(),n=KS(),i={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:o}})=>(0,e.str)`must NOT have more than ${o} items`,params:({params:{len:o}})=>(0,e._)`{limit: ${o}}`},code(o){const{schema:s,parentSchema:c,it:l}=o,{prefixItems:u}=c;l.items=!0,!(0,t.alwaysValidSchema)(l,s)&&(u?(0,n.validateAdditionalItems)(o,u):o.ok((0,r.validateArray)(o)))}};return Es.default=i,Es}var Os={},lg;function PD(){if(lg)return Os;lg=1,Object.defineProperty(Os,"__esModule",{value:!0});const e=be(),t=Oe(),n={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:a,max:i}})=>i===void 0?(0,e.str)`must contain at least ${a} valid item(s)`:(0,e.str)`must contain at least ${a} and no more than ${i} valid item(s)`,params:({params:{min:a,max:i}})=>i===void 0?(0,e._)`{minContains: ${a}}`:(0,e._)`{minContains: ${a}, maxContains: ${i}}`},code(a){const{gen:i,schema:o,parentSchema:s,data:c,it:l}=a;let u,d;const{minContains:h,maxContains:p}=s;l.opts.next?(u=h===void 0?1:h,d=p):u=1;const v=i.const("len",(0,e._)`${c}.length`);if(a.setParams({min:u,max:d}),d===void 0&&u===0){(0,t.checkStrictMode)(l,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(d!==void 0&&u>d){(0,t.checkStrictMode)(l,'"minContains" > "maxContains" is always invalid'),a.fail();return}if((0,t.alwaysValidSchema)(l,o)){let y=(0,e._)`${v} >= ${u}`;d!==void 0&&(y=(0,e._)`${y} && ${v} <= ${d}`),a.pass(y);return}l.items=!0;const w=i.name("valid");d===void 0&&u===1?b(w,()=>i.if(w,()=>i.break())):u===0?(i.let(w,!0),d!==void 0&&i.if((0,e._)`${c}.length > 0`,f)):(i.let(w,!1),f()),a.result(w,()=>a.reset());function f(){const y=i.name("_valid"),x=i.let("count",0);b(y,()=>i.if(y,()=>m(x)))}function b(y,x){i.forRange("i",0,v,g=>{a.subschema({keyword:"contains",dataProp:g,dataPropType:t.Type.Num,compositeRule:!0},y),x()})}function m(y){i.code((0,e._)`${y}++`),d===void 0?i.if((0,e._)`${y} >= ${u}`,()=>i.assign(w,!0).break()):(i.if((0,e._)`${y} > ${d}`,()=>i.assign(w,!1).break()),u===1?i.assign(w,!0):i.if((0,e._)`${y} >= ${u}`,()=>i.assign(w,!0)))}}};return Os.default=n,Os}var Fu={},ug;function $D(){return ug||(ug=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=be(),r=Oe(),n=Sr();e.error={message:({params:{property:c,depsCount:l,deps:u}})=>{const d=l===1?"property":"properties";return(0,t.str)`must have ${d} ${u} when property ${c} is present`},params:({params:{property:c,depsCount:l,deps:u,missingProperty:d}})=>(0,t._)`{property: ${c},
    missingProperty: ${d},
    depsCount: ${l},
    deps: ${u}}`};const a={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(c){const[l,u]=i(c);o(c,l),s(c,u)}};function i({schema:c}){const l={},u={};for(const d in c){if(d==="__proto__")continue;const h=Array.isArray(c[d])?l:u;h[d]=c[d]}return[l,u]}function o(c,l=c.schema){const{gen:u,data:d,it:h}=c;if(Object.keys(l).length===0)return;const p=u.let("missing");for(const v in l){const w=l[v];if(w.length===0)continue;const f=(0,n.propertyInData)(u,d,v,h.opts.ownProperties);c.setParams({property:v,depsCount:w.length,deps:w.join(", ")}),h.allErrors?u.if(f,()=>{for(const b of w)(0,n.checkReportMissingProp)(c,b)}):(u.if((0,t._)`${f} && (${(0,n.checkMissingProp)(c,w,p)})`),(0,n.reportMissingProp)(c,p),u.else())}}e.validatePropertyDeps=o;function s(c,l=c.schema){const{gen:u,data:d,keyword:h,it:p}=c,v=u.name("valid");for(const w in l)(0,r.alwaysValidSchema)(p,l[w])||(u.if((0,n.propertyInData)(u,d,w,p.opts.ownProperties),()=>{const f=c.subschema({keyword:h,schemaProp:w},v);c.mergeValidEvaluated(f,v)},()=>u.var(v,!0)),c.ok(v))}e.validateSchemaDeps=s,e.default=a})(Fu)),Fu}var js={},dg;function kD(){if(dg)return js;dg=1,Object.defineProperty(js,"__esModule",{value:!0});const e=be(),t=Oe(),n={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:a})=>(0,e._)`{propertyName: ${a.propertyName}}`},code(a){const{gen:i,schema:o,data:s,it:c}=a;if((0,t.alwaysValidSchema)(c,o))return;const l=i.name("valid");i.forIn("key",s,u=>{a.setParams({propertyName:u}),a.subschema({keyword:"propertyNames",data:u,dataTypes:["string"],propertyName:u,compositeRule:!0},l),i.if((0,e.not)(l),()=>{a.error(!0),c.allErrors||i.break()})}),a.ok(l)}};return js.default=n,js}var Ns={},fg;function HS(){if(fg)return Ns;fg=1,Object.defineProperty(Ns,"__esModule",{value:!0});const e=Sr(),t=be(),r=Tn(),n=Oe(),i={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:o})=>(0,t._)`{additionalProperty: ${o.additionalProperty}}`},code(o){const{gen:s,schema:c,parentSchema:l,data:u,errsCount:d,it:h}=o;if(!d)throw new Error("ajv implementation error");const{allErrors:p,opts:v}=h;if(h.props=!0,v.removeAdditional!=="all"&&(0,n.alwaysValidSchema)(h,c))return;const w=(0,e.allSchemaProperties)(l.properties),f=(0,e.allSchemaProperties)(l.patternProperties);b(),o.ok((0,t._)`${d} === ${r.default.errors}`);function b(){s.forIn("key",u,_=>{!w.length&&!f.length?x(_):s.if(m(_),()=>x(_))})}function m(_){let S;if(w.length>8){const E=(0,n.schemaRefOrVal)(h,l.properties,"properties");S=(0,e.isOwnProperty)(s,E,_)}else w.length?S=(0,t.or)(...w.map(E=>(0,t._)`${_} === ${E}`)):S=t.nil;return f.length&&(S=(0,t.or)(S,...f.map(E=>(0,t._)`${(0,e.usePattern)(o,E)}.test(${_})`))),(0,t.not)(S)}function y(_){s.code((0,t._)`delete ${u}[${_}]`)}function x(_){if(v.removeAdditional==="all"||v.removeAdditional&&c===!1){y(_);return}if(c===!1){o.setParams({additionalProperty:_}),o.error(),p||s.break();return}if(typeof c=="object"&&!(0,n.alwaysValidSchema)(h,c)){const S=s.name("valid");v.removeAdditional==="failing"?(g(_,S,!1),s.if((0,t.not)(S),()=>{o.reset(),y(_)})):(g(_,S),p||s.if((0,t.not)(S),()=>s.break()))}}function g(_,S,E){const I={keyword:"additionalProperties",dataProp:_,dataPropType:n.Type.Str};E===!1&&Object.assign(I,{compositeRule:!0,createErrors:!1,allErrors:!1}),o.subschema(I,S)}}};return Ns.default=i,Ns}var Ts={},hg;function ED(){if(hg)return Ts;hg=1,Object.defineProperty(Ts,"__esModule",{value:!0});const e=jl(),t=Sr(),r=Oe(),n=HS(),a={keyword:"properties",type:"object",schemaType:"object",code(i){const{gen:o,schema:s,parentSchema:c,data:l,it:u}=i;u.opts.removeAdditional==="all"&&c.additionalProperties===void 0&&n.default.code(new e.KeywordCxt(u,n.default,"additionalProperties"));const d=(0,t.allSchemaProperties)(s);for(const f of d)u.definedProperties.add(f);u.opts.unevaluated&&d.length&&u.props!==!0&&(u.props=r.mergeEvaluated.props(o,(0,r.toHash)(d),u.props));const h=d.filter(f=>!(0,r.alwaysValidSchema)(u,s[f]));if(h.length===0)return;const p=o.name("valid");for(const f of h)v(f)?w(f):(o.if((0,t.propertyInData)(o,l,f,u.opts.ownProperties)),w(f),u.allErrors||o.else().var(p,!0),o.endIf()),i.it.definedProperties.add(f),i.ok(p);function v(f){return u.opts.useDefaults&&!u.compositeRule&&s[f].default!==void 0}function w(f){i.subschema({keyword:"properties",schemaProp:f,dataProp:f},p)}}};return Ts.default=a,Ts}var Cs={},pg;function OD(){if(pg)return Cs;pg=1,Object.defineProperty(Cs,"__esModule",{value:!0});const e=Sr(),t=be(),r=Oe(),n=Oe(),a={keyword:"patternProperties",type:"object",schemaType:"object",code(i){const{gen:o,schema:s,data:c,parentSchema:l,it:u}=i,{opts:d}=u,h=(0,e.allSchemaProperties)(s),p=h.filter(x=>(0,r.alwaysValidSchema)(u,s[x]));if(h.length===0||p.length===h.length&&(!u.opts.unevaluated||u.props===!0))return;const v=d.strictSchema&&!d.allowMatchingProperties&&l.properties,w=o.name("valid");u.props!==!0&&!(u.props instanceof t.Name)&&(u.props=(0,n.evaluatedPropsToName)(o,u.props));const{props:f}=u;b();function b(){for(const x of h)v&&m(x),u.allErrors?y(x):(o.var(w,!0),y(x),o.if(w))}function m(x){for(const g in v)new RegExp(x).test(g)&&(0,r.checkStrictMode)(u,`property ${g} matches pattern ${x} (use allowMatchingProperties)`)}function y(x){o.forIn("key",c,g=>{o.if((0,t._)`${(0,e.usePattern)(i,x)}.test(${g})`,()=>{const _=p.includes(x);_||i.subschema({keyword:"patternProperties",schemaProp:x,dataProp:g,dataPropType:n.Type.Str},w),u.opts.unevaluated&&f!==!0?o.assign((0,t._)`${f}[${g}]`,!0):!_&&!u.allErrors&&o.if((0,t.not)(w),()=>o.break())})})}}};return Cs.default=a,Cs}var As={},mg;function jD(){if(mg)return As;mg=1,Object.defineProperty(As,"__esModule",{value:!0});const e=Oe(),t={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(r){const{gen:n,schema:a,it:i}=r;if((0,e.alwaysValidSchema)(i,a)){r.fail();return}const o=n.name("valid");r.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),r.failResult(o,()=>r.reset(),()=>r.error())},error:{message:"must NOT be valid"}};return As.default=t,As}var Is={},vg;function ND(){if(vg)return Is;vg=1,Object.defineProperty(Is,"__esModule",{value:!0});const t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Sr().validateUnion,error:{message:"must match a schema in anyOf"}};return Is.default=t,Is}var Rs={},yg;function TD(){if(yg)return Rs;yg=1,Object.defineProperty(Rs,"__esModule",{value:!0});const e=be(),t=Oe(),n={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:a})=>(0,e._)`{passingSchemas: ${a.passing}}`},code(a){const{gen:i,schema:o,parentSchema:s,it:c}=a;if(!Array.isArray(o))throw new Error("ajv implementation error");if(c.opts.discriminator&&s.discriminator)return;const l=o,u=i.let("valid",!1),d=i.let("passing",null),h=i.name("_valid");a.setParams({passing:d}),i.block(p),a.result(u,()=>a.reset(),()=>a.error(!0));function p(){l.forEach((v,w)=>{let f;(0,t.alwaysValidSchema)(c,v)?i.var(h,!0):f=a.subschema({keyword:"oneOf",schemaProp:w,compositeRule:!0},h),w>0&&i.if((0,e._)`${h} && ${u}`).assign(u,!1).assign(d,(0,e._)`[${d}, ${w}]`).else(),i.if(h,()=>{i.assign(u,!0),i.assign(d,w),f&&a.mergeEvaluated(f,e.Name)})})}}};return Rs.default=n,Rs}var Ms={},gg;function CD(){if(gg)return Ms;gg=1,Object.defineProperty(Ms,"__esModule",{value:!0});const e=Oe(),t={keyword:"allOf",schemaType:"array",code(r){const{gen:n,schema:a,it:i}=r;if(!Array.isArray(a))throw new Error("ajv implementation error");const o=n.name("valid");a.forEach((s,c)=>{if((0,e.alwaysValidSchema)(i,s))return;const l=r.subschema({keyword:"allOf",schemaProp:c},o);r.ok(o),r.mergeEvaluated(l)})}};return Ms.default=t,Ms}var Ds={},bg;function AD(){if(bg)return Ds;bg=1,Object.defineProperty(Ds,"__esModule",{value:!0});const e=be(),t=Oe(),n={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:i})=>(0,e.str)`must match "${i.ifClause}" schema`,params:({params:i})=>(0,e._)`{failingKeyword: ${i.ifClause}}`},code(i){const{gen:o,parentSchema:s,it:c}=i;s.then===void 0&&s.else===void 0&&(0,t.checkStrictMode)(c,'"if" without "then" and "else" is ignored');const l=a(c,"then"),u=a(c,"else");if(!l&&!u)return;const d=o.let("valid",!0),h=o.name("_valid");if(p(),i.reset(),l&&u){const w=o.let("ifClause");i.setParams({ifClause:w}),o.if(h,v("then",w),v("else",w))}else l?o.if(h,v("then")):o.if((0,e.not)(h),v("else"));i.pass(d,()=>i.error(!0));function p(){const w=i.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},h);i.mergeEvaluated(w)}function v(w,f){return()=>{const b=i.subschema({keyword:w},h);o.assign(d,h),i.mergeValidEvaluated(b,d),f?o.assign(f,(0,e._)`${w}`):i.setParams({ifClause:w})}}}};function a(i,o){const s=i.schema[o];return s!==void 0&&!(0,t.alwaysValidSchema)(i,s)}return Ds.default=n,Ds}var zs={},wg;function ID(){if(wg)return zs;wg=1,Object.defineProperty(zs,"__esModule",{value:!0});const e=Oe(),t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:r,parentSchema:n,it:a}){n.if===void 0&&(0,e.checkStrictMode)(a,`"${r}" without "if" is ignored`)}};return zs.default=t,zs}var _g;function RD(){if(_g)return $s;_g=1,Object.defineProperty($s,"__esModule",{value:!0});const e=KS(),t=xD(),r=WS(),n=SD(),a=PD(),i=$D(),o=kD(),s=HS(),c=ED(),l=OD(),u=jD(),d=ND(),h=TD(),p=CD(),v=AD(),w=ID();function f(b=!1){const m=[u.default,d.default,h.default,p.default,v.default,w.default,o.default,s.default,i.default,c.default,l.default];return b?m.push(t.default,n.default):m.push(e.default,r.default),m.push(a.default),m}return $s.default=f,$s}var Ls={},qs={},xg;function MD(){if(xg)return qs;xg=1,Object.defineProperty(qs,"__esModule",{value:!0});const e=be(),r={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:n})=>(0,e.str)`must match format "${n}"`,params:({schemaCode:n})=>(0,e._)`{format: ${n}}`},code(n,a){const{gen:i,data:o,$data:s,schema:c,schemaCode:l,it:u}=n,{opts:d,errSchemaPath:h,schemaEnv:p,self:v}=u;if(!d.validateFormats)return;s?w():f();function w(){const b=i.scopeValue("formats",{ref:v.formats,code:d.code.formats}),m=i.const("fDef",(0,e._)`${b}[${l}]`),y=i.let("fType"),x=i.let("format");i.if((0,e._)`typeof ${m} == "object" && !(${m} instanceof RegExp)`,()=>i.assign(y,(0,e._)`${m}.type || "string"`).assign(x,(0,e._)`${m}.validate`),()=>i.assign(y,(0,e._)`"string"`).assign(x,m)),n.fail$data((0,e.or)(g(),_()));function g(){return d.strictSchema===!1?e.nil:(0,e._)`${l} && !${x}`}function _(){const S=p.$async?(0,e._)`(${m}.async ? await ${x}(${o}) : ${x}(${o}))`:(0,e._)`${x}(${o})`,E=(0,e._)`(typeof ${x} == "function" ? ${S} : ${x}.test(${o}))`;return(0,e._)`${x} && ${x} !== true && ${y} === ${a} && !${E}`}}function f(){const b=v.formats[c];if(!b){g();return}if(b===!0)return;const[m,y,x]=_(b);m===a&&n.pass(S());function g(){if(d.strictSchema===!1){v.logger.warn(E());return}throw new Error(E());function E(){return`unknown format "${c}" ignored in schema at path "${h}"`}}function _(E){const I=E instanceof RegExp?(0,e.regexpCode)(E):d.code.formats?(0,e._)`${d.code.formats}${(0,e.getProperty)(c)}`:void 0,L=i.scopeValue("formats",{key:c,ref:E,code:I});return typeof E=="object"&&!(E instanceof RegExp)?[E.type||"string",E.validate,(0,e._)`${L}.validate`]:["string",E,L]}function S(){if(typeof b=="object"&&!(b instanceof RegExp)&&b.async){if(!p.$async)throw new Error("async format in sync schema");return(0,e._)`await ${x}(${o})`}return typeof y=="function"?(0,e._)`${x}(${o})`:(0,e._)`${x}.test(${o})`}}}};return qs.default=r,qs}var Sg;function DD(){if(Sg)return Ls;Sg=1,Object.defineProperty(Ls,"__esModule",{value:!0});const t=[MD().default];return Ls.default=t,Ls}var Un={},Pg;function zD(){return Pg||(Pg=1,Object.defineProperty(Un,"__esModule",{value:!0}),Un.contentVocabulary=Un.metadataVocabulary=void 0,Un.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],Un.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),Un}var $g;function LD(){if($g)return ls;$g=1,Object.defineProperty(ls,"__esModule",{value:!0});const e=lD(),t=_D(),r=RD(),n=DD(),a=zD(),i=[e.default,t.default,(0,r.default)(),n.default,a.metadataVocabulary,a.contentVocabulary];return ls.default=i,ls}var Fs={},ci={},kg;function qD(){if(kg)return ci;kg=1,Object.defineProperty(ci,"__esModule",{value:!0}),ci.DiscrError=void 0;var e;return(function(t){t.Tag="tag",t.Mapping="mapping"})(e||(ci.DiscrError=e={})),ci}var Eg;function FD(){if(Eg)return Fs;Eg=1,Object.defineProperty(Fs,"__esModule",{value:!0});const e=be(),t=qD(),r=Jh(),n=Nl(),a=Oe(),o={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:s,tagName:c}})=>s===t.DiscrError.Tag?`tag "${c}" must be string`:`value of tag "${c}" must be in oneOf`,params:({params:{discrError:s,tag:c,tagName:l}})=>(0,e._)`{error: ${s}, tag: ${l}, tagValue: ${c}}`},code(s){const{gen:c,data:l,schema:u,parentSchema:d,it:h}=s,{oneOf:p}=d;if(!h.opts.discriminator)throw new Error("discriminator: requires discriminator option");const v=u.propertyName;if(typeof v!="string")throw new Error("discriminator: requires propertyName");if(u.mapping)throw new Error("discriminator: mapping is not supported");if(!p)throw new Error("discriminator: requires oneOf keyword");const w=c.let("valid",!1),f=c.const("tag",(0,e._)`${l}${(0,e.getProperty)(v)}`);c.if((0,e._)`typeof ${f} == "string"`,()=>b(),()=>s.error(!1,{discrError:t.DiscrError.Tag,tag:f,tagName:v})),s.ok(w);function b(){const x=y();c.if(!1);for(const g in x)c.elseIf((0,e._)`${f} === ${g}`),c.assign(w,m(x[g]));c.else(),s.error(!1,{discrError:t.DiscrError.Mapping,tag:f,tagName:v}),c.endIf()}function m(x){const g=c.name("valid"),_=s.subschema({keyword:"oneOf",schemaProp:x},g);return s.mergeEvaluated(_,e.Name),g}function y(){var x;const g={},_=E(d);let S=!0;for(let R=0;R<p.length;R++){let C=p[R];if(C?.$ref&&!(0,a.schemaHasRulesButRef)(C,h.self.RULES)){const B=C.$ref;if(C=r.resolveRef.call(h.self,h.schemaEnv.root,h.baseId,B),C instanceof r.SchemaEnv&&(C=C.schema),C===void 0)throw new n.default(h.opts.uriResolver,h.baseId,B)}const U=(x=C?.properties)===null||x===void 0?void 0:x[v];if(typeof U!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${v}"`);S=S&&(_||E(C)),I(U,R)}if(!S)throw new Error(`discriminator: "${v}" must be required`);return g;function E({required:R}){return Array.isArray(R)&&R.includes(v)}function I(R,C){if(R.const)L(R.const,C);else if(R.enum)for(const U of R.enum)L(U,C);else throw new Error(`discriminator: "properties/${v}" must have "const" or "enum"`)}function L(R,C){if(typeof R!="string"||R in g)throw new Error(`discriminator: "${v}" values must be unique strings`);g[R]=C}}}};return Fs.default=o,Fs}const UD="http://json-schema.org/draft-07/schema#",VD="http://json-schema.org/draft-07/schema#",BD="Core schema meta-schema",KD={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},WD=["object","boolean"],HD={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},ZD={$schema:UD,$id:VD,title:BD,definitions:KD,type:WD,properties:HD,default:!0};var Og;function GD(){return Og||(Og=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=oD(),n=LD(),a=FD(),i=ZD,o=["/properties"],s="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(v=>this.addVocabulary(v)),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const v=this.opts.$data?this.$dataMetaSchema(i,o):i;this.addMetaSchema(v,s,!1),this.refs["http://json-schema.org/schema"]=s}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(s)?s:void 0)}}t.Ajv=c,e.exports=t=c,e.exports.Ajv=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var l=jl();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var u=be();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}});var d=Yh();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return d.default}});var h=Nl();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return h.default}})})(as,as.exports)),as.exports}var jg;function YD(){return jg||(jg=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=GD(),r=be(),n=r.operators,a={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},i={message:({keyword:s,schemaCode:c})=>(0,r.str)`should be ${a[s].okStr} ${c}`,params:({keyword:s,schemaCode:c})=>(0,r._)`{comparison: ${a[s].okStr}, limit: ${c}}`};e.formatLimitDefinition={keyword:Object.keys(a),type:"string",schemaType:"string",$data:!0,error:i,code(s){const{gen:c,data:l,schemaCode:u,keyword:d,it:h}=s,{opts:p,self:v}=h;if(!p.validateFormats)return;const w=new t.KeywordCxt(h,v.RULES.all.format.definition,"format");w.$data?f():b();function f(){const y=c.scopeValue("formats",{ref:v.formats,code:p.code.formats}),x=c.const("fmt",(0,r._)`${y}[${w.schemaCode}]`);s.fail$data((0,r.or)((0,r._)`typeof ${x} != "object"`,(0,r._)`${x} instanceof RegExp`,(0,r._)`typeof ${x}.compare != "function"`,m(x)))}function b(){const y=w.schema,x=v.formats[y];if(!x||x===!0)return;if(typeof x!="object"||x instanceof RegExp||typeof x.compare!="function")throw new Error(`"${d}": format "${y}" does not define "compare" function`);const g=c.scopeValue("formats",{key:y,ref:x,code:p.code.formats?(0,r._)`${p.code.formats}${(0,r.getProperty)(y)}`:void 0});s.fail$data(m(g))}function m(y){return(0,r._)`${y}.compare(${l}, ${u}) ${a[d].fail} 0`}},dependencies:["format"]};const o=s=>(s.addKeyword(e.formatLimitDefinition),s);e.default=o})(Iu)),Iu}var Ng;function JD(){return Ng||(Ng=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=WM(),n=YD(),a=be(),i=new a.Name("fullFormats"),o=new a.Name("fastFormats"),s=(l,u={keywords:!0})=>{if(Array.isArray(u))return c(l,u,r.fullFormats,i),l;const[d,h]=u.mode==="fast"?[r.fastFormats,o]:[r.fullFormats,i],p=u.formats||r.formatNames;return c(l,p,d,h),u.keywords&&(0,n.default)(l),l};s.get=(l,u="full")=>{const h=(u==="fast"?r.fastFormats:r.fullFormats)[l];if(!h)throw new Error(`Unknown format "${l}"`);return h};function c(l,u,d,h){var p,v;(p=(v=l.opts.code).formats)!==null&&p!==void 0||(v.formats=(0,a._)`require("ajv-formats/dist/formats").${h}`);for(const w of u)l.addFormat(w,d[w])}e.exports=t=s,Object.defineProperty(t,"__esModule",{value:!0}),t.default=s})(ns,ns.exports)),ns.exports}var XD=JD();const QD=an(XD);function e2(){const e=new KM({strict:!1,validateFormats:!0,validateSchema:!1,allErrors:!0});return QD(e),e}class t2{constructor(t){this._ajv=t??e2()}getValidator(t){const r="$id"in t&&typeof t.$id=="string"?this._ajv.getSchema(t.$id)??this._ajv.compile(t):this._ajv.compile(t);return n=>r(n)?{valid:!0,data:n,errorMessage:void 0}:{valid:!1,data:void 0,errorMessage:this._ajv.errorsText(r.errors)}}}class r2{constructor(t){this._client=t}async*callToolStream(t,r=_l,n){const a=this._client,i={...n,task:n?.task??(a.isToolTask(t.name)?{}:void 0)},o=a.requestStream({method:"tools/call",params:t},r,i),s=a.getToolOutputValidator(t.name);for await(const c of o){if(c.type==="result"&&s){const l=c.result;if(!l.structuredContent&&!l.isError){yield{type:"error",error:new fe(me.InvalidRequest,`Tool ${t.name} has an output schema but did not return structured content`)};return}if(l.structuredContent)try{const u=s(l.structuredContent);if(!u.valid){yield{type:"error",error:new fe(me.InvalidParams,`Structured content does not match the tool's output schema: ${u.errorMessage}`)};return}}catch(u){if(u instanceof fe){yield{type:"error",error:u};return}yield{type:"error",error:new fe(me.InvalidParams,`Failed to validate structured content: ${u instanceof Error?u.message:String(u)}`)};return}}yield c}}async getTask(t,r){return this._client.getTask({taskId:t},r)}async getTaskResult(t,r,n){return this._client.getTaskResult({taskId:t},r,n)}async listTasks(t,r){return this._client.listTasks(t?{cursor:t}:void 0,r)}async cancelTask(t,r){return this._client.cancelTask({taskId:t},r)}requestStream(t,r,n){return this._client.requestStream(t,r,n)}}function n2(e,t,r){if(!e)throw new Error(`${r} does not support task creation (required for ${t})`);switch(t){case"tools/call":if(!e.tools?.call)throw new Error(`${r} does not support task creation for tools/call (required for ${t})`);break}}function a2(e,t,r){if(!e)throw new Error(`${r} does not support task creation (required for ${t})`);switch(t){case"sampling/createMessage":if(!e.sampling?.createMessage)throw new Error(`${r} does not support task creation for sampling/createMessage (required for ${t})`);break;case"elicitation/create":if(!e.elicitation?.create)throw new Error(`${r} does not support task creation for elicitation/create (required for ${t})`);break}}function ic(e,t){if(!(!e||t===null||typeof t!="object")){if(e.type==="object"&&e.properties&&typeof e.properties=="object"){const r=t,n=e.properties;for(const a of Object.keys(n)){const i=n[a];r[a]===void 0&&Object.prototype.hasOwnProperty.call(i,"default")&&(r[a]=i.default),r[a]!==void 0&&ic(i,r[a])}}if(Array.isArray(e.anyOf))for(const r of e.anyOf)typeof r!="boolean"&&ic(r,t);if(Array.isArray(e.oneOf))for(const r of e.oneOf)typeof r!="boolean"&&ic(r,t)}}function i2(e){if(!e)return{supportsFormMode:!1,supportsUrlMode:!1};const t=e.form!==void 0,r=e.url!==void 0;return{supportsFormMode:t||!t&&!r,supportsUrlMode:r}}class o2 extends zR{constructor(t,r){super(r),this._clientInfo=t,this._cachedToolOutputValidators=new Map,this._cachedKnownTaskTools=new Set,this._cachedRequiredTaskTools=new Set,this._listChangedDebounceTimers=new Map,this._capabilities=r?.capabilities??{},this._jsonSchemaValidator=r?.jsonSchemaValidator??new t2,r?.listChanged&&(this._pendingListChangedConfig=r.listChanged)}_setupListChangedHandlers(t){t.tools&&this._serverCapabilities?.tools?.listChanged&&this._setupListChangedHandler("tools",OS,t.tools,async()=>(await this.listTools()).tools),t.prompts&&this._serverCapabilities?.prompts?.listChanged&&this._setupListChangedHandler("prompts",$S,t.prompts,async()=>(await this.listPrompts()).prompts),t.resources&&this._serverCapabilities?.resources?.listChanged&&this._setupListChangedHandler("resources",xS,t.resources,async()=>(await this.listResources()).resources)}get experimental(){return this._experimental||(this._experimental={tasks:new r2(this)}),this._experimental}registerCapabilities(t){if(this.transport)throw new Error("Cannot register capabilities after connecting to transport");this._capabilities=LR(this._capabilities,t)}setRequestHandler(t,r){const a=Gx(t)?.method;if(!a)throw new Error("Schema is missing a method literal");let i;if(gl(a)){const s=a;i=s._zod?.def?.value??s.value}else{const s=a;i=s._def?.value??s.value}if(typeof i!="string")throw new Error("Schema method literal must be a string");const o=i;if(o==="elicitation/create"){const s=async(c,l)=>{const u=gn(AS,c);if(!u.success){const m=u.error instanceof Error?u.error.message:String(u.error);throw new fe(me.InvalidParams,`Invalid elicitation request: ${m}`)}const{params:d}=u.data;d.mode=d.mode??"form";const{supportsFormMode:h,supportsUrlMode:p}=i2(this._capabilities.elicitation);if(d.mode==="form"&&!h)throw new fe(me.InvalidParams,"Client does not support form-mode elicitation requests");if(d.mode==="url"&&!p)throw new fe(me.InvalidParams,"Client does not support URL-mode elicitation requests");const v=await Promise.resolve(r(c,l));if(d.task){const m=gn(ki,v);if(!m.success){const y=m.error instanceof Error?m.error.message:String(m.error);throw new fe(me.InvalidParams,`Invalid task creation result: ${y}`)}return m.data}const w=gn(IS,v);if(!w.success){const m=w.error instanceof Error?w.error.message:String(w.error);throw new fe(me.InvalidParams,`Invalid elicitation result: ${m}`)}const f=w.data,b=d.mode==="form"?d.requestedSchema:void 0;if(d.mode==="form"&&f.action==="accept"&&f.content&&b&&this._capabilities.elicitation?.form?.applyDefaults)try{ic(b,f.content)}catch{}return f};return super.setRequestHandler(t,s)}if(o==="sampling/createMessage"){const s=async(c,l)=>{const u=gn(NS,c);if(!u.success){const f=u.error instanceof Error?u.error.message:String(u.error);throw new fe(me.InvalidParams,`Invalid sampling request: ${f}`)}const{params:d}=u.data,h=await Promise.resolve(r(c,l));if(d.task){const f=gn(ki,h);if(!f.success){const b=f.error instanceof Error?f.error.message:String(f.error);throw new fe(me.InvalidParams,`Invalid task creation result: ${b}`)}return f.data}const v=d.tools||d.toolChoice?CS:TS,w=gn(v,h);if(!w.success){const f=w.error instanceof Error?w.error.message:String(w.error);throw new fe(me.InvalidParams,`Invalid sampling result: ${f}`)}return w.data};return super.setRequestHandler(t,s)}return super.setRequestHandler(t,r)}assertCapability(t,r){if(!this._serverCapabilities?.[t])throw new Error(`Server does not support ${t} (required for ${r})`)}async connect(t,r){if(await super.connect(t),t.sessionId===void 0)try{const n=await this.request({method:"initialize",params:{protocolVersion:cS,capabilities:this._capabilities,clientInfo:this._clientInfo}},pS,r);if(n===void 0)throw new Error(`Server sent invalid initialize result: ${n}`);if(!iI.includes(n.protocolVersion))throw new Error(`Server's protocol version is not supported: ${n.protocolVersion}`);this._serverCapabilities=n.capabilities,this._serverVersion=n.serverInfo,t.setProtocolVersion&&t.setProtocolVersion(n.protocolVersion),this._instructions=n.instructions,await this.notification({method:"notifications/initialized"}),this._pendingListChangedConfig&&(this._setupListChangedHandlers(this._pendingListChangedConfig),this._pendingListChangedConfig=void 0)}catch(n){throw this.close(),n}}getServerCapabilities(){return this._serverCapabilities}getServerVersion(){return this._serverVersion}getInstructions(){return this._instructions}assertCapabilityForMethod(t){switch(t){case"logging/setLevel":if(!this._serverCapabilities?.logging)throw new Error(`Server does not support logging (required for ${t})`);break;case"prompts/get":case"prompts/list":if(!this._serverCapabilities?.prompts)throw new Error(`Server does not support prompts (required for ${t})`);break;case"resources/list":case"resources/templates/list":case"resources/read":case"resources/subscribe":case"resources/unsubscribe":if(!this._serverCapabilities?.resources)throw new Error(`Server does not support resources (required for ${t})`);if(t==="resources/subscribe"&&!this._serverCapabilities.resources.subscribe)throw new Error(`Server does not support resource subscriptions (required for ${t})`);break;case"tools/call":case"tools/list":if(!this._serverCapabilities?.tools)throw new Error(`Server does not support tools (required for ${t})`);break;case"completion/complete":if(!this._serverCapabilities?.completions)throw new Error(`Server does not support completions (required for ${t})`);break}}assertNotificationCapability(t){switch(t){case"notifications/roots/list_changed":if(!this._capabilities.roots?.listChanged)throw new Error(`Client does not support roots list changed notifications (required for ${t})`);break}}assertRequestHandlerCapability(t){if(this._capabilities)switch(t){case"sampling/createMessage":if(!this._capabilities.sampling)throw new Error(`Client does not support sampling capability (required for ${t})`);break;case"elicitation/create":if(!this._capabilities.elicitation)throw new Error(`Client does not support elicitation capability (required for ${t})`);break;case"roots/list":if(!this._capabilities.roots)throw new Error(`Client does not support roots capability (required for ${t})`);break;case"tasks/get":case"tasks/list":case"tasks/result":case"tasks/cancel":if(!this._capabilities.tasks)throw new Error(`Client does not support tasks capability (required for ${t})`);break}}assertTaskCapability(t){n2(this._serverCapabilities?.tasks?.requests,t,"Server")}assertTaskHandlerCapability(t){this._capabilities&&a2(this._capabilities.tasks?.requests,t,"Client")}async ping(t){return this.request({method:"ping"},$a,t)}async complete(t,r){return this.request({method:"completion/complete",params:t},RS,r)}async setLoggingLevel(t,r){return this.request({method:"logging/setLevel",params:{level:t}},$a,r)}async getPrompt(t,r){return this.request({method:"prompts/get",params:t},PS,r)}async listPrompts(t,r){return this.request({method:"prompts/list",params:t},SS,r)}async listResources(t,r){return this.request({method:"resources/list",params:t},bS,r)}async listResourceTemplates(t,r){return this.request({method:"resources/templates/list",params:t},wS,r)}async readResource(t,r){return this.request({method:"resources/read",params:t},_S,r)}async subscribeResource(t,r){return this.request({method:"resources/subscribe",params:t},$a,r)}async unsubscribeResource(t,r){return this.request({method:"resources/unsubscribe",params:t},$a,r)}async callTool(t,r=_l,n){if(this.isToolTaskRequired(t.name))throw new fe(me.InvalidRequest,`Tool "${t.name}" requires task-based execution. Use client.experimental.tasks.callToolStream() instead.`);const a=await this.request({method:"tools/call",params:t},r,n),i=this.getToolOutputValidator(t.name);if(i){if(!a.structuredContent&&!a.isError)throw new fe(me.InvalidRequest,`Tool ${t.name} has an output schema but did not return structured content`);if(a.structuredContent)try{const o=i(a.structuredContent);if(!o.valid)throw new fe(me.InvalidParams,`Structured content does not match the tool's output schema: ${o.errorMessage}`)}catch(o){throw o instanceof fe?o:new fe(me.InvalidParams,`Failed to validate structured content: ${o instanceof Error?o.message:String(o)}`)}}return a}isToolTask(t){return this._serverCapabilities?.tasks?.requests?.tools?.call?this._cachedKnownTaskTools.has(t):!1}isToolTaskRequired(t){return this._cachedRequiredTaskTools.has(t)}cacheToolMetadata(t){this._cachedToolOutputValidators.clear(),this._cachedKnownTaskTools.clear(),this._cachedRequiredTaskTools.clear();for(const r of t){if(r.outputSchema){const a=this._jsonSchemaValidator.getValidator(r.outputSchema);this._cachedToolOutputValidators.set(r.name,a)}const n=r.execution?.taskSupport;(n==="required"||n==="optional")&&this._cachedKnownTaskTools.add(r.name),n==="required"&&this._cachedRequiredTaskTools.add(r.name)}}getToolOutputValidator(t){return this._cachedToolOutputValidators.get(t)}async listTools(t,r){const n=await this.request({method:"tools/list",params:t},ES,r);return this.cacheToolMetadata(n.tools),n}_setupListChangedHandler(t,r,n,a){const i=QI.safeParse(n);if(!i.success)throw new Error(`Invalid ${t} listChanged options: ${i.error.message}`);if(typeof n.onChanged!="function")throw new Error(`Invalid ${t} listChanged options: onChanged must be a function`);const{autoRefresh:o,debounceMs:s}=i.data,{onChanged:c}=n,l=async()=>{if(!o){c(null,null);return}try{const d=await a();c(null,d)}catch(d){const h=d instanceof Error?d:new Error(String(d));c(h,null)}},u=()=>{if(s){const d=this._listChangedDebounceTimers.get(t);d&&clearTimeout(d);const h=setTimeout(l,s);this._listChangedDebounceTimers.set(t,h)}else l()};this.setNotificationHandler(r,u)}async sendRootsListChanged(){return this.notification({method:"notifications/roots/list_changed"})}}class s2{_eventSource=null;_endpoint=null;_abortController=null;_url;onclose;onerror;onmessage;constructor(t){this._url=new URL(t.toString())}async start(){if(this._eventSource)throw new Error("BrowserSSETransport already started!");return new Promise((t,r)=>{this._eventSource=new EventSource(this._url.href),this._abortController=new AbortController,this._eventSource.onerror=n=>{const a=new Error(`EventSource error: ${JSON.stringify(n)}`);r(a),this.onerror?.(a)},this._eventSource.onopen=()=>{console.log("[MCP] SSE connection opened. Waiting for endpoint...")},this._eventSource.addEventListener("endpoint",n=>{const a=n;console.log("[MCP] Received endpoint event:",a.data);try{this._endpoint=new URL(a.data,this._url),console.log("[MCP] Transport endpoint set to:",this._endpoint.toString()),t()}catch(i){console.error("[MCP] Error setting endpoint:",i),r(i),this.onerror?.(i instanceof Error?i:new Error(String(i))),this.close()}}),this._eventSource.onmessage=n=>{try{const a=JSON.parse(n.data);this.onmessage?.(a)}catch(a){console.error("[MCP] JSON Parse Error:",a),this.onerror?.(a instanceof Error?a:new Error(String(a)))}}})}async close(){this._abortController?.abort(),this._eventSource?.close(),this._eventSource=null,this.onclose?.()}async send(t){if(!this._endpoint)throw new Error("Not connected");try{const r=await fetch(this._endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),signal:this._abortController?.signal});if(!r.ok){const n=await r.text().catch(()=>null);throw new Error(`Error POSTing to endpoint (HTTP ${r.status}): ${n}`)}}catch(r){throw this.onerror?.(r instanceof Error?r:new Error(String(r))),r}}}class c2{client=null;transport=null;isConnected=!1;connectingPromise=null;constructor(){this.client=new o2({name:"FDC3-Copilot-Frontend",version:"1.0.0"},{capabilities:{},timeout:12e4})}async connect(){if(!this.isConnected)return this.connectingPromise?this.connectingPromise:(this.connectingPromise=(async()=>{try{if(this.transport){try{await this.transport.close()}catch(t){console.warn("Error closing previous transport:",t)}this.transport=null}this.transport=new s2(`${It}/mcp/sse`),this.transport.onclose=()=>{console.log("[MCP] Transport Closed"),this.isConnected=!1,this.transport&&(this.transport=null)},this.transport.onerror=t=>{if(t.name==="AbortError"||t.message.includes("aborted")){console.log("MCP Transport Aborted (Clean Close)");return}console.error("MCP Transport Error:",t),this.isConnected=!1,this.transport&&(this.transport.close().catch(r=>console.error("Error closing transport on error:",r)),this.transport=null)},await this.client?.connect(this.transport),this.isConnected=!0,console.log("MCP Client Connected")}catch(t){if(console.error("Failed to connect MCP Client:",t),this.isConnected=!1,this.transport){try{await this.transport.close()}catch(r){console.error("Error closing failed transport:",r)}this.transport=null}throw t}finally{this.connectingPromise=null}})(),this.connectingPromise)}async disconnect(){try{await this.client?.close()}catch(t){console.error("Error closing MCP Client:",t)}if(this.transport){try{await this.transport.close()}catch(t){console.error("Error closing MCP Transport:",t)}this.transport=null}this.isConnected=!1,console.log("MCP Client Disconnected")}async callTool(t,r={}){if(!this.isConnected)try{await this.connect()}catch(n){throw console.error("Failed to auto-connect for tool call:",n),n}try{return await this.client?.callTool({name:t,arguments:r})}catch(n){console.error(`MCP Tool Call Failed (${t}):`,n);const a=n instanceof Error?n.message:String(n);throw(a.includes("Connection closed")||a.includes("Not connected"))&&(console.warn("[MCP] Connection lost, resetting state..."),this.isConnected=!1,this.transport&&(this.transport.close().catch(()=>{}),this.transport=null)),n}}async listTools(){return this.isConnected||await this.connect(),await this.client?.listTools()}}const ZS=new c2,l2=()=>{const{orders:e,mcpMode:t}=Dt(),[r,n]=k.useState([]),[a]=k.useState(!0),[i,o]=k.useState("time"),[s,c]=k.useState("desc"),[l,u]=k.useState({time:140,id:80,side:50,sym:80,secType:70,type:50,qty:70,filled:70,remaining:70,px:80,avgPx:80,status:90,exchange:90,expiry:60,actions:100});k.useEffect(()=>{if(!a)return;let f=!0,b=null;const m=async()=>{try{let y;if(t){const g=await ZS.callTool("get_orders");g&&g.content&&g.content[0]&&g.content[0].text?y=JSON.parse(g.content[0].text):y=[]}else{const g=await fetch(`${It}/mcp/orders`);g.ok?y=await g.json():(console.warn("Failed to fetch orders via REST",g.status),y=[])}if(!f)return;let x=[];if(Array.isArray(y)?x=y:y&&y.orders&&(Array.isArray(y.orders)?x=y.orders:y.orders.orders&&Array.isArray(y.orders.orders)&&(x=y.orders.orders)),x.length>0){const g=S=>{if(!S)return new Date().toLocaleString();const E=new Date(S);if(!isNaN(E.getTime()))return E.toLocaleString();if(typeof S=="string"&&S.length===12&&!isNaN(Number(S))){const I=2e3+parseInt(S.substring(0,2)),L=parseInt(S.substring(2,4))-1,R=parseInt(S.substring(4,6)),C=parseInt(S.substring(6,8)),U=parseInt(S.substring(8,10)),B=parseInt(S.substring(10,12));return new Date(I,L,R,C,U,B).toLocaleString()}return String(S)},_=x.map(S=>({id:S.orderId||S.conid,time:g(S.lastExecutionTime_r||S.lastExecutionTime||S.time),side:S.side||(S.action==="BUY"?"BUY":"SELL"),symbol:S.ticker||S.symbol||"UNK",secType:S.secType||S.assetClass||"STK",type:S.orderType||"LMT",qty:S.totalSize||S.totalQuantity||S.quantity||0,filled:S.filledQuantity||S.filled||0,remaining:S.remainingQuantity||S.remaining||0,price:S.lmtPrice||S.price||0,avgPx:S.avgPrice||0,status:S.status||"Submitted",expiry:S.tif||"DAY",exchange:S.exchange||S.listingExchange||"",account:S.acct||S.account||"",commission:S.commission||0,settleDate:"T+2"}));n(_)}else n([])}catch(y){console.error("Failed to fetch IBKR orders",y)}finally{f&&(b=setTimeout(m,3e3))}};return m(),()=>{f=!1,b&&clearTimeout(b)}},[a,t]);const d=f=>{i===f?c(s==="asc"?"desc":"asc"):(o(f),c("asc"))},h=(f,b)=>{const m=b.pageX,y=l[f],x=_=>{const S=Math.max(40,y+(_.pageX-m));u(E=>({...E,[f]:S}))},g=()=>{document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",g)};document.addEventListener("mousemove",x),document.addEventListener("mouseup",g)},p=a?r:e,v=k.useMemo(()=>{const f=[...p];return i&&f.sort((b,m)=>{const y=b[i],x=m[i];return y===void 0||x===void 0?0:y<x?s==="asc"?-1:1:y>x?s==="asc"?1:-1:0}),f},[p,i,s]),w=(f,b,m,y="left")=>$.jsxs("th",{style:{width:l[b]},className:`p-2 border-b border-[var(--border-primary)] relative cursor-pointer hover:text-[var(--text-accent)] ${y==="right"?"text-right":y==="center"?"text-center":""}`,onClick:()=>d(m),children:[$.jsxs("div",{className:`flex items-center gap-1 ${y==="right"?"justify-end":y==="center"?"justify-center":"justify-start"}`,children:[f," ",i===m&&(s==="asc"?"▲":"▼")]}),$.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 z-20",onMouseDown:x=>{x.stopPropagation(),h(b,x)}})]});return $.jsx("div",{className:"h-full flex flex-col",children:$.jsx("div",{className:"flex-1 overflow-auto custom-scrollbar",children:$.jsxs("table",{className:"w-full text-left border-collapse text-xs table-fixed min-w-max",children:[$.jsx("thead",{children:$.jsxs("tr",{className:"bg-[var(--bg-tertiary)] text-[var(--text-secondary)] sticky top-0 z-10",children:[w("TIME","time","time"),w("ID","id","id"),w("SIDE","side","side"),w("SYMBOL","sym","symbol"),w("SEC TYPE","secType","secType"),w("TYPE","type","type"),w("QTY","qty","qty","right"),w("FILLED","filled","filled","right"),w("REMAIN","remaining","remaining","right"),w("LIMIT PX","px","price","right"),w("AVG PX","avgPx","avgPx","right"),w("STATUS","status","status"),w("EXCHANGE","exchange","exchange"),w("EXPIRY","expiry","expiry"),w("ACTIONS","actions","id","center")]})}),$.jsxs("tbody",{children:[v.length===0&&$.jsx("tr",{children:$.jsx("td",{colSpan:15,className:"p-4 text-center text-[var(--text-tertiary)] italic",children:a?"Loading IBKR Orders...":"No Active Orders"})}),v.map((f,b)=>$.jsxs("tr",{className:"border-b border-[var(--border-primary)] hover:bg-[var(--bg-tertiary)]",children:[$.jsx("td",{className:"p-2 text-[var(--text-secondary)] text-[10px] truncate",children:f.time}),$.jsx("td",{className:"p-2 text-[var(--text-secondary)] opacity-60 text-[10px] truncate",children:f.id}),$.jsx("td",{className:`p-2 font-bold ${f.side==="BUY"?"text-[var(--success-color)]":"text-[var(--danger-color)]"}`,children:f.side}),$.jsx("td",{className:"p-2 text-[var(--text-primary)] font-medium truncate",children:f.symbol}),$.jsx("td",{className:"p-2 text-[var(--text-secondary)] text-[10px] truncate",children:f.secType}),$.jsx("td",{className:"p-2 text-[var(--text-secondary)] font-mono text-[10px] truncate",children:f.type}),$.jsx("td",{className:"p-2 text-right text-[var(--text-secondary)] tabular-nums",children:f.qty.toLocaleString()}),$.jsx("td",{className:"p-2 text-right text-[var(--text-secondary)] tabular-nums",children:f.filled.toLocaleString()}),$.jsx("td",{className:"p-2 text-right text-[var(--text-secondary)] tabular-nums",children:f.remaining.toLocaleString()}),$.jsx("td",{className:"p-2 text-right text-[var(--text-secondary)] tabular-nums",children:f.price?Number(f.price).toFixed(Ca(f.symbol)):"MKT"}),$.jsx("td",{className:"p-2 text-right text-[var(--accent-color)] tabular-nums",children:Number(f.avgPx)>0?Number(f.avgPx).toFixed(Ca(f.symbol)):"-"}),$.jsx("td",{className:"p-2 text-[var(--text-secondary)] truncate",children:f.status}),$.jsx("td",{className:"p-2 text-[var(--text-secondary)] text-[10px] truncate",children:f.exchange||"-"}),$.jsx("td",{className:"p-2 text-[var(--text-secondary)] opacity-80 font-mono text-[10px] truncate",children:f.expiry||"DAY"}),$.jsx("td",{className:"p-2 text-center flex items-center justify-center gap-2",children:["Submitted","PreSubmitted","PendingSubmit","Inactive"].includes(f.status)&&$.jsxs($.Fragment,{children:[$.jsx("button",{onClick:m=>{m.stopPropagation();const y=prompt("New Quantity:",f.qty);if(y&&!isNaN(Number(y))){const x=f.type!=="MKT"?prompt("New Price:",f.price):null;Dt.getState().modifyOrder(f.id,{symbol:f.symbol,side:f.side,quantity:Number(y),type:f.type,price:x?Number(x):void 0})}},className:"text-[10px] bg-blue-600 hover:bg-blue-500 text-white px-1.5 py-0.5 rounded",children:"Edit"}),$.jsx("button",{onClick:m=>{m.stopPropagation(),confirm("Cancel Order?")&&Dt.getState().cancelOrder(f.id)},className:"text-[10px] bg-red-600 hover:bg-red-500 text-white px-1.5 py-0.5 rounded",children:"Cancel"})]})})]},f.id||b))]})]})})})},u2=()=>{const{instruments:e,flattenPosition:t}=Dt(),[r,n]=k.useState([]),[a]=k.useState(!0),[i,o]=k.useState(null),[s,c]=k.useState("asc"),[l,u]=k.useState({sym:90,secType:70,qty:80,avgCost:90,mktPx:90,mktVal:100,unrealPL:100,realPL:90,pctChg:70});k.useEffect(()=>{if(!a)return;const v=async()=>{try{const b=await(await fetch(`${It}/mcp/positions`)).json();let m=[];Array.isArray(b)?m=b:b&&Array.isArray(b.positions)&&(m=b.positions),m.length>0?n(m.map(y=>({symbol:y.contractDesc||y.symbol||"UNK",secType:y.assetClass||"STK",conid:y.conid||y.contractId||0,netQty:y.position||y.qty||0,avgCost:y.avgCost||y.avgPrice||0,currentPx:y.mktPrice||y.marketPrice||0,mktValue:y.mktValue||y.marketValue||0,unrealPL:y.unrealizedPnl||y.unrealizedPL||0,realPL:y.realizedPnl||y.realizedPL||0,currency:y.currency||"USD"}))):n([])}catch(f){console.error("Failed to fetch IBKR positions",f)}};v();const w=setInterval(v,3e3);return()=>clearInterval(w)},[a]);const d=v=>{i===v?c(s==="asc"?"desc":"asc"):(o(v),c("asc"))},h=(v,w)=>{const f=w.pageX,b=l[v],m=x=>{const g=Math.max(40,b+(x.pageX-f));u(_=>({..._,[v]:g}))},y=()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",y)};document.addEventListener("mousemove",m),document.addEventListener("mouseup",y)},p=k.useMemo(()=>{const w=[...r].map(f=>{const b=e[f.symbol]?.last;if(b&&f.avgCost>0){const y=b*f.netQty,x=(b-f.avgCost)*f.netQty,g=(b-f.avgCost)/f.avgCost*100;return{...f,currentPx:b,mktValue:y,unrealPL:x,pctChg:g}}const m=f.avgCost>0?(f.currentPx-f.avgCost)/f.avgCost*100:0;return{...f,pctChg:m}});return i&&w.sort((f,b)=>{const m=f[i],y=b[i];return m===void 0||y===void 0?0:m<y?s==="asc"?-1:1:m>y?s==="asc"?1:-1:0}),w},[r,e,i,s]);return $.jsx("div",{className:"h-full overflow-auto custom-scrollbar",children:$.jsxs("table",{className:"w-full text-left border-collapse text-xs table-fixed",children:[$.jsx("thead",{children:$.jsxs("tr",{className:"bg-[var(--bg-tertiary)] text-[var(--text-secondary)] sticky top-0 z-10",children:[$.jsxs("th",{style:{width:l.sym},className:"p-2 border-b border-[var(--border-primary)] relative cursor-pointer hover:text-[var(--text-accent)]",onClick:()=>d("symbol"),children:["SYMBOL ",i==="symbol"&&(s==="asc"?"▲":"▼"),$.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500",onMouseDown:v=>{v.stopPropagation(),h("sym",v)}})]}),$.jsxs("th",{style:{width:l.secType},className:"p-2 border-b border-[var(--border-primary)] relative cursor-pointer hover:text-[var(--text-accent)]",onClick:()=>d("secType"),children:["TYPE ",i==="secType"&&(s==="asc"?"▲":"▼"),$.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500",onMouseDown:v=>{v.stopPropagation(),h("secType",v)}})]}),$.jsxs("th",{style:{width:l.qty},className:"p-2 border-b border-[var(--border-primary)] text-right relative cursor-pointer hover:text-[var(--text-accent)]",onClick:()=>d("netQty"),children:["QTY ",i==="netQty"&&(s==="asc"?"▲":"▼"),$.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500",onMouseDown:v=>{v.stopPropagation(),h("qty",v)}})]}),$.jsxs("th",{style:{width:l.avgCost},className:"p-2 border-b border-[var(--border-primary)] text-right relative cursor-pointer hover:text-[var(--text-accent)]",onClick:()=>d("avgCost"),children:["AVG COST ",i==="avgCost"&&(s==="asc"?"▲":"▼"),$.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500",onMouseDown:v=>{v.stopPropagation(),h("avgCost",v)}})]}),$.jsxs("th",{style:{width:l.mktPx},className:"p-2 border-b border-[var(--border-primary)] text-right relative cursor-pointer hover:text-[var(--text-accent)]",onClick:()=>d("currentPx"),children:["MKT PX ",i==="currentPx"&&(s==="asc"?"▲":"▼"),$.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500",onMouseDown:v=>{v.stopPropagation(),h("mktPx",v)}})]}),$.jsxs("th",{style:{width:l.mktVal},className:"p-2 border-b border-[var(--border-primary)] text-right relative cursor-pointer hover:text-[var(--text-accent)]",onClick:()=>d("mktValue"),children:["MKT VALUE ",i==="mktValue"&&(s==="asc"?"▲":"▼"),$.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500",onMouseDown:v=>{v.stopPropagation(),h("mktVal",v)}})]}),$.jsxs("th",{style:{width:l.unrealPL},className:"p-2 border-b border-[var(--border-primary)] text-right relative cursor-pointer hover:text-[var(--text-accent)]",onClick:()=>d("unrealPL"),children:["UNREAL P/L ",i==="unrealPL"&&(s==="asc"?"▲":"▼"),$.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500",onMouseDown:v=>{v.stopPropagation(),h("unrealPL",v)}})]}),$.jsxs("th",{style:{width:l.realPL},className:"p-2 border-b border-[var(--border-primary)] text-right relative cursor-pointer hover:text-[var(--text-accent)]",onClick:()=>d("realPL"),children:["REAL P/L ",i==="realPL"&&(s==="asc"?"▲":"▼"),$.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500",onMouseDown:v=>{v.stopPropagation(),h("realPL",v)}})]}),$.jsxs("th",{style:{width:l.pctChg},className:"p-2 border-b border-[var(--border-primary)] text-right relative cursor-pointer hover:text-[var(--text-accent)]",onClick:()=>d("pctChg"),children:["% CHG ",i==="pctChg"&&(s==="asc"?"▲":"▼"),$.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500",onMouseDown:v=>{v.stopPropagation(),h("pctChg",v)}})]})]})}),$.jsxs("tbody",{children:[p.length===0&&$.jsx("tr",{children:$.jsx("td",{colSpan:9,className:"p-4 text-center text-[var(--text-tertiary)] italic",children:"No Open Positions"})}),p.map((v,w)=>$.jsxs("tr",{className:"border-b border-[var(--border-primary)] hover:bg-[var(--bg-tertiary)] group",children:[$.jsx("td",{className:"p-2 font-bold text-[var(--text-primary)] truncate",children:v.symbol}),$.jsx("td",{className:"p-2 text-[var(--text-secondary)] text-xs truncate",children:v.secType}),$.jsx("td",{className:`p-2 text-right whitespace-nowrap tabular-nums ${v.netQty>=0?"text-[var(--success-color)]":"text-[var(--danger-color)]"}`,children:$.jsxs("div",{className:"flex items-center justify-end gap-1",children:[v.netQty.toLocaleString(),$.jsx("button",{onClick:f=>{f.stopPropagation(),t(v.symbol)},className:"px-1 py-0.5 text-[8px] bg-amber-600/20 text-amber-500 border border-amber-600/30 rounded opacity-0 group-hover:opacity-100 transition-opacity hover:bg-amber-600 hover:text-white",children:"CLOSE"})]})}),$.jsx("td",{className:"p-2 text-right text-[var(--text-secondary)] tabular-nums",children:v.avgCost.toFixed(2)}),$.jsx("td",{className:"p-2 text-right text-[var(--text-secondary)] tabular-nums",children:v.currentPx.toFixed(2)}),$.jsxs("td",{className:"p-2 text-right text-[var(--text-secondary)] tabular-nums",children:["$",v.mktValue.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),$.jsxs("td",{className:`p-2 text-right tabular-nums font-medium ${v.unrealPL>=0?"text-[var(--success-color)]":"text-[var(--danger-color)]"}`,children:[v.unrealPL>=0?"+":"",v.unrealPL.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),$.jsxs("td",{className:`p-2 text-right tabular-nums ${v.realPL>=0?"text-[var(--success-color)]":"text-[var(--danger-color)]"}`,children:[v.realPL>=0?"+":"",v.realPL.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),$.jsxs("td",{className:`p-2 text-right tabular-nums font-medium ${v.pctChg>=0?"text-[var(--success-color)]":"text-[var(--danger-color)]"}`,children:[v.pctChg>=0?"+":"",v.pctChg.toFixed(2),"%"]})]},v.symbol||w))]})]})})},d2=()=>{const{connectionStatus:e}=Dt(),[t,r]=k.useState(null),[n,a]=k.useState(!0),[i,o]=k.useState(null);if(k.useEffect(()=>{if(!e.gateway){a(!1);return}const c=async()=>{try{a(!0);const d=await(await fetch(`${It}/mcp/account`)).json();if(d.error){o(d.error),a(!1);return}const h=d.summary||{},p=d.account_id||"Unknown",v=h.totalcashvalue?.amount||h["totalcashvalue-s"]?.amount||0,w=h["netliquidation-s"]?.amount||h.netliquidation?.amount||0,f=h.buyingpower?.amount||h["buyingpower-s"]?.amount||0,b=h.excessliquidity?.amount||h["excessliquidity-s"]?.amount||0,m=h.totalcashvalue?.currency||h["totalcashvalue-s"]?.currency||"USD";r({cashBalance:v,netLiquidation:w,buyingPower:f,excessLiquidity:b,currency:m,accountId:p}),o(null)}catch(u){o(u instanceof Error?u.message:"Failed to fetch account data")}finally{a(!1)}};c();const l=setInterval(c,3e4);return()=>clearInterval(l)},[e.gateway]),!e.gateway)return $.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-4 bg-[var(--bg-secondary)] text-center space-y-2",children:[$.jsx("div",{className:"p-3 bg-red-500/10 rounded-full text-red-500 mb-2",children:$.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[$.jsx("path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91"}),$.jsx("line",{x1:"23",y1:"1",x2:"1",y2:"23"})]})}),$.jsx("div",{className:"text-[var(--text-primary)] font-bold text-sm",children:"IBKR GATEWAY DISCONNECTED"}),$.jsx("div",{className:"text-[var(--text-secondary)] text-xs max-w-[200px]",children:"Account balance is unavailable while the gateway is offline."})]});if(n&&!t)return $.jsx("div",{className:"h-full flex items-center justify-center p-4 bg-[var(--bg-secondary)]",children:$.jsx("div",{className:"text-[var(--text-secondary)]",children:"Loading account data..."})});if(i)return $.jsx("div",{className:"h-full flex items-center justify-center p-4 bg-[var(--bg-secondary)]",children:$.jsxs("div",{className:"text-center",children:[$.jsx("div",{className:"text-[var(--text-secondary)] text-sm mb-2",children:"Unable to fetch IBKR account data"}),$.jsx("div",{className:"text-[var(--text-tertiary)] text-xs",children:i}),$.jsx("div",{className:"text-[var(--text-tertiary)] text-xs mt-2",children:"Make sure IBKR Gateway is authenticated at https://localhost:5000"})]})});if(!t)return null;const s=(c,l)=>`${l} ${Math.floor(c).toLocaleString()}`;return $.jsxs("div",{className:"h-full flex flex-col justify-center p-4 bg-[var(--bg-secondary)]",children:[$.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[$.jsxs("div",{className:"text-[var(--text-secondary)] text-[10px] font-bold uppercase",children:["IBKR Account: ",t.accountId]}),$.jsx("div",{className:"text-[var(--accent-color)] text-[9px]",children:"● Live"})]}),$.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[$.jsxs("div",{className:"bg-[var(--bg-primary)] p-3 rounded border border-[var(--border-primary)] shadow-sm",children:[$.jsx("div",{className:"text-[var(--text-secondary)] text-[10px] font-bold uppercase mb-1",children:"NET LIQUIDATION"}),$.jsx("div",{className:"text-base md:text-xl font-bold text-[var(--text-primary)]",children:s(t.netLiquidation,t.currency)})]}),$.jsxs("div",{className:"bg-[var(--bg-primary)] p-3 rounded border border-[var(--border-primary)] shadow-sm",children:[$.jsx("div",{className:"text-[var(--text-secondary)] text-[10px] font-bold uppercase mb-1",children:"CASH BALANCE"}),$.jsx("div",{className:"text-base md:text-xl font-bold text-[var(--text-primary)]",children:s(t.cashBalance,t.currency)})]}),$.jsxs("div",{className:"bg-[var(--bg-primary)] p-3 rounded border border-[var(--border-primary)] shadow-sm",children:[$.jsx("div",{className:"text-[var(--text-secondary)] text-[10px] font-bold uppercase mb-1",children:"BUYING POWER"}),$.jsx("div",{className:"text-base md:text-xl font-bold text-[var(--success-color)]",children:s(t.buyingPower,t.currency)})]}),$.jsxs("div",{className:"bg-[var(--bg-primary)] p-3 rounded border border-[var(--border-primary)] shadow-sm",children:[$.jsx("div",{className:"text-[var(--text-secondary)] text-[10px] font-bold uppercase mb-1",children:"EXCESS LIQUIDITY"}),$.jsx("div",{className:"text-base md:text-xl font-bold text-[var(--accent-color)]",children:s(t.excessLiquidity,t.currency)})]})]})]})};var f2=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Qh(e){if(typeof e!="string")return!1;var t=f2;return t.includes(e)}var h2=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],p2=new Set(h2);function GS(e){return typeof e!="string"?!1:p2.has(e)}function YS(e){return typeof e=="string"&&e.startsWith("data-")}function wr(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(GS(r)||YS(r))&&(t[r]=e[r]);return t}function Tl(e){if(e==null)return null;if(k.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return wr(t)}return typeof e=="object"&&!Array.isArray(e)?wr(e):null}function or(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(GS(r)||YS(r)||Qh(r))&&(t[r]=e[r]);return t}function m2(e){return e==null?null:k.isValidElement(e)?or(e.props):typeof e=="object"&&!Array.isArray(e)?or(e):null}var v2=["children","width","height","viewBox","className","style","title","desc"];function $f(){return $f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$f.apply(null,arguments)}function y2(e,t){if(e==null)return{};var r,n,a=g2(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function g2(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var JS=k.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:o,style:s,title:c,desc:l}=e,u=y2(e,v2),d=i||{width:n,height:a,x:0,y:0},h=De("recharts-surface",o);return k.createElement("svg",$f({},or(u),{className:h,width:n,height:a,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),k.createElement("title",null,c),k.createElement("desc",null,l),r)}),b2=["children","className"];function kf(){return kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kf.apply(null,arguments)}function w2(e,t){if(e==null)return{};var r,n,a=_2(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _2(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Cr=k.forwardRef((e,t)=>{var{children:r,className:n}=e,a=w2(e,b2),i=De("recharts-layer",n);return k.createElement("g",kf({className:i},or(a),{ref:t}),r)}),XS=UE(),x2=k.createContext(null);function Ye(e){return function(){return e}}const Ef=Math.PI,Of=2*Ef,Kn=1e-6,S2=Of-Kn;function QS(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function P2(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return QS;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class $2{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?QS:P2(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,c=n-t,l=a-r,u=o-t,d=s-r,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Kn)if(!(Math.abs(d*c-l*u)>Kn)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,v=a-s,w=c*c+l*l,f=p*p+v*v,b=Math.sqrt(w),m=Math.sqrt(h),y=i*Math.tan((Ef-Math.acos((w+h-f)/(2*b*m)))/2),x=y/m,g=y/b;Math.abs(x-1)>Kn&&this._append`L${t+x*u},${r+x*d}`,this._append`A${i},${i},0,0,${+(d*p>u*v)},${this._x1=t+g*c},${this._y1=r+g*l}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),c=n*Math.sin(a),l=t+s,u=r+c,d=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${l},${u}`:(Math.abs(this._x1-l)>Kn||Math.abs(this._y1-u)>Kn)&&this._append`L${l},${u}`,n&&(h<0&&(h=h%Of+Of),h>S2?this._append`A${n},${n},0,1,${d},${t-s},${r-c}A${n},${n},0,1,${d},${this._x1=l},${this._y1=u}`:h>Kn&&this._append`A${n},${n},0,${+(h>=Ef)},${d},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function e1(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new $2(t)}function ep(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function t1(e){this._context=e}t1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Cl(e){return new t1(e)}function r1(e){return e[0]}function n1(e){return e[1]}function a1(e,t){var r=Ye(!0),n=null,a=Cl,i=null,o=e1(s);e=typeof e=="function"?e:e===void 0?r1:Ye(e),t=typeof t=="function"?t:t===void 0?n1:Ye(t);function s(c){var l,u=(c=ep(c)).length,d,h=!1,p;for(n==null&&(i=a(p=o())),l=0;l<=u;++l)!(l<u&&r(d=c[l],l,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(d,l,c),+t(d,l,c));if(p)return i=null,p+""||null}return s.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ye(+c),s):e},s.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ye(+c),s):t},s.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ye(!!c),s):r},s.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),s):a},s.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),s):n},s}function Us(e,t,r){var n=null,a=Ye(!0),i=null,o=Cl,s=null,c=e1(l);e=typeof e=="function"?e:e===void 0?r1:Ye(+e),t=typeof t=="function"?t:Ye(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?n1:Ye(+r);function l(d){var h,p,v,w=(d=ep(d)).length,f,b=!1,m,y=new Array(w),x=new Array(w);for(i==null&&(s=o(m=c())),h=0;h<=w;++h){if(!(h<w&&a(f=d[h],h,d))===b)if(b=!b)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=h-1;v>=p;--v)s.point(y[v],x[v]);s.lineEnd(),s.areaEnd()}b&&(y[h]=+e(f,h,d),x[h]=+t(f,h,d),s.point(n?+n(f,h,d):y[h],r?+r(f,h,d):x[h]))}if(m)return s=null,m+""||null}function u(){return a1().defined(a).curve(o).context(i)}return l.x=function(d){return arguments.length?(e=typeof d=="function"?d:Ye(+d),n=null,l):e},l.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Ye(+d),l):e},l.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Ye(+d),l):n},l.y=function(d){return arguments.length?(t=typeof d=="function"?d:Ye(+d),r=null,l):t},l.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Ye(+d),l):t},l.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Ye(+d),l):r},l.lineX0=l.lineY0=function(){return u().x(e).y(t)},l.lineY1=function(){return u().x(e).y(r)},l.lineX1=function(){return u().x(n).y(t)},l.defined=function(d){return arguments.length?(a=typeof d=="function"?d:Ye(!!d),l):a},l.curve=function(d){return arguments.length?(o=d,i!=null&&(s=o(i)),l):o},l.context=function(d){return arguments.length?(d==null?i=s=null:s=o(i=d),l):i},l}class i1{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function k2(e){return new i1(e,!0)}function E2(e){return new i1(e,!1)}function Sc(){}function Pc(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function o1(e){this._context=e}o1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Pc(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Pc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function O2(e){return new o1(e)}function s1(e){this._context=e}s1.prototype={areaStart:Sc,areaEnd:Sc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Pc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function j2(e){return new s1(e)}function c1(e){this._context=e}c1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Pc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function N2(e){return new c1(e)}function l1(e){this._context=e}l1.prototype={areaStart:Sc,areaEnd:Sc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function T2(e){return new l1(e)}function Tg(e){return e<0?-1:1}function Cg(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),s=(i*a+o*n)/(n+a);return(Tg(i)+Tg(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function Ag(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Uu(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-n)/3;e._context.bezierCurveTo(n+s,a+s*t,i-s,o-s*r,i,o)}function $c(e){this._context=e}$c.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Uu(this,this._t0,Ag(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Uu(this,Ag(this,r=Cg(this,e,t)),r);break;default:Uu(this,this._t0,r=Cg(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function u1(e){this._context=new d1(e)}(u1.prototype=Object.create($c.prototype)).point=function(e,t){$c.prototype.point.call(this,t,e)};function d1(e){this._context=e}d1.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function C2(e){return new $c(e)}function A2(e){return new u1(e)}function f1(e){this._context=e}f1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Ig(e),a=Ig(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Ig(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function I2(e){return new f1(e)}function Al(e,t){this._context=e,this._t=t}Al.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function R2(e){return new Al(e,.5)}function M2(e){return new Al(e,0)}function D2(e){return new Al(e,1)}function ra(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,s=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<s;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function jf(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function z2(e,t){return e[t]}function L2(e){const t=[];return t.key=e,t}function q2(){var e=Ye([]),t=jf,r=ra,n=z2;function a(i){var o=Array.from(e.apply(this,arguments),L2),s,c=o.length,l=-1,u;for(const d of i)for(s=0,++l;s<c;++s)(o[s][l]=[0,+n(d,o[s].key,l,i)]).data=d;for(s=0,u=ep(t(o));s<c;++s)o[u[s]].index=s;return r(o,u),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ye(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ye(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?jf:typeof i=="function"?i:Ye(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??ra,a):r},a}function F2(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}ra(e,t)}}function U2(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,s=0;o<a;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}ra(e,t)}}function V2(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var s=0,c=0,l=0;s<o;++s){for(var u=e[t[s]],d=u[n][1]||0,h=u[n-1][1]||0,p=(d-h)/2,v=0;v<s;++v){var w=e[t[v]],f=w[n][1]||0,b=w[n-1][1]||0;p+=f-b}c+=d,l+=p*d}a[n-1][1]+=a[n-1][0]=r,c&&(r-=l/c)}a[n-1][1]+=a[n-1][0]=r,ra(e,t)}}var Vu={},Bu={},Rg;function B2(){return Rg||(Rg=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Bu)),Bu}var Ku={},Mg;function h1(){return Mg||(Mg=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Ku)),Ku}var Wu={},Dg;function tp(){return Dg||(Dg=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(Wu)),Wu}var Hu={},Zu={},zg;function K2(){return zg||(zg=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(Zu)),Zu}var Lg;function rp(){return Lg||(Lg=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K2(),r=tp();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let s=0,c="",l="",u=!1;for(a.charCodeAt(0)===46&&(i.push(""),s++);s<o;){const d=a[s];l?d==="\\"&&s+1<o?(s++,c+=a[s]):d===l?l="":c+=d:u?d==='"'||d==="'"?l=d:d==="]"?(u=!1,i.push(c),c=""):c+=d:d==="["?(u=!0,c&&(i.push(c),c="")):d==="."?c&&(i.push(c),c=""):c+=d,s++}return c&&i.push(c),i}e.toPath=n})(Hu)),Hu}var qg;function np(){return qg||(qg=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B2(),r=h1(),n=tp(),a=rp();function i(s,c,l){if(s==null)return l;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return l;const u=s[c];return u===void 0?r.isDeepKey(c)?i(s,a.toPath(c),l):l:u}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const u=s[c];return u===void 0?l:u}default:{if(Array.isArray(c))return o(s,c,l);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return l;const u=s[c];return u===void 0?l:u}}}function o(s,c,l){if(c.length===0)return l;let u=s;for(let d=0;d<c.length;d++){if(u==null||t.isUnsafeProperty(c[d]))return l;u=u[c[d]]}return u===void 0?l:u}e.get=i})(Vu)),Vu}var Gu,Fg;function W2(){return Fg||(Fg=1,Gu=np().get),Gu}var H2=W2();const Il=an(H2);var Z2=4;function xn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Z2,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function vt(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,i,o)=>{var s=r[o-1];return typeof s=="string"?a+s+i:s!==void 0?a+xn(s)+i:a+i},"")}var ar=e=>e===0?0:e>0?1:-1,Ar=e=>typeof e=="number"&&e!=+e,na=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,se=e=>(typeof e=="number"||e instanceof Number)&&!Ar(e),Ir=e=>se(e)||typeof e=="string",G2=0,Ei=e=>{var t=++G2;return"".concat(e||"").concat(t)},En=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!se(t)&&typeof t!="string")return n;var i;if(na(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Ar(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},p1=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Or(e,t,r){return se(e)&&se(t)?xn(e+r*(t-e)):t}function m1(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Il(n,t))===r)}var Nt=e=>e===null||typeof e>"u",ap=e=>Nt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Ut(e){return e!=null}function Ka(){}var v1=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,ip=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(k.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Qh(a)&&(n[a]=(i=>r[a](r,i)))}),n},Y2=(e,t,r)=>n=>(e(t,r,n),null),J2=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];Qh(a)&&typeof i=="function"&&(n||(n={}),n[a]=Y2(i,t,r))}),n};function Ug(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function X2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ug(Object(r),!0).forEach(function(n){Q2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ug(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q2(e,t,r){return(t=ez(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ez(e){var t=tz(e,"string");return typeof t=="symbol"?t:t+""}function tz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tr(e,t){var r=X2({},e),n=t,a=Object.keys(t),i=a.reduce((o,s)=>(o[s]===void 0&&n[s]!==void 0&&(o[s]=n[s]),o),r);return i}var Yu={},Ju={},Vg;function rz(){return Vg||(Vg=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const o=r[i],s=n(o,i,r);a.has(s)||a.set(s,o)}return Array.from(a.values())}e.uniqBy=t})(Ju)),Ju}var Xu={},Bg;function nz(){return Bg||(Bg=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...a){return r.apply(this,a.slice(0,n))}}e.ary=t})(Xu)),Xu}var Qu={},Kg;function y1(){return Kg||(Kg=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Qu)),Qu}var ed={},td={},rd={},Wg;function az(){return Wg||(Wg=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(rd)),rd}var Hg;function op(){return Hg||(Hg=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=az();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(td)),td}var nd={},Zg;function iz(){return Zg||(Zg=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(nd)),nd}var Gg;function oz(){return Gg||(Gg=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=op(),r=iz();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(ed)),ed}var ad={},id={},Yg;function sz(){return Yg||(Yg=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=np();function r(n){return function(a){return t.get(a,n)}}e.property=r})(id)),id}var od={},sd={},cd={},ld={},Jg;function g1(){return Jg||(Jg=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(ld)),ld}var ud={},Xg;function b1(){return Xg||(Xg=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(ud)),ud}var dd={},Qg;function w1(){return Qg||(Qg=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(dd)),dd}var e0;function cz(){return e0||(e0=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g1(),r=b1(),n=w1();function a(u,d,h){return typeof h!="function"?a(u,d,()=>{}):i(u,d,function p(v,w,f,b,m,y){const x=h(v,w,f,b,m,y);return x!==void 0?!!x:i(v,w,p,y)},new Map)}function i(u,d,h,p){if(d===u)return!0;switch(typeof d){case"object":return o(u,d,h,p);case"function":return Object.keys(d).length>0?i(u,{...d},h,p):n.isEqualsSameValueZero(u,d);default:return t.isObject(u)?typeof d=="string"?d==="":!0:n.isEqualsSameValueZero(u,d)}}function o(u,d,h,p){if(d==null)return!0;if(Array.isArray(d))return c(u,d,h,p);if(d instanceof Map)return s(u,d,h,p);if(d instanceof Set)return l(u,d,h,p);const v=Object.keys(d);if(u==null||r.isPrimitive(u))return v.length===0;if(v.length===0)return!0;if(p?.has(d))return p.get(d)===u;p?.set(d,u);try{for(let w=0;w<v.length;w++){const f=v[w];if(!r.isPrimitive(u)&&!(f in u)||d[f]===void 0&&u[f]!==void 0||d[f]===null&&u[f]!==null||!h(u[f],d[f],f,u,d,p))return!1}return!0}finally{p?.delete(d)}}function s(u,d,h,p){if(d.size===0)return!0;if(!(u instanceof Map))return!1;for(const[v,w]of d.entries()){const f=u.get(v);if(h(f,w,v,u,d,p)===!1)return!1}return!0}function c(u,d,h,p){if(d.length===0)return!0;if(!Array.isArray(u))return!1;const v=new Set;for(let w=0;w<d.length;w++){const f=d[w];let b=!1;for(let m=0;m<u.length;m++){if(v.has(m))continue;const y=u[m];let x=!1;if(h(y,f,w,u,d,p)&&(x=!0),x){v.add(m),b=!0;break}}if(!b)return!1}return!0}function l(u,d,h,p){return d.size===0?!0:u instanceof Set?c([...u],[...d],h,p):!1}e.isMatchWith=a,e.isSetMatch=l})(cd)),cd}var t0;function _1(){return t0||(t0=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cz();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(sd)),sd}var fd={},hd={},pd={},r0;function lz(){return r0||(r0=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(pd)),pd}var md={},n0;function sp(){return n0||(n0=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(md)),md}var vd={},a0;function x1(){return a0||(a0=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",s="[object Date]",c="[object Map]",l="[object Set]",u="[object Array]",d="[object Function]",h="[object ArrayBuffer]",p="[object Object]",v="[object Error]",w="[object DataView]",f="[object Uint8Array]",b="[object Uint8ClampedArray]",m="[object Uint16Array]",y="[object Uint32Array]",x="[object BigUint64Array]",g="[object Int8Array]",_="[object Int16Array]",S="[object Int32Array]",E="[object BigInt64Array]",I="[object Float32Array]",L="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=u,e.bigInt64ArrayTag=E,e.bigUint64ArrayTag=x,e.booleanTag=a,e.dataViewTag=w,e.dateTag=s,e.errorTag=v,e.float32ArrayTag=I,e.float64ArrayTag=L,e.functionTag=d,e.int16ArrayTag=_,e.int32ArrayTag=S,e.int8ArrayTag=g,e.mapTag=c,e.numberTag=n,e.objectTag=p,e.regexpTag=t,e.setTag=l,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=m,e.uint32ArrayTag=y,e.uint8ArrayTag=f,e.uint8ClampedArrayTag=b})(vd)),vd}var yd={},i0;function uz(){return i0||(i0=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(yd)),yd}var o0;function S1(){return o0||(o0=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lz(),r=sp(),n=x1(),a=b1(),i=uz();function o(u,d){return s(u,void 0,u,new Map,d)}function s(u,d,h,p=new Map,v=void 0){const w=v?.(u,d,h,p);if(w!==void 0)return w;if(a.isPrimitive(u))return u;if(p.has(u))return p.get(u);if(Array.isArray(u)){const f=new Array(u.length);p.set(u,f);for(let b=0;b<u.length;b++)f[b]=s(u[b],b,h,p,v);return Object.hasOwn(u,"index")&&(f.index=u.index),Object.hasOwn(u,"input")&&(f.input=u.input),f}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const f=new RegExp(u.source,u.flags);return f.lastIndex=u.lastIndex,f}if(u instanceof Map){const f=new Map;p.set(u,f);for(const[b,m]of u)f.set(b,s(m,b,h,p,v));return f}if(u instanceof Set){const f=new Set;p.set(u,f);for(const b of u)f.add(s(b,void 0,h,p,v));return f}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(i.isTypedArray(u)){const f=new(Object.getPrototypeOf(u)).constructor(u.length);p.set(u,f);for(let b=0;b<u.length;b++)f[b]=s(u[b],b,h,p,v);return f}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const f=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return p.set(u,f),c(f,u,h,p,v),f}if(typeof File<"u"&&u instanceof File){const f=new File([u],u.name,{type:u.type});return p.set(u,f),c(f,u,h,p,v),f}if(typeof Blob<"u"&&u instanceof Blob){const f=new Blob([u],{type:u.type});return p.set(u,f),c(f,u,h,p,v),f}if(u instanceof Error){const f=new u.constructor;return p.set(u,f),f.message=u.message,f.name=u.name,f.stack=u.stack,f.cause=u.cause,c(f,u,h,p,v),f}if(u instanceof Boolean){const f=new Boolean(u.valueOf());return p.set(u,f),c(f,u,h,p,v),f}if(u instanceof Number){const f=new Number(u.valueOf());return p.set(u,f),c(f,u,h,p,v),f}if(u instanceof String){const f=new String(u.valueOf());return p.set(u,f),c(f,u,h,p,v),f}if(typeof u=="object"&&l(u)){const f=Object.create(Object.getPrototypeOf(u));return p.set(u,f),c(f,u,h,p,v),f}return u}function c(u,d,h=u,p,v){const w=[...Object.keys(d),...t.getSymbols(d)];for(let f=0;f<w.length;f++){const b=w[f],m=Object.getOwnPropertyDescriptor(u,b);(m==null||m.writable)&&(u[b]=s(d[b],b,h,p,v))}}function l(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=c})(hd)),hd}var s0;function dz(){return s0||(s0=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S1();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(fd)),fd}var c0;function fz(){return c0||(c0=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_1(),r=dz();function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(od)),od}var gd={},bd={},wd={},l0;function hz(){return l0||(l0=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S1(),r=sp(),n=x1();function a(i,o){return t.cloneDeepWith(i,(s,c,l,u)=>{const d=o?.(s,c,l,u);if(d!==void 0)return d;if(typeof i=="object"){if(r.getTag(i)===n.objectTag&&typeof i.constructor!="function"){const h={};return u.set(i,h),t.copyProperties(h,i,l,u),h}switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new i.constructor(i?.valueOf());return t.copyProperties(h,i),h}case n.argumentsTag:{const h={};return t.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}}})}e.cloneDeepWith=a})(wd)),wd}var u0;function pz(){return u0||(u0=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hz();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(bd)),bd}var _d={},xd={},d0;function P1(){return d0||(d0=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(xd)),xd}var Sd={},f0;function mz(){return f0||(f0=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sp();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Sd)),Sd}var h0;function vz(){return h0||(h0=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h1(),r=P1(),n=mz(),a=rp();function i(o,s){let c;if(Array.isArray(s)?c=s:typeof s=="string"&&t.isDeepKey(s)&&o?.[s]==null?c=a.toPath(s):c=[s],c.length===0)return!1;let l=o;for(let u=0;u<c.length;u++){const d=c[u];if((l==null||!Object.hasOwn(l,d))&&!((Array.isArray(l)||n.isArguments(l))&&r.isIndex(d)&&d<l.length))return!1;l=l[d]}return!0}e.has=i})(_d)),_d}var p0;function yz(){return p0||(p0=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_1(),r=tp(),n=pz(),a=np(),i=vz();function o(s,c){switch(typeof s){case"object":{Object.is(s?.valueOf(),-0)&&(s="-0");break}case"number":{s=r.toKey(s);break}}return c=n.cloneDeep(c),function(l){const u=a.get(l,s);return u===void 0?i.has(l,s):c===void 0?u===void 0:t.isMatch(u,c)}}e.matchesProperty=o})(gd)),gd}var m0;function gz(){return m0||(m0=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y1(),r=sz(),n=fz(),a=yz();function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(ad)),ad}var v0;function bz(){return v0||(v0=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rz(),r=nz(),n=y1(),a=oz(),i=gz();function o(s,c=n.identity){return a.isArrayLikeObject(s)?t.uniqBy(Array.from(s),r.ary(i.iteratee(c),1)):[]}e.uniqBy=o})(Yu)),Yu}var Pd,y0;function wz(){return y0||(y0=1,Pd=bz().uniqBy),Pd}var _z=wz();const g0=an(_z);function xz(e,t,r){return t===!0?g0(e,r):typeof t=="function"?g0(e,t):e}var $d={exports:{}},kd={},Ed={exports:{}},Od={};var b0;function Sz(){if(b0)return Od;b0=1;var e=bh();function t(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function s(d,h){var p=h(),v=n({inst:{value:p,getSnapshot:h}}),w=v[0].inst,f=v[1];return i(function(){w.value=p,w.getSnapshot=h,c(w)&&f({inst:w})},[d,p,h]),a(function(){return c(w)&&f({inst:w}),d(function(){c(w)&&f({inst:w})})},[d]),o(p),p}function c(d){var h=d.getSnapshot;d=d.value;try{var p=h();return!r(d,p)}catch{return!0}}function l(d,h){return h()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l:s;return Od.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u,Od}var w0;function Pz(){return w0||(w0=1,Ed.exports=Sz()),Ed.exports}var _0;function $z(){if(_0)return kd;_0=1;var e=bh(),t=Pz();function r(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,s=e.useMemo,c=e.useDebugValue;return kd.useSyncExternalStoreWithSelector=function(l,u,d,h,p){var v=i(null);if(v.current===null){var w={hasValue:!1,value:null};v.current=w}else w=v.current;v=s(function(){function b(_){if(!m){if(m=!0,y=_,_=h(_),p!==void 0&&w.hasValue){var S=w.value;if(p(S,_))return x=S}return x=_}if(S=x,n(y,_))return S;var E=h(_);return p!==void 0&&p(S,E)?(y=_,S):(y=_,x=E)}var m=!1,y,x,g=d===void 0?null:d;return[function(){return b(u())},g===null?void 0:function(){return b(g())}]},[u,d,h,p]);var f=a(l,v[0],v[1]);return o(function(){w.hasValue=!0,w.value=f},[f]),c(f),f},kd}var x0;function kz(){return x0||(x0=1,$d.exports=$z()),$d.exports}var Ez=kz(),cp=k.createContext(null),Oz=e=>e,lt=()=>{var e=k.useContext(cp);return e?e.store.dispatch:Oz},oc=()=>{},jz=()=>oc,Nz=(e,t)=>e===t;function de(e){var t=k.useContext(cp),r=k.useMemo(()=>t?n=>{if(n!=null)return e(n)}:oc,[t,e]);return Ez.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:jz,t?t.store.getState:oc,t?t.store.getState:oc,r,Nz)}function Tz(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Cz(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Az(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var S0=e=>Array.isArray(e)?e:[e];function Iz(e){const t=Array.isArray(e[0])?e[0]:e;return Az(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Rz(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var Mz=class{constructor(e){this.value=e}deref(){return this.value}},Dz=typeof WeakRef<"u"?WeakRef:Mz,zz=0,P0=1;function Vs(){return{s:zz,v:void 0,o:null,p:null}}function $1(e,t={}){let r=Vs();const{resultEqualityCheck:n}=t;let a,i=0;function o(){let s=r;const{length:c}=arguments;for(let d=0,h=c;d<h;d++){const p=arguments[d];if(typeof p=="function"||typeof p=="object"&&p!==null){let v=s.o;v===null&&(s.o=v=new WeakMap);const w=v.get(p);w===void 0?(s=Vs(),v.set(p,s)):s=w}else{let v=s.p;v===null&&(s.p=v=new Map);const w=v.get(p);w===void 0?(s=Vs(),v.set(p,s)):s=w}}const l=s;let u;if(s.s===P0)u=s.v;else if(u=e.apply(null,arguments),i++,n){const d=a?.deref?.()??a;d!=null&&n(d,u)&&(u=d,i!==0&&i--),a=typeof u=="object"&&u!==null||typeof u=="function"?new Dz(u):u}return l.s=P0,l.v=u,u}return o.clearCache=()=>{r=Vs(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function Lz(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,o=0,s,c={},l=a.pop();typeof l=="object"&&(c=l,l=a.pop()),Tz(l,`createSelector expects an output function after the inputs, but received: [${typeof l}]`);const u={...r,...c},{memoize:d,memoizeOptions:h=[],argsMemoize:p=$1,argsMemoizeOptions:v=[]}=u,w=S0(h),f=S0(v),b=Iz(a),m=d(function(){return i++,l.apply(null,arguments)},...w),y=p(function(){o++;const g=Rz(b,arguments);return s=m.apply(null,g),s},...f);return Object.assign(y,{resultFunc:l,memoizedResultFunc:m,dependencies:b,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:d,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var H=Lz($1),qz=Object.assign((e,t=H)=>{Cz(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,s,c)=>(o[r[c]]=s,o),{}))},{withTypes:()=>qz}),jd={},Nd={},Td={},$0;function Fz(){return $0||($0=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const o=t(n),s=t(a);if(o===s&&o===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?s-o:o-s}return 0};e.compareValues=r})(Td)),Td}var Cd={},Ad={},k0;function k1(){return k0||(k0=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Ad)),Ad}var E0;function Uz(){return E0||(E0=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k1(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(Cd)),Cd}var O0;function Vz(){return O0||(O0=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fz(),r=Uz(),n=rp();function a(i,o,s,c){if(i==null)return[];s=c?void 0:s,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(p=>String(p));const l=(p,v)=>{let w=p;for(let f=0;f<v.length&&w!=null;++f)w=w[v[f]];return w},u=(p,v)=>v==null||p==null?v:typeof p=="object"&&"key"in p?Object.hasOwn(v,p.key)?v[p.key]:l(v,p.path):typeof p=="function"?p(v):Array.isArray(p)?l(v,p):typeof v=="object"?v[p]:v,d=o.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return i.map(p=>({original:p,criteria:d.map(v=>u(v,p))})).slice().sort((p,v)=>{for(let w=0;w<d.length;w++){const f=t.compareValues(p.criteria[w],v.criteria[w],s[w]);if(f!==0)return f}return 0}).map(p=>p.original)}e.orderBy=a})(Nd)),Nd}var Id={},j0;function Bz(){return j0||(j0=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),o=(s,c)=>{for(let l=0;l<s.length;l++){const u=s[l];Array.isArray(u)&&c<i?o(u,c+1):a.push(u)}};return o(r,0),a}e.flatten=t})(Id)),Id}var Rd={},N0;function E1(){return N0||(N0=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P1(),r=op(),n=g1(),a=w1();function i(o,s,c){return n.isObject(c)&&(typeof s=="number"&&r.isArrayLike(c)&&t.isIndex(s)&&s<c.length||typeof s=="string"&&s in c)?a.isEqualsSameValueZero(c[s],o):!1}e.isIterateeCall=i})(Rd)),Rd}var T0;function Kz(){return T0||(T0=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vz(),r=Bz(),n=E1();function a(i,...o){const s=o.length;return s>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:s>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=a})(jd)),jd}var Md,C0;function Wz(){return C0||(C0=1,Md=Kz().sortBy),Md}var Hz=Wz();const Rl=an(Hz);var O1=e=>e.legend.settings,Zz=e=>e.legend.size,Gz=e=>e.legend.payload;H([Gz,O1],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Rl(n,r):n});var Bs=1;function Yz(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=k.useState({height:0,left:0,top:0,width:0}),n=k.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>Bs||Math.abs(o.left-t.left)>Bs||Math.abs(o.top-t.top)>Bs||Math.abs(o.width-t.width)>Bs)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function mt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Jz=typeof Symbol=="function"&&Symbol.observable||"@@observable",A0=Jz,Dd=()=>Math.random().toString(36).substring(7).split("").join("."),Xz={INIT:`@@redux/INIT${Dd()}`,REPLACE:`@@redux/REPLACE${Dd()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Dd()}`},kc=Xz;function lp(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function j1(e,t,r){if(typeof e!="function")throw new Error(mt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(mt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(mt(1));return r(j1)(e,t)}let n=e,a=t,i=new Map,o=i,s=0,c=!1;function l(){o===i&&(o=new Map,i.forEach((f,b)=>{o.set(b,f)}))}function u(){if(c)throw new Error(mt(3));return a}function d(f){if(typeof f!="function")throw new Error(mt(4));if(c)throw new Error(mt(5));let b=!0;l();const m=s++;return o.set(m,f),function(){if(b){if(c)throw new Error(mt(6));b=!1,l(),o.delete(m),i=null}}}function h(f){if(!lp(f))throw new Error(mt(7));if(typeof f.type>"u")throw new Error(mt(8));if(typeof f.type!="string")throw new Error(mt(17));if(c)throw new Error(mt(9));try{c=!0,a=n(a,f)}finally{c=!1}return(i=o).forEach(m=>{m()}),f}function p(f){if(typeof f!="function")throw new Error(mt(10));n=f,h({type:kc.REPLACE})}function v(){const f=d;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(mt(11));function m(){const x=b;x.next&&x.next(u())}return m(),{unsubscribe:f(m)}},[A0](){return this}}}return h({type:kc.INIT}),{dispatch:h,subscribe:d,getState:u,replaceReducer:p,[A0]:v}}function Qz(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:kc.INIT})>"u")throw new Error(mt(12));if(typeof r(void 0,{type:kc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(mt(13))})}function N1(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let a;try{Qz(r)}catch(i){a=i}return function(o={},s){if(a)throw a;let c=!1;const l={};for(let u=0;u<n.length;u++){const d=n[u],h=r[d],p=o[d],v=h(p,s);if(typeof v>"u")throw s&&s.type,new Error(mt(14));l[d]=v,c=c||v!==p}return c=c||n.length!==Object.keys(o).length,c?l:o}}function Ec(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function eL(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(mt(15))};const o={getState:a.getState,dispatch:(c,...l)=>i(c,...l)},s=e.map(c=>c(o));return i=Ec(...s)(a.dispatch),{...a,dispatch:i}}}function T1(e){return lp(e)&&"type"in e&&typeof e.type=="string"}var C1=Symbol.for("immer-nothing"),I0=Symbol.for("immer-draftable"),zt=Symbol.for("immer-state");function vr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Yt=Object,Ma=Yt.getPrototypeOf,Oc="constructor",Ml="prototype",Nf="configurable",jc="enumerable",sc="writable",Oi="value",Xr=e=>!!e&&!!e[zt];function _r(e){return e?A1(e)||zl(e)||!!e[I0]||!!e[Oc]?.[I0]||Ll(e)||ql(e):!1}var tL=Yt[Ml][Oc].toString(),R0=new WeakMap;function A1(e){if(!e||!up(e))return!1;const t=Ma(e);if(t===null||t===Yt[Ml])return!0;const r=Yt.hasOwnProperty.call(t,Oc)&&t[Oc];if(r===Object)return!0;if(!_a(r))return!1;let n=R0.get(r);return n===void 0&&(n=Function.toString.call(r),R0.set(r,n)),n===tL}function Dl(e,t,r=!0){Gi(e)===0?(r?Reflect.ownKeys(e):Yt.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Gi(e){const t=e[zt];return t?t.type_:zl(e)?1:Ll(e)?2:ql(e)?3:0}var M0=(e,t,r=Gi(e))=>r===2?e.has(t):Yt[Ml].hasOwnProperty.call(e,t),Tf=(e,t,r=Gi(e))=>r===2?e.get(t):e[t],Nc=(e,t,r,n=Gi(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function rL(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var zl=Array.isArray,Ll=e=>e instanceof Map,ql=e=>e instanceof Set,up=e=>typeof e=="object",_a=e=>typeof e=="function",zd=e=>typeof e=="boolean";function nL(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Wr=e=>e.copy_||e.base_,dp=e=>e.modified_?e.copy_:e.base_;function Cf(e,t){if(Ll(e))return new Map(e);if(ql(e))return new Set(e);if(zl(e))return Array[Ml].slice.call(e);const r=A1(e);if(t===!0||t==="class_only"&&!r){const n=Yt.getOwnPropertyDescriptors(e);delete n[zt];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],s=n[o];s[sc]===!1&&(s[sc]=!0,s[Nf]=!0),(s.get||s.set)&&(n[o]={[Nf]:!0,[sc]:!0,[jc]:s[jc],[Oi]:e[o]})}return Yt.create(Ma(e),n)}else{const n=Ma(e);if(n!==null&&r)return{...e};const a=Yt.create(n);return Yt.assign(a,e)}}function fp(e,t=!1){return Fl(e)||Xr(e)||!_r(e)||(Gi(e)>1&&Yt.defineProperties(e,{set:Ks,add:Ks,clear:Ks,delete:Ks}),Yt.freeze(e),t&&Dl(e,(r,n)=>{fp(n,!0)},!1)),e}function aL(){vr(2)}var Ks={[Oi]:aL};function Fl(e){return e===null||!up(e)?!0:Yt.isFrozen(e)}var Tc="MapSet",Af="Patches",D0="ArrayMethods",I1={};function aa(e){const t=I1[e];return t||vr(0,e),t}var z0=e=>!!I1[e],ji,R1=()=>ji,iL=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:z0(Tc)?aa(Tc):void 0,arrayMethodsPlugin_:z0(D0)?aa(D0):void 0});function L0(e,t){t&&(e.patchPlugin_=aa(Af),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function If(e){Rf(e),e.drafts_.forEach(oL),e.drafts_=null}function Rf(e){e===ji&&(ji=e.parent_)}var q0=e=>ji=iL(ji,e);function oL(e){const t=e[zt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function F0(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[zt].modified_&&(If(t),vr(4)),_r(e)&&(e=U0(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[zt].base_,e,t)}else e=U0(t,r);return sL(t,e,!0),If(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==C1?e:void 0}function U0(e,t){if(Fl(t))return t;const r=t[zt];if(!r)return Cc(t,e.handledSet_,e);if(!Ul(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);z1(r,e)}return r.copy_}function sL(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&fp(t,r)}function M1(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Ul=(e,t)=>e.scope_===t,cL=[];function D1(e,t,r,n){const a=Wr(e),i=e.type_;if(n!==void 0&&Tf(a,n,i)===t){Nc(a,n,r,i);return}if(!e.draftLocations_){const s=e.draftLocations_=new Map;Dl(a,(c,l)=>{if(Xr(l)){const u=s.get(l)||[];u.push(c),s.set(l,u)}})}const o=e.draftLocations_.get(t)??cL;for(const s of o)Nc(a,s,r,i)}function lL(e,t,r){e.callbacks_.push(function(a){const i=t;if(!i||!Ul(i,a))return;a.mapSetPlugin_?.fixSetContents(i);const o=dp(i);D1(e,i.draft_??i,o,r),z1(i,a)})}function z1(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const a=n.getPath(e);a&&n.generatePatches_(e,a,t)}M1(e)}}function uL(e,t,r){const{scope_:n}=e;if(Xr(r)){const a=r[zt];Ul(a,n)&&a.callbacks_.push(function(){cc(e);const o=dp(a);D1(e,r,o,t)})}else _r(r)&&e.callbacks_.push(function(){const i=Wr(e);e.type_===3?i.has(r)&&Cc(r,n.handledSet_,n):Tf(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Cc(Tf(e.copy_,t,e.type_),n.handledSet_,n)})}function Cc(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Xr(e)||t.has(e)||!_r(e)||Fl(e)||(t.add(e),Dl(e,(n,a)=>{if(Xr(a)){const i=a[zt];if(Ul(i,r)){const o=dp(i);Nc(e,n,o,e.type_),M1(i)}}else _r(a)&&Cc(a,t,r)})),e}function dL(e,t){const r=zl(e),n={type_:r?1:0,scope_:t?t.scope_:R1(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,i=Ac;r&&(a=[n],i=Ni);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return n.draft_=s,n.revoke_=o,[s,n]}var Ac={get(e,t){if(t===zt)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r?.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=Wr(e);if(!M0(a,t,e.type_))return fL(e,a,t);const i=a[t];if(e.finalized_||!_r(i)||n&&e.operationMethod&&r?.isMutatingArrayMethod(e.operationMethod)&&nL(t))return i;if(i===Ld(e.base_,t)){cc(e);const o=e.type_===1?+t:t,s=Df(e.scope_,i,e,o);return e.copy_[o]=s}return i},has(e,t){return t in Wr(e)},ownKeys(e){return Reflect.ownKeys(Wr(e))},set(e,t,r){const n=L1(Wr(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Ld(Wr(e),t),i=a?.[zt];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(rL(r,a)&&(r!==void 0||M0(e.base_,t,e.type_)))return!0;cc(e),Mf(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),uL(e,t,r)),!0},deleteProperty(e,t){return cc(e),Ld(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Mf(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Wr(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[sc]:!0,[Nf]:e.type_!==1||t!=="length",[jc]:n[jc],[Oi]:r[t]}},defineProperty(){vr(11)},getPrototypeOf(e){return Ma(e.base_)},setPrototypeOf(){vr(12)}},Ni={};for(let e in Ac){let t=Ac[e];Ni[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}Ni.deleteProperty=function(e,t){return Ni.set.call(this,e,t,void 0)};Ni.set=function(e,t,r){return Ac.set.call(this,e[0],t,r,e[0])};function Ld(e,t){const r=e[zt];return(r?Wr(r):e)[t]}function fL(e,t,r){const n=L1(t,r);return n?Oi in n?n[Oi]:n.get?.call(e.draft_):void 0}function L1(e,t){if(!(t in e))return;let r=Ma(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Ma(r)}}function Mf(e){e.modified_||(e.modified_=!0,e.parent_&&Mf(e.parent_))}function cc(e){e.copy_||(e.assigned_=new Map,e.copy_=Cf(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var hL=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(_a(r)&&!_a(n)){const o=n;n=r;const s=this;return function(l=o,...u){return s.produce(l,d=>n.call(this,d,...u))}}_a(n)||vr(6),a!==void 0&&!_a(a)&&vr(7);let i;if(_r(r)){const o=q0(this),s=Df(o,r,void 0);let c=!0;try{i=n(s),c=!1}finally{c?If(o):Rf(o)}return L0(o,a),F0(i,o)}else if(!r||!up(r)){if(i=n(r),i===void 0&&(i=r),i===C1&&(i=void 0),this.autoFreeze_&&fp(i,!0),a){const o=[],s=[];aa(Af).generateReplacementPatches_(r,i,{patches_:o,inversePatches_:s}),a(o,s)}return i}else vr(1,r)},this.produceWithPatches=(r,n)=>{if(_a(r))return(s,...c)=>this.produceWithPatches(s,l=>r(l,...c));let a,i;return[this.produce(r,n,(s,c)=>{a=s,i=c}),a,i]},zd(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),zd(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),zd(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){_r(t)||vr(8),Xr(t)&&(t=br(t));const r=q0(this),n=Df(r,t,void 0);return n[zt].isManual_=!0,Rf(r),n}finishDraft(t,r){const n=t&&t[zt];(!n||!n.isManual_)&&vr(9);const{scope_:a}=n;return L0(a,r),F0(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const i=r[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(r=r.slice(n+1));const a=aa(Af).applyPatches_;return Xr(t)?a(t,r):this.produce(t,i=>a(i,r))}};function Df(e,t,r,n){const[a,i]=Ll(t)?aa(Tc).proxyMap_(t,r):ql(t)?aa(Tc).proxySet_(t,r):dL(t,r);return(r?.scope_??R1()).drafts_.push(a),i.callbacks_=r?.callbacks_??[],i.key_=n,r&&n!==void 0?lL(r,i,n):i.callbacks_.push(function(c){c.mapSetPlugin_?.fixSetContents(i);const{patchPlugin_:l}=c;i.modified_&&l&&l.generatePatches_(i,[],c)}),a}function br(e){return Xr(e)||vr(10,e),q1(e)}function q1(e){if(!_r(e)||Fl(e))return e;const t=e[zt];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Cf(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Cf(e,!0);return Dl(r,(a,i)=>{Nc(r,a,q1(i))},n),t&&(t.finalized_=!1),r}var pL=new hL,F1=pL.produce;function U1(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var mL=U1(),vL=U1,yL=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ec:Ec.apply(null,arguments)};function sr(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Jt(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>T1(n)&&n.type===e,r}var V1=class gi extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,gi.prototype)}static get[Symbol.species](){return gi}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new gi(...t[0].concat(this)):new gi(...t.concat(this))}};function V0(e){return _r(e)?F1(e,()=>{}):e}function Ws(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function gL(e){return typeof e=="boolean"}var bL=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new V1;return r&&(gL(r)?o.push(mL):o.push(vL(r.extraArgument))),o},B1="RTK_autoBatch",qe=()=>e=>({payload:e,meta:{[B1]:!0}}),B0=e=>t=>{setTimeout(t,e)},K1=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,o=!1;const s=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:B0(10):e.type==="callback"?e.queueNotification:B0(e.timeout),l=()=>{o=!1,i&&(i=!1,s.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const d=()=>a&&u(),h=n.subscribe(d);return s.add(u),()=>{h(),s.delete(u)}},dispatch(u){try{return a=!u?.meta?.[B1],i=!a,i&&(o||(o=!0,c(l))),n.dispatch(u)}finally{a=!0}}})},wL=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new V1(e);return n&&a.push(K1(typeof n=="object"?n:void 0)),a};function _L(e){const t=bL(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let s;if(typeof r=="function")s=r;else if(lp(r))s=N1(r);else throw new Error(Jt(1));let c;typeof n=="function"?c=n(t):c=t();let l=Ec;a&&(l=yL({trace:!1,...typeof a=="object"&&a}));const u=eL(...c),d=wL(u);let h=typeof o=="function"?o(d):d();const p=l(...h);return j1(s,i,p)}function W1(e){const t={},r=[];let n;const a={addCase(i,o){const s=typeof i=="string"?i:i.type;if(!s)throw new Error(Jt(28));if(s in t)throw new Error(Jt(29));return t[s]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function xL(e){return typeof e=="function"}function SL(e,t){let[r,n,a]=W1(t),i;if(xL(e))i=()=>V0(e());else{const s=V0(e);i=()=>s}function o(s=i(),c){let l=[r[c.type],...n.filter(({matcher:u})=>u(c)).map(({reducer:u})=>u)];return l.filter(u=>!!u).length===0&&(l=[a]),l.reduce((u,d)=>{if(d)if(Xr(u)){const p=d(u,c);return p===void 0?u:p}else{if(_r(u))return F1(u,h=>d(h,c));{const h=d(u,c);if(h===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return u},s)}return o.getInitialState=i,o}var PL="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",$L=(e=21)=>{let t="",r=e;for(;r--;)t+=PL[Math.random()*64|0];return t},kL=Symbol.for("rtk-slice-createasyncthunk");function EL(e,t){return`${e}/${t}`}function OL({creators:e}={}){const t=e?.asyncThunk?.[kL];return function(n){const{name:a,reducerPath:i=a}=n;if(!a)throw new Error(Jt(11));const o=(typeof n.reducers=="function"?n.reducers(NL()):n.reducers)||{},s=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},l={addCase(y,x){const g=typeof y=="string"?y:y.type;if(!g)throw new Error(Jt(12));if(g in c.sliceCaseReducersByType)throw new Error(Jt(13));return c.sliceCaseReducersByType[g]=x,l},addMatcher(y,x){return c.sliceMatchers.push({matcher:y,reducer:x}),l},exposeAction(y,x){return c.actionCreators[y]=x,l},exposeCaseReducer(y,x){return c.sliceCaseReducersByName[y]=x,l}};s.forEach(y=>{const x=o[y],g={reducerName:y,type:EL(a,y),createNotation:typeof n.reducers=="function"};CL(x)?IL(g,x,l,t):TL(g,x,l)});function u(){const[y={},x=[],g=void 0]=typeof n.extraReducers=="function"?W1(n.extraReducers):[n.extraReducers],_={...y,...c.sliceCaseReducersByType};return SL(n.initialState,S=>{for(let E in _)S.addCase(E,_[E]);for(let E of c.sliceMatchers)S.addMatcher(E.matcher,E.reducer);for(let E of x)S.addMatcher(E.matcher,E.reducer);g&&S.addDefaultCase(g)})}const d=y=>y,h=new Map,p=new WeakMap;let v;function w(y,x){return v||(v=u()),v(y,x)}function f(){return v||(v=u()),v.getInitialState()}function b(y,x=!1){function g(S){let E=S[y];return typeof E>"u"&&x&&(E=Ws(p,g,f)),E}function _(S=d){const E=Ws(h,x,()=>new WeakMap);return Ws(E,S,()=>{const I={};for(const[L,R]of Object.entries(n.selectors??{}))I[L]=jL(R,S,()=>Ws(p,S,f),x);return I})}return{reducerPath:y,getSelectors:_,get selectors(){return _(g)},selectSlice:g}}const m={name:a,reducer:w,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:f,...b(i),injectInto(y,{reducerPath:x,...g}={}){const _=x??i;return y.inject({reducerPath:_,reducer:w},g),{...m,...b(_,!0)}}};return m}}function jL(e,t,r,n){function a(i,...o){let s=t(i);return typeof s>"u"&&n&&(s=r()),e(s,...o)}return a.unwrapped=e,a}var Kt=OL();function NL(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function TL({type:e,reducerName:t,createNotation:r},n,a){let i,o;if("reducer"in n){if(r&&!AL(n))throw new Error(Jt(17));i=n.reducer,o=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?sr(e,o):sr(e))}function CL(e){return e._reducerDefinitionType==="asyncThunk"}function AL(e){return e._reducerDefinitionType==="reducerWithPrepare"}function IL({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Jt(18));const{payloadCreator:i,fulfilled:o,pending:s,rejected:c,settled:l,options:u}=r,d=a(e,i,u);n.exposeAction(t,d),o&&n.addCase(d.fulfilled,o),s&&n.addCase(d.pending,s),c&&n.addCase(d.rejected,c),l&&n.addMatcher(d.settled,l),n.exposeCaseReducer(t,{fulfilled:o||Hs,pending:s||Hs,rejected:c||Hs,settled:l||Hs})}function Hs(){}var RL="task",H1="listener",Z1="completed",hp="cancelled",ML=`task-${hp}`,DL=`task-${Z1}`,zf=`${H1}-${hp}`,zL=`${H1}-${Z1}`,Vl=class{constructor(e){this.code=e,this.message=`${RL} ${hp} (reason: ${e})`}name="TaskAbortError";message},pp=(e,t)=>{if(typeof e!="function")throw new TypeError(Jt(32))},Ic=()=>{},G1=(e,t=Ic)=>(e.catch(t),e),Y1=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Xn=e=>{if(e.aborted)throw new Vl(e.reason)};function J1(e,t){let r=Ic;return new Promise((n,a)=>{const i=()=>a(new Vl(e.reason));if(e.aborted){i();return}r=Y1(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Ic})}var LL=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Vl?"cancelled":"rejected",error:r}}finally{t?.()}},Rc=e=>t=>G1(J1(e,t).then(r=>(Xn(e),r))),X1=e=>{const t=Rc(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Na}=Object,K0={},Bl="listenerMiddleware",qL=(e,t)=>{const r=n=>Y1(e,()=>n.abort(e.reason));return(n,a)=>{pp(n);const i=new AbortController;r(i);const o=LL(async()=>{Xn(e),Xn(i.signal);const s=await n({pause:Rc(i.signal),delay:X1(i.signal),signal:i.signal});return Xn(i.signal),s},()=>i.abort(DL));return a?.autoJoin&&t.push(o.catch(Ic)),{result:Rc(e)(o),cancel(){i.abort(ML)}}}},FL=(e,t)=>{const r=async(n,a)=>{Xn(t);let i=()=>{};const s=[new Promise((c,l)=>{let u=e({predicate:n,effect:(d,h)=>{h.unsubscribe(),c([d,h.getState(),h.getOriginalState()])}});i=()=>{u(),l()}})];a!=null&&s.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await J1(t,Promise.race(s));return Xn(t),c}finally{i()}};return(n,a)=>G1(r(n,a))},Q1=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=sr(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Jt(21));return pp(i),{predicate:a,type:t,effect:i}},eP=Na(e=>{const{type:t,predicate:r,effect:n}=Q1(e);return{id:$L(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Jt(22))}}},{withTypes:()=>eP}),W0=(e,t)=>{const{type:r,effect:n,predicate:a}=Q1(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},Lf=e=>{e.pending.forEach(t=>{t.abort(zf)})},UL=(e,t)=>()=>{for(const r of t.keys())Lf(r);e.clear()},H0=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},tP=Na(sr(`${Bl}/add`),{withTypes:()=>tP}),VL=sr(`${Bl}/removeAll`),rP=Na(sr(`${Bl}/remove`),{withTypes:()=>rP}),BL=(...e)=>{console.error(`${Bl}/error`,...e)},Yi=(e={})=>{const t=new Map,r=new Map,n=p=>{const v=r.get(p)??0;r.set(p,v+1)},a=p=>{const v=r.get(p)??1;v===1?r.delete(p):r.set(p,v-1)},{extra:i,onError:o=BL}=e;pp(o);const s=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),v=>{p.unsubscribe(),v?.cancelActive&&Lf(p)}),c=p=>{const v=W0(t,p)??eP(p);return s(v)};Na(c,{withTypes:()=>c});const l=p=>{const v=W0(t,p);return v&&(v.unsubscribe(),p.cancelActive&&Lf(v)),!!v};Na(l,{withTypes:()=>l});const u=async(p,v,w,f)=>{const b=new AbortController,m=FL(c,b.signal),y=[];try{p.pending.add(b),n(p),await Promise.resolve(p.effect(v,Na({},w,{getOriginalState:f,condition:(x,g)=>m(x,g).then(Boolean),take:m,delay:X1(b.signal),pause:Rc(b.signal),extra:i,signal:b.signal,fork:qL(b.signal,y),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((x,g,_)=>{x!==b&&(x.abort(zf),_.delete(x))})},cancel:()=>{b.abort(zf),p.pending.delete(b)},throwIfCancelled:()=>{Xn(b.signal)}})))}catch(x){x instanceof Vl||H0(o,x,{raisedBy:"effect"})}finally{await Promise.all(y),b.abort(zL),a(p),p.pending.delete(b)}},d=UL(t,r);return{middleware:p=>v=>w=>{if(!T1(w))return v(w);if(tP.match(w))return c(w.payload);if(VL.match(w)){d();return}if(rP.match(w))return l(w.payload);let f=p.getState();const b=()=>{if(f===K0)throw new Error(Jt(23));return f};let m;try{if(m=v(w),t.size>0){const y=p.getState(),x=Array.from(t.values());for(const g of x){let _=!1;try{_=g.predicate(w,y,f)}catch(S){_=!1,H0(o,S,{raisedBy:"predicate"})}_&&u(g,w,p,b)}}}finally{f=K0}return m},startListening:c,stopListening:l,clearListeners:d}};function Jt(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var KL={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},nP=Kt({name:"chartLayout",initialState:KL,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:WL,setLayout:HL,setChartSize:ZL,setScale:GL}=nP.actions,YL=nP.reducer;function aP(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function xe(e){return Number.isFinite(e)}function Rr(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Z0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ka(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z0(Object(r),!0).forEach(function(n){JL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JL(e,t,r){return(t=XL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XL(e){var t=QL(e,"string");return typeof t=="symbol"?t:t+""}function QL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _t(e,t,r){return Nt(e)||Nt(t)?r:Ir(t)?Il(e,t,r):typeof t=="function"?t(e):r}var eq=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&i!=="center"&&se(e[i]))return ka(ka({},e),{},{[i]:e[i]+(n||0)});if((s==="horizontal"||s==="vertical"&&i==="center")&&o!=="middle"&&se(e[o]))return ka(ka({},e),{},{[o]:e[o]+(a||0)})}return e},Dr=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",iP=(e,t,r,n)=>{if(n)return e.map(s=>s.coordinate);var a,i,o=e.map(s=>(s.coordinate===t&&(a=!0),s.coordinate===r&&(i=!0),s.coordinate));return a||o.push(t),i||o.push(r),o},oP=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:o,realScaleType:s,isCategorical:c,categoricalDomain:l,tickCount:u,ticks:d,niceTicks:h,axisType:p}=e;if(!o)return null;var v=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,w=a==="category"&&o.bandwidth?o.bandwidth()/v:0;if(w=p==="angleAxis"&&i&&i.length>=2?ar(i[0]-i[1])*2*w:w,d||h){var f=(d||h||[]).map((b,m)=>{var y=n?n.indexOf(b):b,x=o.map(y);return xe(x)?{coordinate:x+w,value:b,offset:w,index:m}:null}).filter(Ut);return f}return c&&l?l.map((b,m)=>{var y=o.map(b);return xe(y)?{coordinate:y+w,value:b,index:m,offset:w}:null}).filter(Ut):o.ticks&&u!=null?o.ticks(u).map((b,m)=>{var y=o.map(b);return xe(y)?{coordinate:y+w,value:b,index:m,offset:w}:null}).filter(Ut):o.domain().map((b,m)=>{var y=o.map(b);return xe(y)?{coordinate:y+w,value:n?n[b]:b,index:m,offset:w}:null}).filter(Ut)},tq=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,o=0,s=0;s<r;++s){var c=e[s],l=c?.[a];if(l!=null){var u=l[1],d=l[0],h=Ar(u)?d:u;h>=0?(l[0]=i,i+=h,l[1]=i):(l[0]=o,o+=h,l[1]=o)}}}},rq=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,o=0;o<r;++o){var s=e[o],c=s?.[a];if(c!=null){var l=Ar(c[1])?c[0]:c[1];l>=0?(c[0]=i,i+=l,c[1]=i):(c[0]=0,c[1]=0)}}}},nq={sign:tq,expand:F2,none:ra,silhouette:U2,wiggle:V2,positive:rq},aq=(e,t,r)=>{var n,a=(n=nq[r])!==null&&n!==void 0?n:ra,i=q2().keys(t).value((s,c)=>Number(_t(s,c,0))).order(jf).offset(a),o=i(e);return o.forEach((s,c)=>{s.forEach((l,u)=>{var d=_t(e[u],t[c],0);Array.isArray(d)&&d.length===2&&se(d[0])&&se(d[1])&&(l[0]=d[0],l[1]=d[1])})}),o};function iq(e){return e==null?void 0:String(e)}function G0(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Nt(a[t.dataKey])){var s=m1(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r!=null&&r[i]?r[i].coordinate+n/2:null}var c=_t(a,Nt(o)?t.dataKey:o),l=t.scale.map(c);return se(l)?l:null}var oq=e=>{var t=e.flat(2).filter(se);return[Math.min(...t),Math.max(...t)]},sq=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],cq=(e,t,r)=>{if(e!=null)return sq(Object.keys(e).reduce((n,a)=>{var i=e[a];if(!i)return n;var{stackedData:o}=i,s=o.reduce((c,l)=>{var u=aP(l,t,r),d=oq(u);return!xe(d[0])||!xe(d[1])?c:[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]))},Y0=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,J0=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Mc=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Rl(t,u=>u.coordinate),i=1/0,o=1,s=a.length;o<s;o++){var c=a[o],l=a[o-1];i=Math.min((c?.coordinate||0)-(l?.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function X0(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return ka(ka({},t),{},{dataKey:r,payload:n,value:a,name:i})}function sP(e,t){if(e)return String(e);if(typeof t=="string")return t}var lq=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},uq=(e,t)=>t==="centric"?e.angle:e.radius,on=e=>e.layout.width,sn=e=>e.layout.height,dq=e=>e.layout.scale,cP=e=>e.layout.margin,Kl=H(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Wl=H(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),fq="data-recharts-item-index",hq="data-recharts-item-id",Ji=60;function Q0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q0(Object(r),!0).forEach(function(n){pq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q0(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pq(e,t,r){return(t=mq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mq(e){var t=vq(e,"string");return typeof t=="symbol"?t:t+""}function vq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yq=e=>e.brush.height;function gq(e){var t=Wl(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Ji;return r+a}return r},0)}function bq(e){var t=Wl(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Ji;return r+a}return r},0)}function wq(e){var t=Kl(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function _q(e){var t=Kl(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var $t=H([on,sn,cP,yq,gq,bq,wq,_q,O1,Zz],(e,t,r,n,a,i,o,s,c,l)=>{var u={left:(r.left||0)+a,right:(r.right||0)+i},d={top:(r.top||0)+o,bottom:(r.bottom||0)+s},h=Zs(Zs({},d),u),p=h.bottom;h.bottom+=n,h=eq(h,c,l);var v=e-h.left-h.right,w=t-h.top-h.bottom;return Zs(Zs({brushBottom:p},h),{},{width:Math.max(v,0),height:Math.max(w,0)})}),xq=H($t,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),lP=H(on,sn,(e,t)=>({x:0,y:0,width:e,height:t})),Sq=k.createContext(null),Wt=()=>k.useContext(Sq)!=null,Hl=e=>e.brush,Zl=H([Hl,$t,cP],(e,t,r)=>({height:e.height,x:se(e.x)?e.x:t.left,y:se(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:se(e.width)?e.width:t.width})),qd={},Fd={},Ud={},eb;function Pq(){return eb||(eb=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let o,s=null;const c=i!=null&&i.includes("leading"),l=i==null||i.includes("trailing"),u=()=>{s!==null&&(r.apply(o,s),o=void 0,s=null)},d=()=>{l&&u(),w()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,d()},n)},v=()=>{h!==null&&(clearTimeout(h),h=null)},w=()=>{v(),o=void 0,s=null},f=()=>{u()},b=function(...m){if(a?.aborted)return;o=this,s=m;const y=h==null;p(),c&&y&&u()};return b.schedule=p,b.cancel=w,b.flush=f,a?.addEventListener("abort",w,{once:!0}),b}e.debounce=t})(Ud)),Ud}var tb;function $q(){return tb||(tb=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pq();function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:s=!0,maxWait:c}=i,l=Array(2);o&&(l[0]="leading"),s&&(l[1]="trailing");let u,d=null;const h=t.debounce(function(...w){u=n.apply(this,w),d=null},a,{edges:l}),p=function(...w){return c!=null&&(d===null&&(d=Date.now()),Date.now()-d>=c)?(u=n.apply(this,w),d=Date.now(),h.cancel(),h.schedule(),u):(h.apply(this,w),u)},v=()=>(h.flush(),u);return p.cancel=h.cancel,p.flush=v,p}e.debounce=r})(Fd)),Fd}var rb;function kq(){return rb||(rb=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$q();function r(n,a=0,i={}){const{leading:o=!0,trailing:s=!0}=i;return t.debounce(n,a,{leading:o,maxWait:a,trailing:s})}e.throttle=r})(qd)),qd}var Vd,nb;function Eq(){return nb||(nb=1,Vd=kq().throttle),Vd}var Oq=Eq();const jq=an(Oq);var Dc=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>a[o++]))}},jr={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},uP=(e,t,r)=>{var{width:n=jr.width,height:a=jr.height,aspect:i,maxHeight:o}=r,s=na(n)?e:Number(n),c=na(a)?t:Number(a);return i&&i>0&&(s?c=s/i:c&&(s=c*i),o&&c!=null&&c>o&&(c=o)),{calculatedWidth:s,calculatedHeight:c}},Nq={width:0,height:0,overflow:"visible"},Tq={width:0,overflowX:"visible"},Cq={height:0,overflowY:"visible"},Aq={},Iq=e=>{var{width:t,height:r}=e,n=na(t),a=na(r);return n&&a?Nq:n?Tq:a?Cq:Aq};function Rq(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a=jr.width,i=jr.height):a===void 0?a=n&&n>0?void 0:jr.width:i===void 0&&(i=n&&n>0?void 0:jr.height),{width:a,height:i}}function qf(){return qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qf.apply(null,arguments)}function ab(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ib(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ab(Object(r),!0).forEach(function(n){Mq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ab(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mq(e,t,r){return(t=Dq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dq(e){var t=zq(e,"string");return typeof t=="symbol"?t:t+""}function zq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dP=k.createContext(jr.initialDimension);function Lq(e){return Rr(e.width)&&Rr(e.height)}function fP(e){var{children:t,width:r,height:n}=e,a=k.useMemo(()=>({width:r,height:n}),[r,n]);return Lq(a)?k.createElement(dP.Provider,{value:a},t):null}var mp=()=>k.useContext(dP),qq=k.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=jr.initialDimension,width:a,height:i,minWidth:o=jr.minWidth,minHeight:s,maxHeight:c,children:l,debounce:u=jr.debounce,id:d,className:h,onResize:p,style:v={}}=e,w=k.useRef(null),f=k.useRef();f.current=p,k.useImperativeHandle(t,()=>w.current);var[b,m]=k.useState({containerWidth:n.width,containerHeight:n.height}),y=k.useCallback((E,I)=>{m(L=>{var R=Math.round(E),C=Math.round(I);return L.containerWidth===R&&L.containerHeight===C?L:{containerWidth:R,containerHeight:C}})},[]);k.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return Ka;var E=C=>{var U,B=C[0];if(B!=null){var{width:Q,height:ae}=B.contentRect;y(Q,ae),(U=f.current)===null||U===void 0||U.call(f,Q,ae)}};u>0&&(E=jq(E,u,{trailing:!0,leading:!1}));var I=new ResizeObserver(E),{width:L,height:R}=w.current.getBoundingClientRect();return y(L,R),I.observe(w.current),()=>{I.disconnect()}},[y,u]);var{containerWidth:x,containerHeight:g}=b;Dc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:_,calculatedHeight:S}=uP(x,g,{width:a,height:i,aspect:r,maxHeight:c});return Dc(_!=null&&_>0||S!=null&&S>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,_,S,a,i,o,s,r),k.createElement("div",{id:d?"".concat(d):void 0,className:De("recharts-responsive-container",h),style:ib(ib({},v),{},{width:a,height:i,minWidth:o,minHeight:s,maxHeight:c}),ref:w},k.createElement("div",{style:Iq({width:a,height:i})},k.createElement(fP,{width:_,height:S},l)))}),Fq=k.forwardRef((e,t)=>{var r=mp();if(Rr(r.width)&&Rr(r.height))return e.children;var{width:n,height:a}=Rq({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=uP(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return se(i)&&se(o)?k.createElement(fP,{width:i,height:o},e.children):k.createElement(qq,qf({},e,{width:n,height:a,ref:t}))});function vp(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Gl=()=>{var e,t=Wt(),r=de(xq),n=de(Zl),a=(e=de(Hl))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},Uq={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},hP=()=>{var e;return(e=de($t))!==null&&e!==void 0?e:Uq},pP=()=>de(on),mP=()=>de(sn),Ke=e=>e.layout.layoutType,Wa=()=>de(Ke),yp=()=>{var e=Wa();if(e==="horizontal"||e==="vertical")return e},vP=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},Vq=()=>{var e=Wa();return e!==void 0},Xi=e=>{var t=lt(),r=Wt(),{width:n,height:a}=e,i=mp(),o=n,s=a;return i&&(o=i.width>0?i.width:n,s=i.height>0?i.height:a),k.useEffect(()=>{!r&&Rr(o)&&Rr(s)&&t(ZL({width:o,height:s}))},[t,r,o,s]),null},yP=Symbol.for("immer-nothing"),ob=Symbol.for("immer-draftable"),Xt=Symbol.for("immer-state");function yr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ti=Object.getPrototypeOf;function Da(e){return!!e&&!!e[Xt]}function ia(e){return e?gP(e)||Array.isArray(e)||!!e[ob]||!!e.constructor?.[ob]||Qi(e)||Jl(e):!1}var Bq=Object.prototype.constructor.toString(),sb=new WeakMap;function gP(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=sb.get(r);return n===void 0&&(n=Function.toString.call(r),sb.set(r,n)),n===Bq}function zc(e,t,r=!0){Yl(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Yl(e){const t=e[Xt];return t?t.type_:Array.isArray(e)?1:Qi(e)?2:Jl(e)?3:0}function Ff(e,t){return Yl(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function bP(e,t,r){const n=Yl(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Kq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Qi(e){return e instanceof Map}function Jl(e){return e instanceof Set}function Wn(e){return e.copy_||e.base_}function Uf(e,t){if(Qi(e))return new Map(e);if(Jl(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=gP(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Xt];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],s=n[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(Ti(e),n)}else{const n=Ti(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function gp(e,t=!1){return Xl(e)||Da(e)||!ia(e)||(Yl(e)>1&&Object.defineProperties(e,{set:Gs,add:Gs,clear:Gs,delete:Gs}),Object.freeze(e),t&&Object.values(e).forEach(r=>gp(r,!0))),e}function Wq(){yr(2)}var Gs={value:Wq};function Xl(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Hq={};function oa(e){const t=Hq[e];return t||yr(0,e),t}var Ci;function wP(){return Ci}function Zq(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function cb(e,t){t&&(oa("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Vf(e){Bf(e),e.drafts_.forEach(Gq),e.drafts_=null}function Bf(e){e===Ci&&(Ci=e.parent_)}function lb(e){return Ci=Zq(Ci,e)}function Gq(e){const t=e[Xt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ub(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Xt].modified_&&(Vf(t),yr(4)),ia(e)&&(e=Lc(t,e),t.parent_||qc(t,e)),t.patches_&&oa("Patches").generateReplacementPatches_(r[Xt].base_,e,t.patches_,t.inversePatches_)):e=Lc(t,r,[]),Vf(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==yP?e:void 0}function Lc(e,t,r){if(Xl(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[Xt];if(!a)return zc(t,(i,o)=>db(e,a,t,i,o,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return qc(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,s=!1;a.type_===3&&(o=new Set(i),i.clear(),s=!0),zc(o,(c,l)=>db(e,a,i,c,l,r,s),n),qc(e,i,!1),r&&e.patches_&&oa("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function db(e,t,r,n,a,i,o){if(a==null||typeof a!="object"&&!o)return;const s=Xl(a);if(!(s&&!o)){if(Da(a)){const c=i&&t&&t.type_!==3&&!Ff(t.assigned_,n)?i.concat(n):void 0,l=Lc(e,a,c);if(bP(r,n,l),Da(l))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(ia(a)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&s)return;Lc(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Qi(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&qc(e,a)}}}function qc(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&gp(t,r)}function Yq(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:wP(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=bp;r&&(a=[n],i=Ai);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return n.draft_=s,n.revoke_=o,s}var bp={get(e,t){if(t===Xt)return e;const r=Wn(e);if(!Ff(r,t))return Jq(e,r,t);const n=r[t];return e.finalized_||!ia(n)?n:n===Bd(e.base_,t)?(Kd(e),e.copy_[t]=Wf(n,e)):n},has(e,t){return t in Wn(e)},ownKeys(e){return Reflect.ownKeys(Wn(e))},set(e,t,r){const n=_P(Wn(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Bd(Wn(e),t),i=a?.[Xt];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Kq(r,a)&&(r!==void 0||Ff(e.base_,t)))return!0;Kd(e),Kf(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Bd(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Kd(e),Kf(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Wn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){yr(11)},getPrototypeOf(e){return Ti(e.base_)},setPrototypeOf(){yr(12)}},Ai={};zc(bp,(e,t)=>{Ai[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Ai.deleteProperty=function(e,t){return Ai.set.call(this,e,t,void 0)};Ai.set=function(e,t,r){return bp.set.call(this,e[0],t,r,e[0])};function Bd(e,t){const r=e[Xt];return(r?Wn(r):e)[t]}function Jq(e,t,r){const n=_P(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function _P(e,t){if(!(t in e))return;let r=Ti(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Ti(r)}}function Kf(e){e.modified_||(e.modified_=!0,e.parent_&&Kf(e.parent_))}function Kd(e){e.copy_||(e.copy_=Uf(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Xq=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(c=i,...l){return o.produce(c,u=>r.call(this,u,...l))}}typeof r!="function"&&yr(6),n!==void 0&&typeof n!="function"&&yr(7);let a;if(ia(t)){const i=lb(this),o=Wf(t,void 0);let s=!0;try{a=r(o),s=!1}finally{s?Vf(i):Bf(i)}return cb(i,n),ub(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===yP&&(a=void 0),this.autoFreeze_&&gp(a,!0),n){const i=[],o=[];oa("Patches").generateReplacementPatches_(t,a,i,o),n(i,o)}return a}else yr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...s)=>this.produceWithPatches(o,c=>t(c,...s));let n,a;return[this.produce(t,r,(o,s)=>{n=o,a=s}),n,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ia(e)||yr(8),Da(e)&&(e=Qq(e));const t=lb(this),r=Wf(e,void 0);return r[Xt].isManual_=!0,Bf(t),r}finishDraft(e,t){const r=e&&e[Xt];(!r||!r.isManual_)&&yr(9);const{scope_:n}=r;return cb(n,t),ub(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=oa("Patches").applyPatches_;return Da(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Wf(e,t){const r=Qi(e)?oa("MapSet").proxyMap_(e,t):Jl(e)?oa("MapSet").proxySet_(e,t):Yq(e,t);return(t?t.scope_:wP()).drafts_.push(r),r}function Qq(e){return Da(e)||yr(10,e),xP(e)}function xP(e){if(!ia(e)||Xl(e))return e;const t=e[Xt];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Uf(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Uf(e,!0);return zc(r,(a,i)=>{bP(r,a,xP(i))},n),t&&(t.finalized_=!1),r}var eF=new Xq;eF.produce;var tF={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},SP=Kt({name:"legend",initialState:tF,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:qe()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=br(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:qe()},removeLegendPayload:{reducer(e,t){var r=br(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:qe()}}}),{setLegendSize:n8,setLegendSettings:a8,addLegendPayload:rF,replaceLegendPayload:nF,removeLegendPayload:aF}=SP.actions,iF=SP.reducer;function Hf(){return Hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hf.apply(null,arguments)}function fb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function li(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fb(Object(r),!0).forEach(function(n){oF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oF(e,t,r){return(t=sF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sF(e){var t=cF(e,"string");return typeof t=="symbol"?t:t+""}function cF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lF(e){return Array.isArray(e)&&Ir(e[0])&&Ir(e[1])?e.join(" ~ "):e}var ya={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},uF=e=>{var{separator:t=ya.separator,contentStyle:r,itemStyle:n,labelStyle:a=ya.labelStyle,payload:i,formatter:o,itemSorter:s,wrapperClassName:c,labelClassName:l,label:u,labelFormatter:d,accessibilityLayer:h=ya.accessibilityLayer}=e,p=()=>{if(i&&i.length){var g={padding:0,margin:0},_=(s?Rl(i,s):i).map((S,E)=>{if(S.type==="none")return null;var I=S.formatter||o||lF,{value:L,name:R}=S,C=L,U=R;if(I){var B=I(L,R,S,E,i);if(Array.isArray(B))[C,U]=B;else if(B!=null)C=B;else return null}var Q=li(li({},ya.itemStyle),{},{color:S.color||ya.itemStyle.color},n);return k.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:Q},Ir(U)?k.createElement("span",{className:"recharts-tooltip-item-name"},U):null,Ir(U)?k.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,k.createElement("span",{className:"recharts-tooltip-item-value"},C),k.createElement("span",{className:"recharts-tooltip-item-unit"},S.unit||""))});return k.createElement("ul",{className:"recharts-tooltip-item-list",style:g},_)}return null},v=li(li({},ya.contentStyle),r),w=li({margin:0},a),f=!Nt(u),b=f?u:"",m=De("recharts-default-tooltip",c),y=De("recharts-tooltip-label",l);f&&d&&i!==void 0&&i!==null&&(b=d(u,i));var x=h?{role:"status","aria-live":"assertive"}:{};return k.createElement("div",Hf({className:m,style:v},x),k.createElement("p",{className:y,style:w},k.isValidElement(b)?b:"".concat(b)),p())},ui="recharts-tooltip-wrapper",dF={visibility:"hidden"};function fF(e){var{coordinate:t,translateX:r,translateY:n}=e;return De(ui,{["".concat(ui,"-right")]:se(r)&&t&&se(t.x)&&r>=t.x,["".concat(ui,"-left")]:se(r)&&t&&se(t.x)&&r<t.x,["".concat(ui,"-bottom")]:se(n)&&t&&se(t.y)&&n>=t.y,["".concat(ui,"-top")]:se(n)&&t&&se(t.y)&&n<t.y})}function hb(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:a,position:i,reverseDirection:o,tooltipDimension:s,viewBox:c,viewBoxDimension:l}=e;if(i&&se(i[n]))return i[n];var u=r[n]-s-(a>0?a:0),d=r[n]+a;if(t[n])return o[n]?u:d;var h=c[n];if(h==null)return 0;if(o[n]){var p=u,v=h;return p<v?Math.max(d,h):Math.max(u,h)}if(l==null)return 0;var w=d+s,f=h+l;return w>f?Math.max(u,h):Math.max(d,h)}function hF(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function pF(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:a,position:i,reverseDirection:o,tooltipBox:s,useTranslate3d:c,viewBox:l}=e,u,d,h;return s.height>0&&s.width>0&&r?(d=hb({allowEscapeViewBox:t,coordinate:r,key:"x",offset:a,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),h=hb({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=hF({translateX:d,translateY:h,useTranslate3d:c})):u=dF,{cssProperties:u,cssClasses:fF({translateX:d,translateY:h,coordinate:r})}}function pb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ys(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pb(Object(r),!0).forEach(function(n){Zf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zf(e,t,r){return(t=mF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mF(e){var t=vF(e,"string");return typeof t=="symbol"?t:t+""}function vF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class yF extends k.PureComponent{constructor(){super(...arguments),Zf(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Zf(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:o,hasPayload:s,isAnimationActive:c,offset:l,position:u,reverseDirection:d,useTranslate3d:h,viewBox:p,wrapperStyle:v,lastBoundingBox:w,innerRef:f,hasPortalFromProps:b}=this.props,m=typeof l=="number"?l:l.x,y=typeof l=="number"?l:l.y,{cssClasses:x,cssProperties:g}=pF({allowEscapeViewBox:r,coordinate:o,offsetLeft:m,offsetTop:y,position:u,reverseDirection:d,tooltipBox:{height:w.height,width:w.width},useTranslate3d:h,viewBox:p}),_=b?{}:Ys(Ys({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},g),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),S=Ys(Ys({},_),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},v);return k.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:x,style:S,ref:f},i)}}var PP=()=>{var e;return(e=de(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Gf(){return Gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gf.apply(null,arguments)}function mb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mb(Object(r),!0).forEach(function(n){gF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gF(e,t,r){return(t=bF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bF(e){var t=wF(e,"string");return typeof t=="symbol"?t:t+""}function wF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yb={curveBasisClosed:j2,curveBasisOpen:N2,curveBasis:O2,curveBumpX:k2,curveBumpY:E2,curveLinearClosed:T2,curveLinear:Cl,curveMonotoneX:C2,curveMonotoneY:A2,curveNatural:I2,curveStep:R2,curveStepAfter:D2,curveStepBefore:M2},Fc=e=>xe(e.x)&&xe(e.y),gb=e=>e.base!=null&&Fc(e.base)&&Fc(e),di=e=>e.x,fi=e=>e.y,_F=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(ap(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=yb["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return yb[r]||Cl},bb={connectNulls:!1,type:"linear"},xF=e=>{var{type:t=bb.type,points:r=[],baseLine:n,layout:a,connectNulls:i=bb.connectNulls}=e,o=_F(t,a),s=i?r.filter(Fc):r;if(Array.isArray(n)){var c,l=r.map((v,w)=>vb(vb({},v),{},{base:n[w]}));a==="vertical"?c=Us().y(fi).x1(di).x0(v=>v.base.x):c=Us().x(di).y1(fi).y0(v=>v.base.y);var u=c.defined(gb).curve(o),d=i?l.filter(gb):l;return u(d)}var h;a==="vertical"&&se(n)?h=Us().y(fi).x1(di).x0(n):se(n)?h=Us().x(di).y1(fi).y0(n):h=a1().x(di).y(fi);var p=h.defined(Fc).curve(o);return p(s)},lc=e=>{var{className:t,points:r,path:n,pathRef:a}=e,i=Wa();if((!r||!r.length)&&!n)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},s=r&&r.length?xF(o):n;return k.createElement("path",Gf({},wr(e),ip(e),{className:De("recharts-curve",t),d:s===null?void 0:s,ref:a}))},SF=["x","y","top","left","width","height","className"];function Yf(){return Yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yf.apply(null,arguments)}function wb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wb(Object(r),!0).forEach(function(n){$F(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $F(e,t,r){return(t=kF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kF(e){var t=EF(e,"string");return typeof t=="symbol"?t:t+""}function EF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OF(e,t){if(e==null)return{};var r,n,a=jF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var NF=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),TF=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:o=0,className:s}=e,c=OF(e,SF),l=PF({x:t,y:r,top:n,left:a,width:i,height:o},c);return!se(t)||!se(r)||!se(i)||!se(o)||!se(n)||!se(a)?null:k.createElement("path",Yf({},or(l),{className:De("recharts-cross",s),d:NF(t,r,i,o,n,a)}))};function CF(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function _b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_b(Object(r),!0).forEach(function(n){AF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_b(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AF(e,t,r){return(t=IF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IF(e){var t=RF(e,"string");return typeof t=="symbol"?t:t+""}function RF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MF=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),DF=(e,t,r)=>e.map(n=>"".concat(MF(n)," ").concat(t,"ms ").concat(r)).join(","),zF=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Ii=(e,t)=>Object.keys(t).reduce((r,n)=>xb(xb({},r),{},{[n]:e(n,t[n])}),{});function Sb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sb(Object(r),!0).forEach(function(n){LF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LF(e,t,r){return(t=qF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qF(e){var t=FF(e,"string");return typeof t=="symbol"?t:t+""}function FF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uc=(e,t,r)=>e+(t-e)*r,Jf=e=>{var{from:t,to:r}=e;return t!==r},$P=(e,t,r)=>{var n=Ii((a,i)=>{if(Jf(i)){var[o,s]=e(i.from,i.to,i.velocity);return nt(nt({},i),{},{from:o,velocity:s})}return i},t);return r<1?Ii((a,i)=>Jf(i)&&n[a]!=null?nt(nt({},i),{},{velocity:Uc(i.velocity,n[a].velocity,r),from:Uc(i.from,n[a].from,r)}):i,t):$P(e,n,r-1)};function UF(e,t,r,n,a,i){var o,s=n.reduce((h,p)=>nt(nt({},h),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),c=()=>Ii((h,p)=>p.from,s),l=()=>!Object.values(s).filter(Jf).length,u=null,d=h=>{o||(o=h);var p=h-o,v=p/r.dt;s=$P(r,s,v),a(nt(nt(nt({},e),t),c())),o=h,l()||(u=i.setTimeout(d))};return()=>(u=i.setTimeout(d),()=>{var h;(h=u)===null||h===void 0||h()})}function VF(e,t,r,n,a,i,o){var s=null,c=a.reduce((d,h)=>{var p=e[h],v=t[h];return p==null||v==null?d:nt(nt({},d),{},{[h]:[p,v]})},{}),l,u=d=>{l||(l=d);var h=(d-l)/n,p=Ii((w,f)=>Uc(...f,r(h)),c);if(i(nt(nt(nt({},e),t),p)),h<1)s=o.setTimeout(u);else{var v=Ii((w,f)=>Uc(...f,r(1)),c);i(nt(nt(nt({},e),t),v))}};return()=>(s=o.setTimeout(u),()=>{var d;(d=s)===null||d===void 0||d()})}const BF=(e,t,r,n,a,i)=>{var o=zF(e,t);return r==null?()=>(a(nt(nt({},e),t)),()=>{}):r.isStepper===!0?UF(e,t,r,o,a,i):VF(e,t,r,n,o,a,i)};var Vc=1e-4,kP=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],EP=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Pb=(e,t)=>r=>{var n=kP(e,t);return EP(n,r)},KF=(e,t)=>r=>{var n=kP(e,t),a=[...n.map((i,o)=>i*o).slice(1),0];return EP(a,r)},WF=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},HF=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=WF(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},ZF=(e,t,r,n)=>{var a=Pb(e,r),i=Pb(t,n),o=KF(e,r),s=l=>l>1?1:l<0?0:l,c=l=>{for(var u=l>1?1:l,d=u,h=0;h<8;++h){var p=a(d)-u,v=o(d);if(Math.abs(p-u)<Vc||v<Vc)return i(d);d=s(d-p/v)}return i(d)};return c.isStepper=!1,c},$b=function(){return ZF(...HF(...arguments))},GF=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(o,s,c)=>{var l=-(o-s)*r,u=c*n,d=c+(l-u)*a/1e3,h=c*a/1e3+o;return Math.abs(h-s)<Vc&&Math.abs(d)<Vc?[s,0]:[h,d]};return i.isStepper=!0,i.dt=a,i},YF=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $b(e);case"spring":return GF();default:if(e.split("(")[0]==="cubic-bezier")return $b(e)}return typeof e=="function"?e:null};function JF(e){var t,r=()=>null,n=!1,a=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,[c,...l]=s;if(typeof c=="number"){a=e.setTimeout(i.bind(null,l),c);return}i(c),a=e.setTimeout(i.bind(null,l));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class XF{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function QF(){return JF(new XF)}var e3=k.createContext(QF);function t3(e,t){var r=k.useContext(e3);return k.useMemo(()=>t??r(e),[e,t,r])}var r3=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),eo={isSsr:r3()},n3={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},kb={t:0},Wd={t:1};function OP(e){var t=tr(e,n3),{isActive:r,canBegin:n,duration:a,easing:i,begin:o,onAnimationEnd:s,onAnimationStart:c,children:l}=t,u=r==="auto"?!eo.isSsr:r,d=t3(t.animationId,t.animationManager),[h,p]=k.useState(u?kb:Wd),v=k.useRef(null);return k.useEffect(()=>{u||p(Wd)},[u]),k.useEffect(()=>{if(!u||!n)return Ka;var w=BF(kb,Wd,YF(i),a,p,d.getTimeoutController()),f=()=>{v.current=w()};return d.start([c,o,f,a,s]),()=>{d.stop(),v.current&&v.current(),s()}},[u,n,a,i,o,c,s,d]),l(h.t)}function jP(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=k.useRef(Ei(t)),n=k.useRef(e);return n.current!==e&&(r.current=Ei(t),n.current=e),r.current}var a3=["radius"],i3=["radius"],Eb,Ob,jb,Nb,Tb,Cb,Ab,Ib,Rb,Mb;function Db(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Db(Object(r),!0).forEach(function(n){o3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Db(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o3(e,t,r){return(t=s3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s3(e){var t=c3(e,"string");return typeof t=="symbol"?t:t+""}function c3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bc(){return Bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bc.apply(null,arguments)}function Lb(e,t){if(e==null)return{};var r,n,a=l3(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function l3(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var qb=(e,t,r,n,a)=>{var i=xn(r),o=xn(n),s=Math.min(Math.abs(i)/2,Math.abs(o)/2),c=o>=0?1:-1,l=i>=0?1:-1,u=o>=0&&i>=0||o<0&&i<0?1:0,d;if(s>0&&Array.isArray(a)){for(var h=[0,0,0,0],p=0,v=4;p<v;p++){var w,f=(w=a[p])!==null&&w!==void 0?w:0;h[p]=f>s?s:f}d=vt(Eb||(Eb=$r(["M",",",""])),e,t+c*h[0]),h[0]>0&&(d+=vt(Ob||(Ob=$r(["A ",",",",0,0,",",",",",""])),h[0],h[0],u,e+l*h[0],t)),d+=vt(jb||(jb=$r(["L ",",",""])),e+r-l*h[1],t),h[1]>0&&(d+=vt(Nb||(Nb=$r(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],u,e+r,t+c*h[1])),d+=vt(Tb||(Tb=$r(["L ",",",""])),e+r,t+n-c*h[2]),h[2]>0&&(d+=vt(Cb||(Cb=$r(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],u,e+r-l*h[2],t+n)),d+=vt(Ab||(Ab=$r(["L ",",",""])),e+l*h[3],t+n),h[3]>0&&(d+=vt(Ib||(Ib=$r(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],u,e,t+n-c*h[3])),d+="Z"}else if(s>0&&a===+a&&a>0){var b=Math.min(s,a);d=vt(Rb||(Rb=$r(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+c*b,b,b,u,e+l*b,t,e+r-l*b,t,b,b,u,e+r,t+c*b,e+r,t+n-c*b,b,b,u,e+r-l*b,t+n,e+l*b,t+n,b,b,u,e,t+n-c*b)}else d=vt(Mb||(Mb=$r(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return d},Fb={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},u3=e=>{var t=tr(e,Fb),r=k.useRef(null),[n,a]=k.useState(-1);k.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var te=r.current.getTotalLength();te&&a(te)}catch{}},[]);var{x:i,y:o,width:s,height:c,radius:l,className:u}=t,{animationEasing:d,animationDuration:h,animationBegin:p,isAnimationActive:v,isUpdateAnimationActive:w}=t,f=k.useRef(s),b=k.useRef(c),m=k.useRef(i),y=k.useRef(o),x=k.useMemo(()=>({x:i,y:o,width:s,height:c,radius:l}),[i,o,s,c,l]),g=jP(x,"rectangle-");if(i!==+i||o!==+o||s!==+s||c!==+c||s===0||c===0)return null;var _=De("recharts-rectangle",u);if(!w){var S=or(t),{radius:E}=S,I=Lb(S,a3);return k.createElement("path",Bc({},I,{x:xn(i),y:xn(o),width:xn(s),height:xn(c),radius:typeof l=="number"?l:void 0,className:_,d:qb(i,o,s,c,l)}))}var L=f.current,R=b.current,C=m.current,U=y.current,B="0px ".concat(n===-1?1:n,"px"),Q="".concat(n,"px 0px"),ae=DF(["strokeDasharray"],h,typeof d=="string"?d:Fb.animationEasing);return k.createElement(OP,{animationId:g,key:g,canBegin:n>0,duration:h,easing:d,isActive:w,begin:p},te=>{var W=Or(L,s,te),ue=Or(R,c,te),F=Or(C,i,te),T=Or(U,o,te);r.current&&(f.current=W,b.current=ue,m.current=F,y.current=T);var z;v?te>0?z={transition:ae,strokeDasharray:Q}:z={strokeDasharray:B}:z={strokeDasharray:Q};var A=or(t),{radius:P}=A,N=Lb(A,i3);return k.createElement("path",Bc({},N,{radius:typeof l=="number"?l:void 0,className:_,d:qb(F,T,W,ue,l),ref:r,style:zb(zb({},z),t.style)}))})};function Ub(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ub(Object(r),!0).forEach(function(n){d3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ub(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d3(e,t,r){return(t=f3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f3(e){var t=h3(e,"string");return typeof t=="symbol"?t:t+""}function h3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kc=Math.PI/180,p3=e=>e*180/Math.PI,wt=(e,t,r,n)=>({x:e+Math.cos(-Kc*n)*r,y:t+Math.sin(-Kc*n)*r}),m3=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},v3=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},y3=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,o=v3({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var s=(r-a)/o,c=Math.acos(s);return n>i&&(c=2*Math.PI-c),{radius:o,angle:p3(c),angleInRadian:c}},g3=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},b3=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return e+o*360},w3=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:i}=y3({x:r,y:n},t),{innerRadius:o,outerRadius:s}=t;if(a<o||a>s||a===0)return null;var{startAngle:c,endAngle:l}=g3(t),u=i,d;if(c<=l){for(;u>l;)u-=360;for(;u<c;)u+=360;d=u>=c&&u<=l}else{for(;u>c;)u-=360;for(;u<l;)u+=360;d=u>=l&&u<=c}return d?Vb(Vb({},t),{},{radius:a,angle:b3(u,t)}):null};function NP(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,o=wt(t,r,n,a),s=wt(t,r,n,i);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}var Bb,Kb,Wb,Hb,Zb,Gb,Yb;function Xf(){return Xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xf.apply(null,arguments)}function Zn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var _3=(e,t)=>{var r=ar(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Js=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:o,cornerRadius:s,cornerIsExternal:c}=e,l=s*(o?1:-1)+n,u=Math.asin(s/l)/Kc,d=c?a:a+i*u,h=wt(t,r,l,d),p=wt(t,r,n,d),v=c?a-i*u:a,w=wt(t,r,l*Math.cos(u*Kc),v);return{center:h,circleTangency:p,lineTangency:w,theta:u}},TP=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:o}=e,s=_3(i,o),c=i+s,l=wt(t,r,a,i),u=wt(t,r,a,c),d=vt(Bb||(Bb=Zn(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),l.x,l.y,a,a,+(Math.abs(s)>180),+(i>c),u.x,u.y);if(n>0){var h=wt(t,r,n,i),p=wt(t,r,n,c);d+=vt(Kb||(Kb=Zn(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),p.x,p.y,n,n,+(Math.abs(s)>180),+(i<=c),h.x,h.y)}else d+=vt(Wb||(Wb=Zn(["L ",","," Z"])),t,r);return d},x3=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:s,startAngle:c,endAngle:l}=e,u=ar(l-c),{circleTangency:d,lineTangency:h,theta:p}=Js({cx:t,cy:r,radius:a,angle:c,sign:u,cornerRadius:i,cornerIsExternal:s}),{circleTangency:v,lineTangency:w,theta:f}=Js({cx:t,cy:r,radius:a,angle:l,sign:-u,cornerRadius:i,cornerIsExternal:s}),b=s?Math.abs(c-l):Math.abs(c-l)-p-f;if(b<0)return o?vt(Hb||(Hb=Zn(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,i,i,i*2,i,i,-i*2):TP({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:l});var m=vt(Zb||(Zb=Zn(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,i,i,+(u<0),d.x,d.y,a,a,+(b>180),+(u<0),v.x,v.y,i,i,+(u<0),w.x,w.y);if(n>0){var{circleTangency:y,lineTangency:x,theta:g}=Js({cx:t,cy:r,radius:n,angle:c,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),{circleTangency:_,lineTangency:S,theta:E}=Js({cx:t,cy:r,radius:n,angle:l,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),I=s?Math.abs(c-l):Math.abs(c-l)-g-E;if(I<0&&i===0)return"".concat(m,"L").concat(t,",").concat(r,"Z");m+=vt(Gb||(Gb=Zn(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),S.x,S.y,i,i,+(u<0),_.x,_.y,n,n,+(I>180),+(u>0),y.x,y.y,i,i,+(u<0),x.x,x.y)}else m+=vt(Yb||(Yb=Zn(["L",",","Z"])),t,r);return m},S3={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},P3=e=>{var t=tr(e,S3),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:c,startAngle:l,endAngle:u,className:d}=t;if(i<a||l===u)return null;var h=De("recharts-sector",d),p=i-a,v=En(o,p,0,!0),w;return v>0&&Math.abs(l-u)<360?w=x3({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(v,p/2),forceCornerRadius:s,cornerIsExternal:c,startAngle:l,endAngle:u}):w=TP({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:l,endAngle:u}),k.createElement("path",Xf({},or(t),{className:h,d:w}))};function $3(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(v1(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:i,outerRadius:o,angle:s}=t,c=wt(n,a,i,s),l=wt(n,a,o,s);return[{x:c.x,y:c.y},{x:l.x,y:l.y}]}return NP(t)}}var Hd={},Zd={},Gd={},Jb;function k3(){return Jb||(Jb=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k1();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(Gd)),Gd}var Xb;function E3(){return Xb||(Xb=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k3();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Zd)),Zd}var Qb;function O3(){return Qb||(Qb=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E1(),r=E3();function n(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),o=o===void 0?a<i?1:-1:r.toFinite(o);const s=Math.max(Math.ceil((i-a)/(o||1)),0),c=new Array(s);for(let l=0;l<s;l++)c[l]=a,a+=o;return c}e.range=n})(Hd)),Hd}var Yd,ew;function j3(){return ew||(ew=1,Yd=O3().range),Yd}var N3=j3();const CP=an(N3);function Sn(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function T3(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wp(e){let t,r,n;e.length!==2?(t=Sn,r=(s,c)=>Sn(e(s),c),n=(s,c)=>e(s)-c):(t=e===Sn||e===T3?e:C3,r=e,n=e);function a(s,c,l=0,u=s.length){if(l<u){if(t(c,c)!==0)return u;do{const d=l+u>>>1;r(s[d],c)<0?l=d+1:u=d}while(l<u)}return l}function i(s,c,l=0,u=s.length){if(l<u){if(t(c,c)!==0)return u;do{const d=l+u>>>1;r(s[d],c)<=0?l=d+1:u=d}while(l<u)}return l}function o(s,c,l=0,u=s.length){const d=a(s,c,l,u-1);return d>l&&n(s[d-1],c)>-n(s[d],c)?d-1:d}return{left:a,center:o,right:i}}function C3(){return 0}function AP(e){return e===null?NaN:+e}function*A3(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const I3=wp(Sn),to=I3.right;wp(AP).center;class tw extends Map{constructor(t,r=D3){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(rw(this,t))}has(t){return super.has(rw(this,t))}set(t,r){return super.set(R3(this,t),r)}delete(t){return super.delete(M3(this,t))}}function rw({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function R3({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function M3({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function D3(e){return e!==null&&typeof e=="object"?e.valueOf():e}function z3(e=Sn){if(e===Sn)return IP;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function IP(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const L3=Math.sqrt(50),q3=Math.sqrt(10),F3=Math.sqrt(2);function Wc(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=L3?10:i>=q3?5:i>=F3?2:1;let s,c,l;return a<0?(l=Math.pow(10,-a)/o,s=Math.round(e*l),c=Math.round(t*l),s/l<e&&++s,c/l>t&&--c,l=-l):(l=Math.pow(10,a)*o,s=Math.round(e/l),c=Math.round(t/l),s*l<e&&++s,c*l>t&&--c),c<s&&.5<=r&&r<2?Wc(e,t,r*2):[s,c,l]}function Qf(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Wc(t,e,r):Wc(e,t,r);if(!(i>=a))return[];const s=i-a+1,c=new Array(s);if(n)if(o<0)for(let l=0;l<s;++l)c[l]=(i-l)/-o;else for(let l=0;l<s;++l)c[l]=(i-l)*o;else if(o<0)for(let l=0;l<s;++l)c[l]=(a+l)/-o;else for(let l=0;l<s;++l)c[l]=(a+l)*o;return c}function eh(e,t,r){return t=+t,e=+e,r=+r,Wc(e,t,r)[2]}function th(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?eh(t,e,r):eh(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function nw(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function aw(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function RP(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?IP:z3(a);n>r;){if(n-r>600){const c=n-r+1,l=t-r+1,u=Math.log(c),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(c-d)/c)*(l-c/2<0?-1:1),p=Math.max(r,Math.floor(t-l*d/c+h)),v=Math.min(n,Math.floor(t+(c-l)*d/c+h));RP(e,t,p,v,a)}const i=e[t];let o=r,s=n;for(hi(e,r,t),a(e[n],i)>0&&hi(e,r,n);o<s;){for(hi(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[r],i)===0?hi(e,r,s):(++s,hi(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function hi(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function U3(e,t,r){if(e=Float64Array.from(A3(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return aw(e);if(t>=1)return nw(e);var n,a=(n-1)*t,i=Math.floor(a),o=nw(RP(e,i).subarray(0,i+1)),s=aw(e.subarray(i+1));return o+(s-o)*(a-i)}}function V3(e,t,r=AP){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),s=+r(e[i+1],i+1,e);return o+(s-o)*(a-i)}}function B3(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function fr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function cn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const rh=Symbol("implicit");function _p(){var e=new tw,t=[],r=[],n=rh;function a(i){let o=e.get(i);if(o===void 0){if(n!==rh)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new tw;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return _p(t,r).unknown(n)},fr.apply(a,arguments),a}function xp(){var e=_p().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,s=!1,c=0,l=0,u=.5;delete e.unknown;function d(){var h=t().length,p=a<n,v=p?a:n,w=p?n:a;i=(w-v)/Math.max(1,h-c+l*2),s&&(i=Math.floor(i)),v+=(w-v-i*(h-c))*u,o=i*(1-c),s&&(v=Math.round(v),o=Math.round(o));var f=B3(h).map(function(b){return v+i*b});return r(p?f.reverse():f)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,s=!0,d()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(s=!!h,d()):s},e.padding=function(h){return arguments.length?(c=Math.min(1,l=+h),d()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),d()):c},e.paddingOuter=function(h){return arguments.length?(l=+h,d()):l},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},e.copy=function(){return xp(t(),[n,a]).round(s).paddingInner(c).paddingOuter(l).align(u)},fr.apply(d(),arguments)}function MP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return MP(t())},e}function K3(){return MP(xp.apply(null,arguments).paddingInner(1))}function Sp(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function DP(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function ro(){}var Ri=.7,Hc=1/Ri,Ta="\\s*([+-]?\\d+)\\s*",Mi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Tr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",W3=/^#([0-9a-f]{3,8})$/,H3=new RegExp(`^rgb\\(${Ta},${Ta},${Ta}\\)$`),Z3=new RegExp(`^rgb\\(${Tr},${Tr},${Tr}\\)$`),G3=new RegExp(`^rgba\\(${Ta},${Ta},${Ta},${Mi}\\)$`),Y3=new RegExp(`^rgba\\(${Tr},${Tr},${Tr},${Mi}\\)$`),J3=new RegExp(`^hsl\\(${Mi},${Tr},${Tr}\\)$`),X3=new RegExp(`^hsla\\(${Mi},${Tr},${Tr},${Mi}\\)$`),iw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Sp(ro,Di,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ow,formatHex:ow,formatHex8:Q3,formatHsl:e4,formatRgb:sw,toString:sw});function ow(){return this.rgb().formatHex()}function Q3(){return this.rgb().formatHex8()}function e4(){return zP(this).formatHsl()}function sw(){return this.rgb().formatRgb()}function Di(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=W3.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?cw(t):r===3?new Vt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Xs(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Xs(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=H3.exec(e))?new Vt(t[1],t[2],t[3],1):(t=Z3.exec(e))?new Vt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=G3.exec(e))?Xs(t[1],t[2],t[3],t[4]):(t=Y3.exec(e))?Xs(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=J3.exec(e))?dw(t[1],t[2]/100,t[3]/100,1):(t=X3.exec(e))?dw(t[1],t[2]/100,t[3]/100,t[4]):iw.hasOwnProperty(e)?cw(iw[e]):e==="transparent"?new Vt(NaN,NaN,NaN,0):null}function cw(e){return new Vt(e>>16&255,e>>8&255,e&255,1)}function Xs(e,t,r,n){return n<=0&&(e=t=r=NaN),new Vt(e,t,r,n)}function t4(e){return e instanceof ro||(e=Di(e)),e?(e=e.rgb(),new Vt(e.r,e.g,e.b,e.opacity)):new Vt}function nh(e,t,r,n){return arguments.length===1?t4(e):new Vt(e,t,r,n??1)}function Vt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Sp(Vt,nh,DP(ro,{brighter(e){return e=e==null?Hc:Math.pow(Hc,e),new Vt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ri:Math.pow(Ri,e),new Vt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Vt(Qn(this.r),Qn(this.g),Qn(this.b),Zc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lw,formatHex:lw,formatHex8:r4,formatRgb:uw,toString:uw}));function lw(){return`#${Gn(this.r)}${Gn(this.g)}${Gn(this.b)}`}function r4(){return`#${Gn(this.r)}${Gn(this.g)}${Gn(this.b)}${Gn((isNaN(this.opacity)?1:this.opacity)*255)}`}function uw(){const e=Zc(this.opacity);return`${e===1?"rgb(":"rgba("}${Qn(this.r)}, ${Qn(this.g)}, ${Qn(this.b)}${e===1?")":`, ${e})`}`}function Zc(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Qn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Gn(e){return e=Qn(e),(e<16?"0":"")+e.toString(16)}function dw(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new gr(e,t,r,n)}function zP(e){if(e instanceof gr)return new gr(e.h,e.s,e.l,e.opacity);if(e instanceof ro||(e=Di(e)),!e)return new gr;if(e instanceof gr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,s=i-a,c=(i+a)/2;return s?(t===i?o=(r-n)/s+(r<n)*6:r===i?o=(n-t)/s+2:o=(t-r)/s+4,s/=c<.5?i+a:2-i-a,o*=60):s=c>0&&c<1?0:o,new gr(o,s,c,e.opacity)}function n4(e,t,r,n){return arguments.length===1?zP(e):new gr(e,t,r,n??1)}function gr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Sp(gr,n4,DP(ro,{brighter(e){return e=e==null?Hc:Math.pow(Hc,e),new gr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ri:Math.pow(Ri,e),new gr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Vt(Jd(e>=240?e-240:e+120,a,n),Jd(e,a,n),Jd(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new gr(fw(this.h),Qs(this.s),Qs(this.l),Zc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Zc(this.opacity);return`${e===1?"hsl(":"hsla("}${fw(this.h)}, ${Qs(this.s)*100}%, ${Qs(this.l)*100}%${e===1?")":`, ${e})`}`}}));function fw(e){return e=(e||0)%360,e<0?e+360:e}function Qs(e){return Math.max(0,Math.min(1,e||0))}function Jd(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Pp=e=>()=>e;function a4(e,t){return function(r){return e+r*t}}function i4(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function o4(e){return(e=+e)==1?LP:function(t,r){return r-t?i4(t,r,e):Pp(isNaN(t)?r:t)}}function LP(e,t){var r=t-e;return r?a4(e,r):Pp(isNaN(e)?t:e)}const hw=(function e(t){var r=o4(t);function n(a,i){var o=r((a=nh(a)).r,(i=nh(i)).r),s=r(a.g,i.g),c=r(a.b,i.b),l=LP(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=s(u),a.b=c(u),a.opacity=l(u),a+""}}return n.gamma=e,n})(1);function s4(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function c4(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function l4(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Ha(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(s){for(o=0;o<n;++o)i[o]=a[o](s);return i}}function u4(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Gc(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function d4(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Ha(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var ah=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xd=new RegExp(ah.source,"g");function f4(e){return function(){return e}}function h4(e){return function(t){return e(t)+""}}function p4(e,t){var r=ah.lastIndex=Xd.lastIndex=0,n,a,i,o=-1,s=[],c=[];for(e=e+"",t=t+"";(n=ah.exec(e))&&(a=Xd.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,c.push({i:o,x:Gc(n,a)})),r=Xd.lastIndex;return r<t.length&&(i=t.slice(r),s[o]?s[o]+=i:s[++o]=i),s.length<2?c[0]?h4(c[0].x):f4(t):(t=c.length,function(l){for(var u=0,d;u<t;++u)s[(d=c[u]).i]=d.x(l);return s.join("")})}function Ha(e,t){var r=typeof t,n;return t==null||r==="boolean"?Pp(t):(r==="number"?Gc:r==="string"?(n=Di(t))?(t=n,hw):p4:t instanceof Di?hw:t instanceof Date?u4:c4(t)?s4:Array.isArray(t)?l4:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?d4:Gc)(e,t)}function $p(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function m4(e,t){t===void 0&&(t=e,e=Ha);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[s](o-s)}}function v4(e){return function(){return e}}function Yc(e){return+e}var pw=[0,1];function Rt(e){return e}function ih(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:v4(isNaN(t)?NaN:.5)}function y4(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function g4(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=ih(a,n),i=r(o,i)):(n=ih(n,a),i=r(i,o)),function(s){return i(n(s))}}function b4(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=ih(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(s){var c=to(e,s,1,n)-1;return i[c](a[c](s))}}function no(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ql(){var e=pw,t=pw,r=Ha,n,a,i,o=Rt,s,c,l;function u(){var h=Math.min(e.length,t.length);return o!==Rt&&(o=y4(e[0],e[h-1])),s=h>2?b4:g4,c=l=null,d}function d(h){return h==null||isNaN(h=+h)?i:(c||(c=s(e.map(n),t,r)))(n(o(h)))}return d.invert=function(h){return o(a((l||(l=s(t,e.map(n),Gc)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,Yc),u()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=$p,u()},d.clamp=function(h){return arguments.length?(o=h?!0:Rt,u()):o!==Rt},d.interpolate=function(h){return arguments.length?(r=h,u()):r},d.unknown=function(h){return arguments.length?(i=h,d):i},function(h,p){return n=h,a=p,u()}}function kp(){return Ql()(Rt,Rt)}function w4(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Jc(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function za(e){return e=Jc(Math.abs(e)),e?e[1]:NaN}function _4(e,t){return function(r,n){for(var a=r.length,i=[],o=0,s=e[0],c=0;a>0&&s>0&&(c+s+1>n&&(s=Math.max(1,n-c)),i.push(r.substring(a-=s,a+s)),!((c+=s+1)>n));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function x4(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var S4=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zi(e){if(!(t=S4.exec(e)))throw new Error("invalid format: "+e);var t;return new Ep({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}zi.prototype=Ep.prototype;function Ep(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Ep.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function P4(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Xc;function $4(e,t){var r=Jc(e,t);if(!r)return Xc=void 0,e.toPrecision(t);var n=r[0],a=r[1],i=a-(Xc=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Jc(e,Math.max(0,t+i-1))[0]}function mw(e,t){var r=Jc(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const vw={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:w4,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>mw(e*100,t),r:mw,s:$4,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function yw(e){return e}var gw=Array.prototype.map,bw=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function k4(e){var t=e.grouping===void 0||e.thousands===void 0?yw:_4(gw.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?yw:x4(gw.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function l(d,h){d=zi(d);var p=d.fill,v=d.align,w=d.sign,f=d.symbol,b=d.zero,m=d.width,y=d.comma,x=d.precision,g=d.trim,_=d.type;_==="n"?(y=!0,_="g"):vw[_]||(x===void 0&&(x=12),g=!0,_="g"),(b||p==="0"&&v==="=")&&(b=!0,p="0",v="=");var S=(h&&h.prefix!==void 0?h.prefix:"")+(f==="$"?r:f==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():""),E=(f==="$"?n:/[%p]/.test(_)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),I=vw[_],L=/[defgprs%]/.test(_);x=x===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function R(C){var U=S,B=E,Q,ae,te;if(_==="c")B=I(C)+B,C="";else{C=+C;var W=C<0||1/C<0;if(C=isNaN(C)?c:I(Math.abs(C),x),g&&(C=P4(C)),W&&+C==0&&w!=="+"&&(W=!1),U=(W?w==="("?w:s:w==="-"||w==="("?"":w)+U,B=(_==="s"&&!isNaN(C)&&Xc!==void 0?bw[8+Xc/3]:"")+B+(W&&w==="("?")":""),L){for(Q=-1,ae=C.length;++Q<ae;)if(te=C.charCodeAt(Q),48>te||te>57){B=(te===46?a+C.slice(Q+1):C.slice(Q))+B,C=C.slice(0,Q);break}}}y&&!b&&(C=t(C,1/0));var ue=U.length+C.length+B.length,F=ue<m?new Array(m-ue+1).join(p):"";switch(y&&b&&(C=t(F+C,F.length?m-B.length:1/0),F=""),v){case"<":C=U+C+B+F;break;case"=":C=U+F+C+B;break;case"^":C=F.slice(0,ue=F.length>>1)+U+C+B+F.slice(ue);break;default:C=F+U+C+B;break}return i(C)}return R.toString=function(){return d+""},R}function u(d,h){var p=Math.max(-8,Math.min(8,Math.floor(za(h)/3)))*3,v=Math.pow(10,-p),w=l((d=zi(d),d.type="f",d),{suffix:bw[8+p/3]});return function(f){return w(v*f)}}return{format:l,formatPrefix:u}}var ec,Op,qP;E4({thousands:",",grouping:[3],currency:["$",""]});function E4(e){return ec=k4(e),Op=ec.format,qP=ec.formatPrefix,ec}function O4(e){return Math.max(0,-za(Math.abs(e)))}function j4(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(za(t)/3)))*3-za(Math.abs(e)))}function N4(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,za(t)-za(e))+1}function FP(e,t,r,n){var a=th(e,t,r),i;switch(n=zi(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=j4(a,o))&&(n.precision=i),qP(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=N4(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=O4(a))&&(n.precision=i-(n.type==="%")*2);break}}return Op(n)}function Cn(e){var t=e.domain;return e.ticks=function(r){var n=t();return Qf(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return FP(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],s=n[i],c,l,u=10;for(s<o&&(l=o,o=s,s=l,l=a,a=i,i=l);u-- >0;){if(l=eh(o,s,r),l===c)return n[a]=o,n[i]=s,t(n);if(l>0)o=Math.floor(o/l)*l,s=Math.ceil(s/l)*l;else if(l<0)o=Math.ceil(o*l)/l,s=Math.floor(s*l)/l;else break;c=l}return e},e}function UP(){var e=kp();return e.copy=function(){return no(e,UP())},fr.apply(e,arguments),Cn(e)}function VP(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Yc),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return VP(e).unknown(t)},e=arguments.length?Array.from(e,Yc):[0,1],Cn(r)}function BP(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function ww(e){return Math.log(e)}function _w(e){return Math.exp(e)}function T4(e){return-Math.log(-e)}function C4(e){return-Math.exp(-e)}function A4(e){return isFinite(e)?+("1e"+e):e<0?0:e}function I4(e){return e===10?A4:e===Math.E?Math.exp:t=>Math.pow(e,t)}function R4(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function xw(e){return(t,r)=>-e(-t,r)}function jp(e){const t=e(ww,_w),r=t.domain;let n=10,a,i;function o(){return a=R4(n),i=I4(n),r()[0]<0?(a=xw(a),i=xw(i),e(T4,C4)):e(ww,_w),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const c=r();let l=c[0],u=c[c.length-1];const d=u<l;d&&([l,u]=[u,l]);let h=a(l),p=a(u),v,w;const f=s==null?10:+s;let b=[];if(!(n%1)&&p-h<f){if(h=Math.floor(h),p=Math.ceil(p),l>0){for(;h<=p;++h)for(v=1;v<n;++v)if(w=h<0?v/i(-h):v*i(h),!(w<l)){if(w>u)break;b.push(w)}}else for(;h<=p;++h)for(v=n-1;v>=1;--v)if(w=h>0?v/i(-h):v*i(h),!(w<l)){if(w>u)break;b.push(w)}b.length*2<f&&(b=Qf(l,u,f))}else b=Qf(h,p,Math.min(p-h,f)).map(i);return d?b.reverse():b},t.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=zi(c)).precision==null&&(c.trim=!0),c=Op(c)),s===1/0)return c;const l=Math.max(1,n*s/t.ticks().length);return u=>{let d=u/i(Math.round(a(u)));return d*n<n-.5&&(d*=n),d<=l?c(u):""}},t.nice=()=>r(BP(r(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),t}function KP(){const e=jp(Ql()).domain([1,10]);return e.copy=()=>no(e,KP()).base(e.base()),fr.apply(e,arguments),e}function Sw(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Pw(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Np(e){var t=1,r=e(Sw(t),Pw(t));return r.constant=function(n){return arguments.length?e(Sw(t=+n),Pw(t)):t},Cn(r)}function WP(){var e=Np(Ql());return e.copy=function(){return no(e,WP()).constant(e.constant())},fr.apply(e,arguments)}function $w(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function M4(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function D4(e){return e<0?-e*e:e*e}function Tp(e){var t=e(Rt,Rt),r=1;function n(){return r===1?e(Rt,Rt):r===.5?e(M4,D4):e($w(r),$w(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Cn(t)}function Cp(){var e=Tp(Ql());return e.copy=function(){return no(e,Cp()).exponent(e.exponent())},fr.apply(e,arguments),e}function z4(){return Cp.apply(null,arguments).exponent(.5)}function kw(e){return Math.sign(e)*e*e}function L4(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function HP(){var e=kp(),t=[0,1],r=!1,n;function a(i){var o=L4(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(kw(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Yc)).map(kw)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return HP(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},fr.apply(a,arguments),Cn(a)}function ZP(){var e=[],t=[],r=[],n;function a(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=V3(e,o/s);return i}function i(o){return o==null||isNaN(o=+o)?n:t[to(r,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Sn),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return ZP().domain(e).range(t).unknown(n)},fr.apply(i,arguments)}function GP(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[to(n,c,0,r)]:i}function s(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,s()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,s()):a.slice()},o.invertExtent=function(c){var l=a.indexOf(c);return l<0?[NaN,NaN]:l<1?[e,n[0]]:l>=r?[n[r-1],t]:[n[l-1],n[l]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return GP().domain([e,t]).range(a).unknown(i)},fr.apply(Cn(o),arguments)}function YP(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[to(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return YP().domain(e).range(t).unknown(r)},fr.apply(a,arguments)}const Qd=new Date,ef=new Date;function at(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const c=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return c;let l;do c.push(l=new Date(+i)),t(i,s),e(i);while(l<i&&i<o);return c},a.filter=i=>at(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(Qd.setTime(+i),ef.setTime(+o),e(Qd),e(ef),Math.floor(r(Qd,ef))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Qc=at(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Qc.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?at(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Qc);Qc.range;const Zr=1e3,ir=Zr*60,Gr=ir*60,Qr=Gr*24,Ap=Qr*7,Ew=Qr*30,tf=Qr*365,Yn=at(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Zr)},(e,t)=>(t-e)/Zr,e=>e.getUTCSeconds());Yn.range;const Ip=at(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Zr)},(e,t)=>{e.setTime(+e+t*ir)},(e,t)=>(t-e)/ir,e=>e.getMinutes());Ip.range;const Rp=at(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ir)},(e,t)=>(t-e)/ir,e=>e.getUTCMinutes());Rp.range;const Mp=at(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Zr-e.getMinutes()*ir)},(e,t)=>{e.setTime(+e+t*Gr)},(e,t)=>(t-e)/Gr,e=>e.getHours());Mp.range;const Dp=at(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Gr)},(e,t)=>(t-e)/Gr,e=>e.getUTCHours());Dp.range;const ao=at(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ir)/Qr,e=>e.getDate()-1);ao.range;const eu=at(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qr,e=>e.getUTCDate()-1);eu.range;const JP=at(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qr,e=>Math.floor(e/Qr));JP.range;function ua(e){return at(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ir)/Ap)}const tu=ua(0),el=ua(1),q4=ua(2),F4=ua(3),La=ua(4),U4=ua(5),V4=ua(6);tu.range;el.range;q4.range;F4.range;La.range;U4.range;V4.range;function da(e){return at(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Ap)}const ru=da(0),tl=da(1),B4=da(2),K4=da(3),qa=da(4),W4=da(5),H4=da(6);ru.range;tl.range;B4.range;K4.range;qa.range;W4.range;H4.range;const zp=at(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());zp.range;const Lp=at(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Lp.range;const en=at(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());en.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:at(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});en.range;const tn=at(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());tn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:at(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});tn.range;function XP(e,t,r,n,a,i){const o=[[Yn,1,Zr],[Yn,5,5*Zr],[Yn,15,15*Zr],[Yn,30,30*Zr],[i,1,ir],[i,5,5*ir],[i,15,15*ir],[i,30,30*ir],[a,1,Gr],[a,3,3*Gr],[a,6,6*Gr],[a,12,12*Gr],[n,1,Qr],[n,2,2*Qr],[r,1,Ap],[t,1,Ew],[t,3,3*Ew],[e,1,tf]];function s(l,u,d){const h=u<l;h&&([l,u]=[u,l]);const p=d&&typeof d.range=="function"?d:c(l,u,d),v=p?p.range(l,+u+1):[];return h?v.reverse():v}function c(l,u,d){const h=Math.abs(u-l)/d,p=wp(([,,f])=>f).right(o,h);if(p===o.length)return e.every(th(l/tf,u/tf,d));if(p===0)return Qc.every(Math.max(th(l,u,d),1));const[v,w]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return v.every(w)}return[s,c]}const[Z4,G4]=XP(tn,Lp,ru,JP,Dp,Rp),[Y4,J4]=XP(en,zp,tu,ao,Mp,Ip);function rf(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function nf(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function pi(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function X4(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,c=e.shortMonths,l=mi(a),u=vi(a),d=mi(i),h=vi(i),p=mi(o),v=vi(o),w=mi(s),f=vi(s),b=mi(c),m=vi(c),y={a:te,A:W,b:ue,B:F,c:null,d:Aw,e:Aw,f:_U,g:TU,G:AU,H:gU,I:bU,j:wU,L:QP,m:xU,M:SU,p:T,q:z,Q:Mw,s:Dw,S:PU,u:$U,U:kU,V:EU,w:OU,W:jU,x:null,X:null,y:NU,Y:CU,Z:IU,"%":Rw},x={a:A,A:P,b:N,B:D,c:null,d:Iw,e:Iw,f:zU,g:ZU,G:YU,H:RU,I:MU,j:DU,L:t$,m:LU,M:qU,p:K,q:Y,Q:Mw,s:Dw,S:FU,u:UU,U:VU,V:BU,w:KU,W:WU,x:null,X:null,y:HU,Y:GU,Z:JU,"%":Rw},g={a:L,A:R,b:C,B:U,c:B,d:Tw,e:Tw,f:pU,g:Nw,G:jw,H:Cw,I:Cw,j:uU,L:hU,m:lU,M:dU,p:I,q:cU,Q:vU,s:yU,S:fU,u:nU,U:aU,V:iU,w:rU,W:oU,x:Q,X:ae,y:Nw,Y:jw,Z:sU,"%":mU};y.x=_(r,y),y.X=_(n,y),y.c=_(t,y),x.x=_(r,x),x.X=_(n,x),x.c=_(t,x);function _(V,X){return function(O){var j=[],M=-1,q=0,Z=V.length,ee,pe,_e;for(O instanceof Date||(O=new Date(+O));++M<Z;)V.charCodeAt(M)===37&&(j.push(V.slice(q,M)),(pe=Ow[ee=V.charAt(++M)])!=null?ee=V.charAt(++M):pe=ee==="e"?" ":"0",(_e=X[ee])&&(ee=_e(O,pe)),j.push(ee),q=M+1);return j.push(V.slice(q,M)),j.join("")}}function S(V,X){return function(O){var j=pi(1900,void 0,1),M=E(j,V,O+="",0),q,Z;if(M!=O.length)return null;if("Q"in j)return new Date(j.Q);if("s"in j)return new Date(j.s*1e3+("L"in j?j.L:0));if(X&&!("Z"in j)&&(j.Z=0),"p"in j&&(j.H=j.H%12+j.p*12),j.m===void 0&&(j.m="q"in j?j.q:0),"V"in j){if(j.V<1||j.V>53)return null;"w"in j||(j.w=1),"Z"in j?(q=nf(pi(j.y,0,1)),Z=q.getUTCDay(),q=Z>4||Z===0?tl.ceil(q):tl(q),q=eu.offset(q,(j.V-1)*7),j.y=q.getUTCFullYear(),j.m=q.getUTCMonth(),j.d=q.getUTCDate()+(j.w+6)%7):(q=rf(pi(j.y,0,1)),Z=q.getDay(),q=Z>4||Z===0?el.ceil(q):el(q),q=ao.offset(q,(j.V-1)*7),j.y=q.getFullYear(),j.m=q.getMonth(),j.d=q.getDate()+(j.w+6)%7)}else("W"in j||"U"in j)&&("w"in j||(j.w="u"in j?j.u%7:"W"in j?1:0),Z="Z"in j?nf(pi(j.y,0,1)).getUTCDay():rf(pi(j.y,0,1)).getDay(),j.m=0,j.d="W"in j?(j.w+6)%7+j.W*7-(Z+5)%7:j.w+j.U*7-(Z+6)%7);return"Z"in j?(j.H+=j.Z/100|0,j.M+=j.Z%100,nf(j)):rf(j)}}function E(V,X,O,j){for(var M=0,q=X.length,Z=O.length,ee,pe;M<q;){if(j>=Z)return-1;if(ee=X.charCodeAt(M++),ee===37){if(ee=X.charAt(M++),pe=g[ee in Ow?X.charAt(M++):ee],!pe||(j=pe(V,O,j))<0)return-1}else if(ee!=O.charCodeAt(j++))return-1}return j}function I(V,X,O){var j=l.exec(X.slice(O));return j?(V.p=u.get(j[0].toLowerCase()),O+j[0].length):-1}function L(V,X,O){var j=p.exec(X.slice(O));return j?(V.w=v.get(j[0].toLowerCase()),O+j[0].length):-1}function R(V,X,O){var j=d.exec(X.slice(O));return j?(V.w=h.get(j[0].toLowerCase()),O+j[0].length):-1}function C(V,X,O){var j=b.exec(X.slice(O));return j?(V.m=m.get(j[0].toLowerCase()),O+j[0].length):-1}function U(V,X,O){var j=w.exec(X.slice(O));return j?(V.m=f.get(j[0].toLowerCase()),O+j[0].length):-1}function B(V,X,O){return E(V,t,X,O)}function Q(V,X,O){return E(V,r,X,O)}function ae(V,X,O){return E(V,n,X,O)}function te(V){return o[V.getDay()]}function W(V){return i[V.getDay()]}function ue(V){return c[V.getMonth()]}function F(V){return s[V.getMonth()]}function T(V){return a[+(V.getHours()>=12)]}function z(V){return 1+~~(V.getMonth()/3)}function A(V){return o[V.getUTCDay()]}function P(V){return i[V.getUTCDay()]}function N(V){return c[V.getUTCMonth()]}function D(V){return s[V.getUTCMonth()]}function K(V){return a[+(V.getUTCHours()>=12)]}function Y(V){return 1+~~(V.getUTCMonth()/3)}return{format:function(V){var X=_(V+="",y);return X.toString=function(){return V},X},parse:function(V){var X=S(V+="",!1);return X.toString=function(){return V},X},utcFormat:function(V){var X=_(V+="",x);return X.toString=function(){return V},X},utcParse:function(V){var X=S(V+="",!0);return X.toString=function(){return V},X}}}var Ow={"-":"",_:" ",0:"0"},ut=/^\s*\d+/,Q4=/^%/,eU=/[\\^$*+?|[\]().{}]/g;function je(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function tU(e){return e.replace(eU,"\\$&")}function mi(e){return new RegExp("^(?:"+e.map(tU).join("|")+")","i")}function vi(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function rU(e,t,r){var n=ut.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function nU(e,t,r){var n=ut.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function aU(e,t,r){var n=ut.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function iU(e,t,r){var n=ut.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function oU(e,t,r){var n=ut.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function jw(e,t,r){var n=ut.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Nw(e,t,r){var n=ut.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function sU(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function cU(e,t,r){var n=ut.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function lU(e,t,r){var n=ut.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Tw(e,t,r){var n=ut.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function uU(e,t,r){var n=ut.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Cw(e,t,r){var n=ut.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function dU(e,t,r){var n=ut.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function fU(e,t,r){var n=ut.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function hU(e,t,r){var n=ut.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function pU(e,t,r){var n=ut.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function mU(e,t,r){var n=Q4.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function vU(e,t,r){var n=ut.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function yU(e,t,r){var n=ut.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Aw(e,t){return je(e.getDate(),t,2)}function gU(e,t){return je(e.getHours(),t,2)}function bU(e,t){return je(e.getHours()%12||12,t,2)}function wU(e,t){return je(1+ao.count(en(e),e),t,3)}function QP(e,t){return je(e.getMilliseconds(),t,3)}function _U(e,t){return QP(e,t)+"000"}function xU(e,t){return je(e.getMonth()+1,t,2)}function SU(e,t){return je(e.getMinutes(),t,2)}function PU(e,t){return je(e.getSeconds(),t,2)}function $U(e){var t=e.getDay();return t===0?7:t}function kU(e,t){return je(tu.count(en(e)-1,e),t,2)}function e$(e){var t=e.getDay();return t>=4||t===0?La(e):La.ceil(e)}function EU(e,t){return e=e$(e),je(La.count(en(e),e)+(en(e).getDay()===4),t,2)}function OU(e){return e.getDay()}function jU(e,t){return je(el.count(en(e)-1,e),t,2)}function NU(e,t){return je(e.getFullYear()%100,t,2)}function TU(e,t){return e=e$(e),je(e.getFullYear()%100,t,2)}function CU(e,t){return je(e.getFullYear()%1e4,t,4)}function AU(e,t){var r=e.getDay();return e=r>=4||r===0?La(e):La.ceil(e),je(e.getFullYear()%1e4,t,4)}function IU(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+je(t/60|0,"0",2)+je(t%60,"0",2)}function Iw(e,t){return je(e.getUTCDate(),t,2)}function RU(e,t){return je(e.getUTCHours(),t,2)}function MU(e,t){return je(e.getUTCHours()%12||12,t,2)}function DU(e,t){return je(1+eu.count(tn(e),e),t,3)}function t$(e,t){return je(e.getUTCMilliseconds(),t,3)}function zU(e,t){return t$(e,t)+"000"}function LU(e,t){return je(e.getUTCMonth()+1,t,2)}function qU(e,t){return je(e.getUTCMinutes(),t,2)}function FU(e,t){return je(e.getUTCSeconds(),t,2)}function UU(e){var t=e.getUTCDay();return t===0?7:t}function VU(e,t){return je(ru.count(tn(e)-1,e),t,2)}function r$(e){var t=e.getUTCDay();return t>=4||t===0?qa(e):qa.ceil(e)}function BU(e,t){return e=r$(e),je(qa.count(tn(e),e)+(tn(e).getUTCDay()===4),t,2)}function KU(e){return e.getUTCDay()}function WU(e,t){return je(tl.count(tn(e)-1,e),t,2)}function HU(e,t){return je(e.getUTCFullYear()%100,t,2)}function ZU(e,t){return e=r$(e),je(e.getUTCFullYear()%100,t,2)}function GU(e,t){return je(e.getUTCFullYear()%1e4,t,4)}function YU(e,t){var r=e.getUTCDay();return e=r>=4||r===0?qa(e):qa.ceil(e),je(e.getUTCFullYear()%1e4,t,4)}function JU(){return"+0000"}function Rw(){return"%"}function Mw(e){return+e}function Dw(e){return Math.floor(+e/1e3)}var ga,n$,a$;XU({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function XU(e){return ga=X4(e),n$=ga.format,ga.parse,a$=ga.utcFormat,ga.utcParse,ga}function QU(e){return new Date(e)}function e5(e){return e instanceof Date?+e:+new Date(+e)}function qp(e,t,r,n,a,i,o,s,c,l){var u=kp(),d=u.invert,h=u.domain,p=l(".%L"),v=l(":%S"),w=l("%I:%M"),f=l("%I %p"),b=l("%a %d"),m=l("%b %d"),y=l("%B"),x=l("%Y");function g(_){return(c(_)<_?p:s(_)<_?v:o(_)<_?w:i(_)<_?f:n(_)<_?a(_)<_?b:m:r(_)<_?y:x)(_)}return u.invert=function(_){return new Date(d(_))},u.domain=function(_){return arguments.length?h(Array.from(_,e5)):h().map(QU)},u.ticks=function(_){var S=h();return e(S[0],S[S.length-1],_??10)},u.tickFormat=function(_,S){return S==null?g:l(S)},u.nice=function(_){var S=h();return(!_||typeof _.range!="function")&&(_=t(S[0],S[S.length-1],_??10)),_?h(BP(S,_)):u},u.copy=function(){return no(u,qp(e,t,r,n,a,i,o,s,c,l))},u}function t5(){return fr.apply(qp(Y4,J4,en,zp,tu,ao,Mp,Ip,Yn,n$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function r5(){return fr.apply(qp(Z4,G4,tn,Lp,ru,eu,Dp,Rp,Yn,a$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function nu(){var e=0,t=1,r,n,a,i,o=Rt,s=!1,c;function l(d){return d==null||isNaN(d=+d)?c:o(a===0?.5:(d=(i(d)-r)*a,s?Math.max(0,Math.min(1,d)):d))}l.domain=function(d){return arguments.length?([e,t]=d,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),l):[e,t]},l.clamp=function(d){return arguments.length?(s=!!d,l):s},l.interpolator=function(d){return arguments.length?(o=d,l):o};function u(d){return function(h){var p,v;return arguments.length?([p,v]=h,o=d(p,v),l):[o(0),o(1)]}}return l.range=u(Ha),l.rangeRound=u($p),l.unknown=function(d){return arguments.length?(c=d,l):c},function(d){return i=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),l}}function An(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function i$(){var e=Cn(nu()(Rt));return e.copy=function(){return An(e,i$())},cn.apply(e,arguments)}function o$(){var e=jp(nu()).domain([1,10]);return e.copy=function(){return An(e,o$()).base(e.base())},cn.apply(e,arguments)}function s$(){var e=Np(nu());return e.copy=function(){return An(e,s$()).constant(e.constant())},cn.apply(e,arguments)}function Fp(){var e=Tp(nu());return e.copy=function(){return An(e,Fp()).exponent(e.exponent())},cn.apply(e,arguments)}function n5(){return Fp.apply(null,arguments).exponent(.5)}function c$(){var e=[],t=Rt;function r(n){if(n!=null&&!isNaN(n=+n))return t((to(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Sn),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>U3(e,i/n))},r.copy=function(){return c$(t).domain(e)},cn.apply(r,arguments)}function au(){var e=0,t=.5,r=1,n=1,a,i,o,s,c,l=Rt,u,d=!1,h;function p(w){return isNaN(w=+w)?h:(w=.5+((w=+u(w))-i)*(n*w<n*i?s:c),l(d?Math.max(0,Math.min(1,w)):w))}p.domain=function(w){return arguments.length?([e,t,r]=w,a=u(e=+e),i=u(t=+t),o=u(r=+r),s=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(w){return arguments.length?(d=!!w,p):d},p.interpolator=function(w){return arguments.length?(l=w,p):l};function v(w){return function(f){var b,m,y;return arguments.length?([b,m,y]=f,l=m4(w,[b,m,y]),p):[l(0),l(.5),l(1)]}}return p.range=v(Ha),p.rangeRound=v($p),p.unknown=function(w){return arguments.length?(h=w,p):h},function(w){return u=w,a=w(e),i=w(t),o=w(r),s=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p}}function l$(){var e=Cn(au()(Rt));return e.copy=function(){return An(e,l$())},cn.apply(e,arguments)}function u$(){var e=jp(au()).domain([.1,1,10]);return e.copy=function(){return An(e,u$()).base(e.base())},cn.apply(e,arguments)}function d$(){var e=Np(au());return e.copy=function(){return An(e,d$()).constant(e.constant())},cn.apply(e,arguments)}function Up(){var e=Tp(au());return e.copy=function(){return An(e,Up()).exponent(e.exponent())},cn.apply(e,arguments)}function a5(){return Up.apply(null,arguments).exponent(.5)}const bi=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:xp,scaleDiverging:l$,scaleDivergingLog:u$,scaleDivergingPow:Up,scaleDivergingSqrt:a5,scaleDivergingSymlog:d$,scaleIdentity:VP,scaleImplicit:rh,scaleLinear:UP,scaleLog:KP,scaleOrdinal:_p,scalePoint:K3,scalePow:Cp,scaleQuantile:ZP,scaleQuantize:GP,scaleRadial:HP,scaleSequential:i$,scaleSequentialLog:o$,scaleSequentialPow:Fp,scaleSequentialQuantile:c$,scaleSequentialSqrt:n5,scaleSequentialSymlog:s$,scaleSqrt:z4,scaleSymlog:WP,scaleThreshold:YP,scaleTime:t5,scaleUtc:r5,tickFormat:FP},Symbol.toStringTag,{value:"Module"}));var ln=e=>e.chartData,f$=H([ln],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),h$=(e,t,r,n)=>n?f$(e):ln(e),i5=(e,t,r)=>r?f$(e):ln(e);function rn(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(xe(t)&&xe(r))return!0}return!1}function zw(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function p$(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(xe(r))a=r;else if(typeof r=="function")return;if(xe(n))i=n;else if(typeof n=="function")return;var o=[a,i];if(rn(o))return o}}function o5(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(rn(n))return zw(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,s;if(a==="auto")t!=null&&(o=Math.min(...t));else if(se(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t?.[0]))}catch{}else if(typeof a=="string"&&Y0.test(a)){var c=Y0.exec(a);if(c==null||c[1]==null||t==null)o=void 0;else{var l=+c[1];o=t[0]-l}}else o=t?.[0];if(i==="auto")t!=null&&(s=Math.max(...t));else if(se(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t?.[1]))}catch{}else if(typeof i=="string"&&J0.test(i)){var u=J0.exec(i);if(u==null||u[1]==null||t==null)s=void 0;else{var d=+u[1];s=t[1]+d}}else s=t?.[1];var h=[o,s];if(rn(h))return t==null?h:zw(h,t,r)}}}var Za=1e9,s5={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Bp,Fe=!0,cr="[DecimalError] ",ea=cr+"Invalid argument: ",Vp=cr+"Exponent out of range: ",Ga=Math.floor,Hn=Math.pow,c5=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Gt,ct=1e7,ze=7,m$=9007199254740991,rl=Ga(m$/ze),ne={};ne.absoluteValue=ne.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ne.comparedTo=ne.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};ne.decimalPlaces=ne.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ze;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ne.dividedBy=ne.div=function(e){return Yr(this,new this.constructor(e))};ne.dividedToIntegerBy=ne.idiv=function(e){var t=this,r=t.constructor;return Me(Yr(t,new r(e),0,1),r.precision)};ne.equals=ne.eq=function(e){return!this.cmp(e)};ne.exponent=function(){return et(this)};ne.greaterThan=ne.gt=function(e){return this.cmp(e)>0};ne.greaterThanOrEqualTo=ne.gte=function(e){return this.cmp(e)>=0};ne.isInteger=ne.isint=function(){return this.e>this.d.length-2};ne.isNegative=ne.isneg=function(){return this.s<0};ne.isPositive=ne.ispos=function(){return this.s>0};ne.isZero=function(){return this.s===0};ne.lessThan=ne.lt=function(e){return this.cmp(e)<0};ne.lessThanOrEqualTo=ne.lte=function(e){return this.cmp(e)<1};ne.logarithm=ne.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Gt))throw Error(cr+"NaN");if(r.s<1)throw Error(cr+(r.s?"NaN":"-Infinity"));return r.eq(Gt)?new n(0):(Fe=!1,t=Yr(Li(r,i),Li(e,i),i),Fe=!0,Me(t,a))};ne.minus=ne.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?g$(t,e):v$(t,(e.s=-e.s,e))};ne.modulo=ne.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(cr+"NaN");return r.s?(Fe=!1,t=Yr(r,e,0,1).times(e),Fe=!0,r.minus(t)):Me(new n(r),a)};ne.naturalExponential=ne.exp=function(){return y$(this)};ne.naturalLogarithm=ne.ln=function(){return Li(this)};ne.negated=ne.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ne.plus=ne.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v$(t,e):g$(t,(e.s=-e.s,e))};ne.precision=ne.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ea+e);if(t=et(a)+1,n=a.d.length-1,r=n*ze+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ne.squareRoot=ne.sqrt=function(){var e,t,r,n,a,i,o,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(cr+"NaN")}for(e=et(s),Fe=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=Nr(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Ga((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Yr(s,i,o+2)).times(.5),Nr(i.d).slice(0,o)===(t=Nr(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Me(i,r+1,0),i.times(i).eq(s)){n=i;break}}else if(t!="9999")break;o+=4}return Fe=!0,Me(n,r)};ne.times=ne.mul=function(e){var t,r,n,a,i,o,s,c,l,u=this,d=u.constructor,h=u.d,p=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,r=u.e+e.e,c=h.length,l=p.length,c<l&&(i=h,h=p,p=i,o=c,c=l,l=o),i=[],o=c+l,n=o;n--;)i.push(0);for(n=l;--n>=0;){for(t=0,a=c+n;a>n;)s=i[a]+p[n]*h[a-n-1]+t,i[a--]=s%ct|0,t=s/ct|0;i[a]=(i[a]+t)%ct|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Fe?Me(e,d.precision):e};ne.toDecimalPlaces=ne.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Mr(e,0,Za),t===void 0?t=n.rounding:Mr(t,0,8),Me(r,e+et(r)+1,t))};ne.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=sa(n,!0):(Mr(e,0,Za),t===void 0?t=a.rounding:Mr(t,0,8),n=Me(new a(n),e+1,t),r=sa(n,!0,e+1)),r};ne.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?sa(a):(Mr(e,0,Za),t===void 0?t=i.rounding:Mr(t,0,8),n=Me(new i(a),e+et(a)+1,t),r=sa(n.abs(),!1,e+et(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ne.toInteger=ne.toint=function(){var e=this,t=e.constructor;return Me(new t(e),et(e)+1,t.rounding)};ne.toNumber=function(){return+this};ne.toPower=ne.pow=function(e){var t,r,n,a,i,o,s=this,c=s.constructor,l=12,u=+(e=new c(e));if(!e.s)return new c(Gt);if(s=new c(s),!s.s){if(e.s<1)throw Error(cr+"Infinity");return s}if(s.eq(Gt))return s;if(n=c.precision,e.eq(Gt))return Me(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=s.s,o){if((r=u<0?-u:u)<=m$){for(a=new c(Gt),t=Math.ceil(n/ze+4),Fe=!1;r%2&&(a=a.times(s),qw(a.d,t)),r=Ga(r/2),r!==0;)s=s.times(s),qw(s.d,t);return Fe=!0,e.s<0?new c(Gt).div(a):Me(a,n)}}else if(i<0)throw Error(cr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Fe=!1,a=e.times(Li(s,n+l)),Fe=!0,a=y$(a),a.s=i,a};ne.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=et(a),n=sa(a,r<=i.toExpNeg||r>=i.toExpPos)):(Mr(e,1,Za),t===void 0?t=i.rounding:Mr(t,0,8),a=Me(new i(a),e,t),r=et(a),n=sa(a,e<=r||r<=i.toExpNeg,e)),n};ne.toSignificantDigits=ne.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Mr(e,1,Za),t===void 0?t=n.rounding:Mr(t,0,8)),Me(new n(r),e,t)};ne.toString=ne.valueOf=ne.val=ne.toJSON=ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=et(e),r=e.constructor;return sa(e,t<=r.toExpNeg||t>=r.toExpPos)};function v$(e,t){var r,n,a,i,o,s,c,l,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Fe?Me(t,d):t;if(c=e.d,l=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,s=l.length):(n=l,a=o,s=c.length),o=Math.ceil(d/ze),s=o>s?o+1:s+1,i>s&&(i=s,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(s=c.length,i=l.length,s-i<0&&(i=s,n=l,l=c,c=n),r=0;i;)r=(c[--i]=c[i]+l[i]+r)/ct|0,c[i]%=ct;for(r&&(c.unshift(r),++a),s=c.length;c[--s]==0;)c.pop();return t.d=c,t.e=a,Fe?Me(t,d):t}function Mr(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ea+e)}function Nr(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=ze-n.length,r&&(i+=bn(r)),i+=n;o=e[t],n=o+"",r=ze-n.length,r&&(i+=bn(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Yr=(function(){function e(n,a){var i,o=0,s=n.length;for(n=n.slice();s--;)i=n[s]*a+o,n[s]=i%ct|0,o=i/ct|0;return o&&n.unshift(o),n}function t(n,a,i,o){var s,c;if(i!=o)c=i>o?1:-1;else for(s=c=0;s<i;s++)if(n[s]!=a[s]){c=n[s]>a[s]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*ct+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var s,c,l,u,d,h,p,v,w,f,b,m,y,x,g,_,S,E,I=n.constructor,L=n.s==a.s?1:-1,R=n.d,C=a.d;if(!n.s)return new I(n);if(!a.s)throw Error(cr+"Division by zero");for(c=n.e-a.e,S=C.length,g=R.length,p=new I(L),v=p.d=[],l=0;C[l]==(R[l]||0);)++l;if(C[l]>(R[l]||0)&&--c,i==null?m=i=I.precision:o?m=i+(et(n)-et(a))+1:m=i,m<0)return new I(0);if(m=m/ze+2|0,l=0,S==1)for(u=0,C=C[0],m++;(l<g||u)&&m--;l++)y=u*ct+(R[l]||0),v[l]=y/C|0,u=y%C|0;else{for(u=ct/(C[0]+1)|0,u>1&&(C=e(C,u),R=e(R,u),S=C.length,g=R.length),x=S,w=R.slice(0,S),f=w.length;f<S;)w[f++]=0;E=C.slice(),E.unshift(0),_=C[0],C[1]>=ct/2&&++_;do u=0,s=t(C,w,S,f),s<0?(b=w[0],S!=f&&(b=b*ct+(w[1]||0)),u=b/_|0,u>1?(u>=ct&&(u=ct-1),d=e(C,u),h=d.length,f=w.length,s=t(d,w,h,f),s==1&&(u--,r(d,S<h?E:C,h))):(u==0&&(s=u=1),d=C.slice()),h=d.length,h<f&&d.unshift(0),r(w,d,f),s==-1&&(f=w.length,s=t(C,w,S,f),s<1&&(u++,r(w,S<f?E:C,f))),f=w.length):s===0&&(u++,w=[0]),v[l++]=u,s&&w[0]?w[f++]=R[x]||0:(w=[R[x]],f=1);while((x++<g||w[0]!==void 0)&&m--)}return v[0]||v.shift(),p.e=c,Me(p,o?i+et(p)+1:i)}})();function y$(e,t){var r,n,a,i,o,s,c=0,l=0,u=e.constructor,d=u.precision;if(et(e)>16)throw Error(Vp+et(e));if(!e.s)return new u(Gt);for(Fe=!1,s=d,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),l+=5;for(n=Math.log(Hn(2,l))/Math.LN10*2+5|0,s+=n,r=a=i=new u(Gt),u.precision=s;;){if(a=Me(a.times(e),s),r=r.times(++c),o=i.plus(Yr(a,r,s)),Nr(o.d).slice(0,s)===Nr(i.d).slice(0,s)){for(;l--;)i=Me(i.times(i),s);return u.precision=d,t==null?(Fe=!0,Me(i,d)):i}i=o}}function et(e){for(var t=e.e*ze,r=e.d[0];r>=10;r/=10)t++;return t}function af(e,t,r){if(t>e.LN10.sd())throw Fe=!0,r&&(e.precision=r),Error(cr+"LN10 precision limit exceeded");return Me(new e(e.LN10),t)}function bn(e){for(var t="";e--;)t+="0";return t}function Li(e,t){var r,n,a,i,o,s,c,l,u,d=1,h=10,p=e,v=p.d,w=p.constructor,f=w.precision;if(p.s<1)throw Error(cr+(p.s?"NaN":"-Infinity"));if(p.eq(Gt))return new w(0);if(t==null?(Fe=!1,l=f):l=t,p.eq(10))return t==null&&(Fe=!0),af(w,l);if(l+=h,w.precision=l,r=Nr(v),n=r.charAt(0),i=et(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Nr(p.d),n=r.charAt(0),d++;i=et(p),n>1?(p=new w("0."+r),i++):p=new w(n+"."+r.slice(1))}else return c=af(w,l+2,f).times(i+""),p=Li(new w(n+"."+r.slice(1)),l-h).plus(c),w.precision=f,t==null?(Fe=!0,Me(p,f)):p;for(s=o=p=Yr(p.minus(Gt),p.plus(Gt),l),u=Me(p.times(p),l),a=3;;){if(o=Me(o.times(u),l),c=s.plus(Yr(o,new w(a),l)),Nr(c.d).slice(0,l)===Nr(s.d).slice(0,l))return s=s.times(2),i!==0&&(s=s.plus(af(w,l+2,f).times(i+""))),s=Yr(s,new w(d),l),w.precision=f,t==null?(Fe=!0,Me(s,f)):s;s=c,a+=2}}function Lw(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Ga(r/ze),e.d=[],n=(r+1)%ze,r<0&&(n+=ze),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=ze;n<a;)e.d.push(+t.slice(n,n+=ze));t=t.slice(n),n=ze-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Fe&&(e.e>rl||e.e<-rl))throw Error(Vp+r)}else e.s=0,e.e=0,e.d=[0];return e}function Me(e,t,r){var n,a,i,o,s,c,l,u,d=e.d;for(o=1,i=d[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=ze,a=t,l=d[u=0];else{if(u=Math.ceil((n+1)/ze),i=d.length,u>=i)return e;for(l=i=d[u],o=1;i>=10;i/=10)o++;n%=ze,a=n-ze+o}if(r!==void 0&&(i=Hn(10,o-a-1),s=l/i%10|0,c=t<0||d[u+1]!==void 0||l%i,c=r<4?(s||c)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||c||r==6&&(n>0?a>0?l/Hn(10,o-a):0:d[u-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return c?(i=et(e),d.length=1,t=t-i-1,d[0]=Hn(10,(ze-t%ze)%ze),e.e=Ga(-t/ze)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=u,i=1,u--):(d.length=u+1,i=Hn(10,ze-n),d[u]=a>0?(l/Hn(10,o-a)%Hn(10,a)|0)*i:0),c)for(;;)if(u==0){(d[0]+=i)==ct&&(d[0]=1,++e.e);break}else{if(d[u]+=i,d[u]!=ct)break;d[u--]=0,i=1}for(n=d.length;d[--n]===0;)d.pop();if(Fe&&(e.e>rl||e.e<-rl))throw Error(Vp+et(e));return e}function g$(e,t){var r,n,a,i,o,s,c,l,u,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Fe?Me(t,p):t;if(c=e.d,d=t.d,n=t.e,l=e.e,c=c.slice(),o=l-n,o){for(u=o<0,u?(r=c,o=-o,s=d.length):(r=d,n=l,s=c.length),a=Math.max(Math.ceil(p/ze),s)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,s=d.length,u=a<s,u&&(s=a),a=0;a<s;a++)if(c[a]!=d[a]){u=c[a]<d[a];break}o=0}for(u&&(r=c,c=d,d=r,t.s=-t.s),s=c.length,a=d.length-s;a>0;--a)c[s++]=0;for(a=d.length;a>o;){if(c[--a]<d[a]){for(i=a;i&&c[--i]===0;)c[i]=ct-1;--c[i],c[a]+=ct}c[a]-=d[a]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Fe?Me(t,p):t):new h(0)}function sa(e,t,r){var n,a=et(e),i=Nr(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+bn(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+bn(-a-1)+i,r&&(n=r-o)>0&&(i+=bn(n))):a>=o?(i+=bn(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+bn(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=bn(n))),e.s<0?"-"+i:i}function qw(e,t){if(e.length>t)return e.length=t,!0}function b$(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(ea+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return Lw(o,i.toString())}else if(typeof i!="string")throw Error(ea+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,c5.test(i))Lw(o,i);else throw Error(ea+i)}if(a.prototype=ne,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=b$,a.config=a.set=l5,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function l5(e){if(!e||typeof e!="object")throw Error(cr+"Object expected");var t,r,n,a=["precision",1,Za,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Ga(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(ea+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ea+r+": "+n);return this}var Bp=b$(s5);Gt=new Bp(1);const Ie=Bp;function w$(e){var t;return e===0?t=1:t=Math.floor(new Ie(e).abs().log(10).toNumber())+1,t}function _$(e,t,r){for(var n=new Ie(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var x$=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},S$=(e,t,r)=>{if(e.lte(0))return new Ie(0);var n=w$(e.toNumber()),a=new Ie(10).pow(n),i=e.div(a),o=n!==1?.05:.1,s=new Ie(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=s.mul(a);return t?new Ie(c.toNumber()):new Ie(Math.ceil(c.toNumber()))},u5=(e,t,r)=>{var n=new Ie(1),a=new Ie(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Ie(10).pow(w$(e)-1),a=new Ie(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Ie(Math.floor(e)))}else e===0?a=new Ie(Math.floor((t-1)/2)):r||(a=new Ie(Math.floor(e)));for(var o=Math.floor((t-1)/2),s=[],c=0;c<t;c++)s.push(a.add(new Ie(c-o).mul(n)).toNumber());return s},P$=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ie(0),tickMin:new Ie(0),tickMax:new Ie(0)};var o=S$(new Ie(r).sub(t).div(n-1),a,i),s;t<=0&&r>=0?s=new Ie(0):(s=new Ie(t).add(r).div(2),s=s.sub(new Ie(s).mod(o)));var c=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new Ie(r).sub(s).div(o).toNumber()),u=c+l+1;return u>n?P$(t,r,n,a,i+1):(u<n&&(l=r>0?l+(n-u):l,c=r>0?c:c+(n-u)),{step:o,tickMin:s.sub(new Ie(c).mul(o)),tickMax:s.add(new Ie(l).mul(o))})},d5=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),[s,c]=x$([r,n]);if(s===-1/0||c===1/0){var l=c===1/0?[s,...Array(a-1).fill(1/0)]:[...Array(a-1).fill(-1/0),c];return r>n?l.reverse():l}if(s===c)return u5(s,a,i);var{step:u,tickMin:d,tickMax:h}=P$(s,c,o,i,0),p=_$(d,h.add(new Ie(.1).mul(u)),u);return r>n?p.reverse():p},f5=function(t,r){var[n,a]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,s]=x$([n,a]);if(o===-1/0||s===1/0)return[n,a];if(o===s)return[o];var c=Math.max(r,2),l=S$(new Ie(s).sub(o).div(c-1),i,0),u=[..._$(new Ie(o),new Ie(s),l),s];return i===!1&&(u=u.map(d=>Math.round(d))),n>a?u.reverse():u},h5=e=>e.rootProps.barCategoryGap,iu=e=>e.rootProps.stackOffset,$$=e=>e.rootProps.reverseStackOrder,Kp=e=>e.options.chartName,Wp=e=>e.rootProps.syncId,k$=e=>e.rootProps.syncMethod,Hp=e=>e.options.eventEmitter,p5=e=>e.rootProps.baseValue,Mt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Vn={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},kr={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},ou=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function su(e,t,r){if(r!=="auto")return r;if(e!=null)return Dr(e,t)?"category":"number"}function Fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fw(Object(r),!0).forEach(function(n){m5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m5(e,t,r){return(t=v5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v5(e){var t=y5(e,"string");return typeof t=="symbol"?t:t+""}function y5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uw={allowDataOverflow:Vn.allowDataOverflow,allowDecimals:Vn.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Vn.angleAxisId,includeHidden:!1,name:void 0,reversed:Vn.reversed,scale:Vn.scale,tick:Vn.tick,tickCount:void 0,ticks:void 0,type:Vn.type,unit:void 0},Vw={allowDataOverflow:kr.allowDataOverflow,allowDecimals:kr.allowDecimals,allowDuplicatedCategory:kr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:kr.radiusAxisId,includeHidden:kr.includeHidden,name:void 0,reversed:kr.reversed,scale:kr.scale,tick:kr.tick,tickCount:kr.tickCount,ticks:void 0,type:kr.type,unit:void 0},g5=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},Zp=H([g5,vP],(e,t)=>{var r;if(e!=null)return e;var n=(r=su(t,"angleAxis",Uw.type))!==null&&r!==void 0?r:"category";return nl(nl({},Uw),{},{type:n})}),b5=(e,t)=>e.polarAxis.radiusAxis[t],Gp=H([b5,vP],(e,t)=>{var r;if(e!=null)return e;var n=(r=su(t,"radiusAxis",Vw.type))!==null&&r!==void 0?r:"category";return nl(nl({},Vw),{},{type:n})}),cu=e=>e.polarOptions,Yp=H([on,sn,$t],m3),E$=H([cu,Yp],(e,t)=>{if(e!=null)return En(e.innerRadius,t,0)}),O$=H([cu,Yp],(e,t)=>{if(e!=null)return En(e.outerRadius,t,t*.8)}),w5=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},j$=H([cu],w5);H([Zp,j$],ou);var N$=H([Yp,E$,O$],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});H([Gp,N$],ou);var T$=H([Ke,cu,E$,O$,on,sn],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:s,startAngle:c,endAngle:l}=t;return{cx:En(o,a,a/2),cy:En(s,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:l,clockWise:!1}}}),dt=(e,t)=>t,lu=(e,t,r)=>r;function Jp(e){return e?.id}function C$(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,o=new Map;return e.forEach(s=>{var c,l=(c=s.data)!==null&&c!==void 0?c:n;if(!(l==null||l.length===0)){var u=Jp(s);l.forEach((d,h)=>{var p=i==null||a?h:String(_t(d,i,null)),v=_t(d,s.dataKey,0),w;o.has(p)?w=o.get(p):w={},Object.assign(w,{[u]:v}),o.set(p,w)})}}),Array.from(o.values())}function Xp(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var uu=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function du(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function _5(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var ft=e=>{var t=Ke(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ya=e=>e.tooltip.settings.axisId;function x5(e){if(e in bi)return bi[e]();var t="scale".concat(ap(e));if(t in bi)return bi[t]()}function Bw(e){var t=e.ticks,r=e.bandwidth,n=e.range(),a=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:(function(i){function o(){return i.apply(this,arguments)}return o.toString=function(){return i.toString()},o})(()=>a),rangeMin:()=>a[0],rangeMax:()=>a[1],isInRange(i){var o=a[0],s=a[1];return o<=s?i>=o&&i<=s:i>=s&&i<=o},bandwidth:r?()=>r.call(e):void 0,ticks:t?i=>t.call(e,i):void 0,map:(i,o)=>{var s=e(i);if(s!=null){if(e.bandwidth&&o!==null&&o!==void 0&&o.position){var c=e.bandwidth();switch(o.position){case"middle":s+=c/2;break;case"end":s+=c;break}}return s}}}}function Kw(e,t,r){if(typeof e=="function")return Bw(e.copy().domain(t).range(r));if(e!=null){var n=x5(e);if(n!=null)return n.domain(t).range(r),Bw(n)}}var S5=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!rn(t)){for(var r,n,a=0;a<t.length;a++){var i=t[a];xe(i)&&((r===void 0||i<r)&&(r=i),(n===void 0||i>n)&&(n=i))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function Ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function al(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ww(Object(r),!0).forEach(function(n){P5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ww(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P5(e,t,r){return(t=$5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $5(e){var t=k5(e,"string");return typeof t=="symbol"?t:t+""}function k5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oh=[0,"auto"],ot={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},A$=(e,t)=>e.cartesianAxis.xAxis[t],un=(e,t)=>{var r=A$(e,t);return r??ot},st={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:oh,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ji},I$=(e,t)=>e.cartesianAxis.yAxis[t],dn=(e,t)=>{var r=I$(e,t);return r??st},E5={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Qp=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??E5},Lt=(e,t,r)=>{switch(t){case"xAxis":return un(e,r);case"yAxis":return dn(e,r);case"zAxis":return Qp(e,r);case"angleAxis":return Zp(e,r);case"radiusAxis":return Gp(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},O5=(e,t,r)=>{switch(t){case"xAxis":return un(e,r);case"yAxis":return dn(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},io=(e,t,r)=>{switch(t){case"xAxis":return un(e,r);case"yAxis":return dn(e,r);case"angleAxis":return Zp(e,r);case"radiusAxis":return Gp(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},R$=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function M$(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var D$=e=>e.graphicalItems.cartesianItems,j5=H([dt,lu],M$),z$=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),oo=H([D$,Lt,j5],z$,{memoizeOptions:{resultEqualityCheck:du}}),L$=H([oo],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Xp)),q$=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),N5=H([oo],q$),F$=e=>e.map(t=>t.data).filter(Boolean).flat(1),T5=H([oo],F$,{memoizeOptions:{resultEqualityCheck:du}}),U$=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},em=H([T5,h$],U$),V$=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:_t(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:_t(a,n)}))):e.map(n=>({value:n})),fu=H([em,Lt,oo],V$);function B$(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function uc(e){if(Ir(e)||e instanceof Date){var t=Number(e);if(xe(t))return t}}function Hw(e){if(Array.isArray(e)){var t=[uc(e[0]),uc(e[1])];return rn(t)?t:void 0}var r=uc(e);if(r!=null)return[r,r]}function nn(e){return e.map(uc).filter(Ut)}function C5(e,t,r){return!r||typeof t!="number"||Ar(t)?[]:r.length?nn(r.flatMap(n=>{var a=_t(e,n.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!xe(i)||!xe(o)))return[t-i,t+o]})):[]}var it=e=>{var t=ft(e),r=Ya(e);return io(e,t,r)},so=H([it],e=>e?.dataKey),A5=H([L$,h$,it],C$),K$=(e,t,r,n)=>{var a={},i=t.reduce((o,s)=>{if(s.stackId==null)return o;var c=o[s.stackId];return c==null&&(c=[]),c.push(s),o[s.stackId]=c,o},a);return Object.fromEntries(Object.entries(i).map(o=>{var[s,c]=o,l=n?[...c].reverse():c,u=l.map(Jp);return[s,{stackedData:aq(e,u,r),graphicalItems:l}]}))},W$=H([A5,L$,iu,$$],K$),H$=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var o=cq(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},I5=H([Lt],e=>e.allowDataOverflow),tm=e=>{var t;if(e==null||!("domain"in e))return oh;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=nn(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:oh},Z$=H([Lt],tm),G$=H([Z$,I5],p$),R5=H([W$,ln,dt,G$],H$,{memoizeOptions:{resultEqualityCheck:uu}}),rm=e=>e.errorBars,M5=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>B$(r,n)),il=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),s=Math.max(...i);return[o,s]}},Y$=(e,t,r,n,a)=>{var i,o;if(r.length>0&&e.forEach(s=>{r.forEach(c=>{var l,u,d=(l=n[c.id])===null||l===void 0?void 0:l.filter(b=>B$(a,b)),h=_t(s,(u=t.dataKey)!==null&&u!==void 0?u:c.dataKey),p=C5(s,h,d);if(p.length>=2){var v=Math.min(...p),w=Math.max(...p);(i==null||v<i)&&(i=v),(o==null||w>o)&&(o=w)}var f=Hw(h);f!=null&&(i=i==null?f[0]:Math.min(i,f[0]),o=o==null?f[1]:Math.max(o,f[1]))})}),t?.dataKey!=null&&e.forEach(s=>{var c=Hw(_t(s,t.dataKey));c!=null&&(i=i==null?c[0]:Math.min(i,c[0]),o=o==null?c[1]:Math.max(o,c[1]))}),xe(i)&&xe(o))return[i,o]},D5=H([em,Lt,N5,rm,dt],Y$,{memoizeOptions:{resultEqualityCheck:uu}});function z5(e){var{value:t}=e;if(Ir(t)||t instanceof Date)return t}var L5=(e,t,r)=>{var n=e.map(z5).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&p1(n))?CP(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},J$=e=>e.referenceElements.dots,Ja=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),q5=H([J$,dt,lu],Ja),X$=e=>e.referenceElements.areas,F5=H([X$,dt,lu],Ja),Q$=e=>e.referenceElements.lines,U5=H([Q$,dt,lu],Ja),ek=(e,t)=>{if(e!=null){var r=nn(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},V5=H(q5,dt,ek),tk=(e,t)=>{if(e!=null){var r=nn(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},B5=H([F5,dt],tk);function K5(e){var t;if(e.x!=null)return nn([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:nn(r)}function W5(e){var t;if(e.y!=null)return nn([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:nn(r)}var rk=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?K5(n):W5(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},H5=H([U5,dt],rk),Z5=H(V5,H5,B5,(e,t,r)=>il(e,r,t)),nk=(e,t,r,n,a,i,o,s)=>{if(r!=null)return r;var c=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",l=c?il(n,i,a):il(i,a);return o5(t,l,e.allowDataOverflow)},G5=H([Lt,Z$,G$,R5,D5,Z5,Ke,dt],nk,{memoizeOptions:{resultEqualityCheck:uu}}),Y5=[0,1],ak=(e,t,r,n,a,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:s,type:c}=e,l=Dr(t,i);if(l&&s==null){var u;return CP(0,(u=r?.length)!==null&&u!==void 0?u:0)}return c==="category"?L5(n,e,l):a==="expand"?Y5:o}},nm=H([Lt,Ke,em,fu,iu,dt,G5],ak);function J5(e){return e in bi}var ik=(e,t,r)=>{if(e!=null){var{scale:n,type:a}=e;if(n==="auto")return a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":a==="category"?"band":"linear";if(typeof n=="string"){var i="scale".concat(ap(n));return J5(i)?i:"point"}}},Xa=H([Lt,R$,Kp],ik);function am(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?Kw(e.scale,r,n):Kw(t,r,n)}var ok=(e,t,r)=>{var n=tm(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&rn(e))return d5(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&rn(e))return f5(e,t.tickCount,t.allowDecimals)}},im=H([nm,io,Xa],ok),sk=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&rn(t)&&Array.isArray(r)&&r.length>0){var a,i,o=t[0],s=(a=r[0])!==null&&a!==void 0?a:0,c=t[1],l=(i=r[r.length-1])!==null&&i!==void 0?i:0;return[Math.min(o,s),Math.max(c,l)]}return t},X5=H([Lt,nm,im,dt],sk),Q5=H(fu,Lt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(nn(e.map(d=>d.value))).sort((d,h)=>d-h),a=n[0],i=n[n.length-1];if(a==null||i==null)return 1/0;var o=i-a;if(o===0)return 1/0;for(var s=0;s<n.length-1;s++){var c=n[s],l=n[s+1];if(!(c==null||l==null)){var u=l-c;r=Math.min(r,u)}}return r/o}}),ck=H(Q5,Ke,h5,$t,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!xe(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=En(r,e*i),s=e*i/2;return s-o-(s-o)/i*o}return 0}),eV=(e,t,r)=>{var n=un(e,t);return n==null||typeof n.padding!="string"?0:ck(e,"xAxis",t,r,n.padding)},tV=(e,t,r)=>{var n=dn(e,t);return n==null||typeof n.padding!="string"?0:ck(e,"yAxis",t,r,n.padding)},rV=H(un,eV,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),nV=H(dn,tV,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),aV=H([$t,rV,Zl,Hl,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),iV=H([$t,Ke,nV,Zl,Hl,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:o}=a;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),co=(e,t,r,n)=>{var a;switch(t){case"xAxis":return aV(e,r,n);case"yAxis":return iV(e,r,n);case"zAxis":return(a=Qp(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return j$(e);case"radiusAxis":return N$(e,r);default:return}},lk=H([Lt,co],ou),oV=H([Xa,X5],S5),hu=H([Lt,Xa,oV,lk],am);H([oo,rm,dt],M5);function uk(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var pu=(e,t)=>t,mu=(e,t,r)=>r,sV=H(Kl,pu,mu,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(uk)),cV=H(Wl,pu,mu,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(uk)),dk=(e,t)=>({width:e.width,height:t.height}),lV=(e,t)=>{var r=typeof t.width=="number"?t.width:Ji;return{width:r,height:e.height}},uV=H($t,un,dk),dV=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},fV=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},hV=H(sn,$t,sV,pu,mu,(e,t,r,n,a)=>{var i={},o;return r.forEach(s=>{var c=dk(t,s);o==null&&(o=dV(t,n,e));var l=n==="top"&&!a||n==="bottom"&&a;i[s.id]=o-Number(l)*c.height,o+=(l?-1:1)*c.height}),i}),pV=H(on,$t,cV,pu,mu,(e,t,r,n,a)=>{var i={},o;return r.forEach(s=>{var c=lV(t,s);o==null&&(o=fV(t,n,e));var l=n==="left"&&!a||n==="right"&&a;i[s.id]=o-Number(l)*c.width,o+=(l?-1:1)*c.width}),i}),mV=(e,t)=>{var r=un(e,t);if(r!=null)return hV(e,r.orientation,r.mirror)},vV=H([$t,un,mV,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),yV=(e,t)=>{var r=dn(e,t);if(r!=null)return pV(e,r.orientation,r.mirror)},gV=H([$t,dn,yV,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),bV=H($t,dn,(e,t)=>{var r=typeof t.width=="number"?t.width:Ji;return{width:r,height:e.height}}),fk=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,s=Dr(e,n),c=t.map(l=>l.value);if(o&&s&&i==="category"&&a&&p1(c))return c}},om=H([Ke,fu,Lt,dt],fk),hk=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,o=Dr(e,n);if(o&&(a==="number"||i!=="auto"))return t.map(s=>s.value)}},sm=H([Ke,fu,io,dt],hk),Zw=H([Ke,O5,Xa,hu,om,sm,co,im,dt],(e,t,r,n,a,i,o,s,c)=>{if(t!=null){var l=Dr(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:a,isCategorical:l,niceTicks:s,range:o,realScaleType:r,scale:n}}}),wV=(e,t,r,n,a,i,o,s,c)=>{if(!(t==null||n==null)){var l=Dr(e,c),{type:u,ticks:d,tickCount:h}=t,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,v=u==="category"&&n.bandwidth?n.bandwidth()/p:0;v=c==="angleAxis"&&i!=null&&i.length>=2?ar(i[0]-i[1])*2*v:v;var w=d||a;return w?w.map((f,b)=>{var m=o?o.indexOf(f):f,y=n.map(m);return xe(y)?{index:b,coordinate:y+v,value:f,offset:v}:null}).filter(Ut):l&&s?s.map((f,b)=>{var m=n.map(f);return xe(m)?{coordinate:m+v,value:f,index:b,offset:v}:null}).filter(Ut):n.ticks?n.ticks(h).map((f,b)=>{var m=n.map(f);return xe(m)?{coordinate:m+v,value:f,index:b,offset:v}:null}).filter(Ut):n.domain().map((f,b)=>{var m=n.map(f);return xe(m)?{coordinate:m+v,value:o?o[f]:f,index:b,offset:v}:null}).filter(Ut)}},pk=H([Ke,io,Xa,hu,im,co,om,sm,dt],wV),_V=(e,t,r,n,a,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var s=Dr(e,o),{tickCount:c}=t,l=0;return l=o==="angleAxis"&&n?.length>=2?ar(n[0]-n[1])*2*l:l,s&&i?i.map((u,d)=>{var h=r.map(u);return xe(h)?{coordinate:h+l,value:u,index:d,offset:l}:null}).filter(Ut):r.ticks?r.ticks(c).map((u,d)=>{var h=r.map(u);return xe(h)?{coordinate:h+l,value:u,index:d,offset:l}:null}).filter(Ut):r.domain().map((u,d)=>{var h=r.map(u);return xe(h)?{coordinate:h+l,value:a?a[u]:u,index:d,offset:l}:null}).filter(Ut)}},mk=H([Ke,io,hu,co,om,sm,dt],_V),vk=H(Lt,hu,(e,t)=>{if(!(e==null||t==null))return al(al({},e),{},{scale:t})}),xV=H([Lt,Xa,nm,lk],am);H((e,t,r)=>Qp(e,r),xV,(e,t)=>{if(!(e==null||t==null))return al(al({},e),{},{scale:t})});var SV=H([Ke,Kl,Wl],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),yk=e=>e.options.defaultTooltipEventType,gk=e=>e.options.validateTooltipEventTypes;function bk(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function cm(e,t){var r=yk(e),n=gk(e);return bk(t,r,n)}function PV(e){return de(t=>cm(t,e))}var wk=(e,t)=>{var r,n=Number(t);if(!(Ar(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},$V=e=>e.tooltip.settings,_n={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},kV={itemInteraction:{click:_n,hover:_n},axisInteraction:{click:_n,hover:_n},keyboardInteraction:_n,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},_k=Kt({name:"tooltip",initialState:kV,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:qe()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=br(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:qe()},removeTooltipEntrySettings:{reducer(e,t){var r=br(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:qe()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:EV,replaceTooltipEntrySettings:OV,removeTooltipEntrySettings:jV,setTooltipSettingsState:NV,setActiveMouseOverItemIndex:TV,mouseLeaveItem:i8,mouseLeaveChart:xk,setActiveClickItemIndex:o8,setMouseOverAxisIndex:Sk,setMouseClickAxisIndex:CV,setSyncInteraction:sh,setKeyboardInteraction:ch}=_k.actions,AV=_k.reducer;function Gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gw(Object(r),!0).forEach(function(n){IV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IV(e,t,r){return(t=RV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RV(e){var t=MV(e,"string");return typeof t=="symbol"?t:t+""}function MV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DV(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function zV(e){return e.index!=null}var Pk=(e,t,r,n)=>{if(t==null)return _n;var a=DV(e,t,r);if(a==null)return _n;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(zV(a)){if(i)return tc(tc({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return tc(tc({},_n),{},{coordinate:a.coordinate})};function LV(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function qV(e,t){var r=LV(e),n=t[0],a=t[1];if(r===void 0)return!1;var i=Math.min(n,a),o=Math.max(n,a);return r>=i&&r<=o}function FV(e,t,r){if(r==null||t==null)return!0;var n=_t(e,t);return n==null||!rn(r)?!0:qV(n,r)}var lm=(e,t,r,n)=>{var a=e?.index;if(a==null)return null;var i=Number(a);if(!xe(i))return a;var o=0,s=1/0;t.length>0&&(s=t.length-1);var c=Math.max(o,Math.min(i,s)),l=t[c];return l==null||FV(l,r,n)?String(c):null},$k=(e,t,r,n,a,i,o)=>{if(i!=null){var s=o[0],c=s?.getPosition(i);if(c!=null)return c;var l=a?.[Number(i)];if(l)return r==="horizontal"?{x:l.coordinate,y:(n.top+t)/2}:{x:(n.left+e)/2,y:l.coordinate}}},kk=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.graphicalItemId)===a})},Ek=e=>e.options.tooltipPayloadSearcher,Qa=e=>e.tooltip;function Yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yw(Object(r),!0).forEach(function(n){UV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UV(e,t,r){return(t=VV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VV(e){var t=BV(e,"string");return typeof t=="symbol"?t:t+""}function BV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KV(e,t){return e??t}var Ok=(e,t,r,n,a,i,o)=>{if(!(t==null||i==null)){var{chartData:s,computedData:c,dataStartIndex:l,dataEndIndex:u}=r,d=[];return e.reduce((h,p)=>{var v,{dataDefinedOnItem:w,settings:f}=p,b=KV(w,s),m=Array.isArray(b)?aP(b,l,u):b,y=(v=f?.dataKey)!==null&&v!==void 0?v:n,x=f?.nameKey,g;if(n&&Array.isArray(m)&&!Array.isArray(m[0])&&o==="axis"?g=m1(m,n,a):g=i(m,t,c,x),Array.isArray(g))g.forEach(S=>{var E=Jw(Jw({},f),{},{name:S.name,unit:S.unit,color:void 0,fill:void 0});h.push(X0({tooltipEntrySettings:E,dataKey:S.dataKey,payload:S.payload,value:_t(S.payload,S.dataKey),name:S.name}))});else{var _;h.push(X0({tooltipEntrySettings:f,dataKey:y,payload:g,value:_t(g,y),name:(_=_t(g,x))!==null&&_!==void 0?_:f?.name}))}return h},d)}},um=H([it,R$,Kp],ik),WV=H([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),HV=H([ft,Ya],M$),ei=H([WV,it,HV],z$,{memoizeOptions:{resultEqualityCheck:du}}),ZV=H([ei],e=>e.filter(Xp)),GV=H([ei],F$,{memoizeOptions:{resultEqualityCheck:du}}),ti=H([GV,ln],U$),YV=H([ZV,ln,it],C$),dm=H([ti,it,ei],V$),jk=H([it],tm),JV=H([it],e=>e.allowDataOverflow),Nk=H([jk,JV],p$),XV=H([ei],e=>e.filter(Xp)),QV=H([YV,XV,iu,$$],K$),eB=H([QV,ln,ft,Nk],H$),tB=H([ei],q$),rB=H([ti,it,tB,rm,ft],Y$,{memoizeOptions:{resultEqualityCheck:uu}}),nB=H([J$,ft,Ya],Ja),aB=H([nB,ft],ek),iB=H([X$,ft,Ya],Ja),oB=H([iB,ft],tk),sB=H([Q$,ft,Ya],Ja),cB=H([sB,ft],rk),lB=H([aB,cB,oB],il),uB=H([it,jk,Nk,eB,rB,lB,Ke,ft],nk),lo=H([it,Ke,ti,dm,iu,ft,uB],ak),dB=H([lo,it,um],ok),fB=H([it,lo,dB,ft],sk),Tk=e=>{var t=ft(e),r=Ya(e),n=!1;return co(e,t,r,n)},Ck=H([it,Tk],ou),Ak=H([it,um,fB,Ck],am),hB=H([Ke,dm,it,ft],fk),pB=H([Ke,dm,it,ft],hk),mB=(e,t,r,n,a,i,o,s)=>{if(t){var{type:c}=t,l=Dr(e,s);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,d=c==="category"&&n.bandwidth?n.bandwidth()/u:0;return d=s==="angleAxis"&&a!=null&&a?.length>=2?ar(a[0]-a[1])*2*d:d,l&&o?o.map((h,p)=>{var v=n.map(h);return xe(v)?{coordinate:v+d,value:h,index:p,offset:d}:null}).filter(Ut):n.domain().map((h,p)=>{var v=n.map(h);return xe(v)?{coordinate:v+d,value:i?i[h]:h,index:p,offset:d}:null}).filter(Ut)}}},fn=H([Ke,it,um,Ak,Tk,hB,pB,ft],mB),fm=H([yk,gk,$V],(e,t,r)=>bk(r.shared,e,t)),Ik=e=>e.tooltip.settings.trigger,hm=e=>e.tooltip.settings.defaultIndex,uo=H([Qa,fm,Ik,hm],Pk),qi=H([uo,ti,so,lo],lm),Rk=H([fn,qi],wk),vB=H([uo],e=>{if(e)return e.dataKey});H([uo],e=>{if(e)return e.graphicalItemId});var Mk=H([Qa,fm,Ik,hm],kk),yB=H([on,sn,Ke,$t,fn,hm,Mk],$k),gB=H([uo,yB],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),bB=H([uo],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),wB=H([Mk,qi,ln,so,Rk,Ek,fm],Ok),_B=H([wB],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function Xw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xw(Object(r),!0).forEach(function(n){xB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xB(e,t,r){return(t=SB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SB(e){var t=PB(e,"string");return typeof t=="symbol"?t:t+""}function PB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $B=()=>de(it),kB=()=>{var e=$B(),t=de(fn),r=de(Ak);return Mc(!e||!r?void 0:Qw(Qw({},e),{},{scale:r}),t)};function e_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ba(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e_(Object(r),!0).forEach(function(n){EB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EB(e,t,r){return(t=OB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OB(e){var t=jB(e,"string");return typeof t=="symbol"?t:t+""}function jB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NB=(e,t,r,n)=>{var a=t.find(i=>i&&i.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},TB=(e,t,r,n)=>{var a=t.find(l=>l&&l.index===r);if(a){if(e==="centric"){var i=a.coordinate,{radius:o}=n;return ba(ba(ba({},n),wt(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var s=a.coordinate,{angle:c}=n;return ba(ba(ba({},n),wt(n.cx,n.cy,s,c)),{},{angle:c,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function CB(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var Dk=(e,t,r,n,a)=>{var i,o=(i=t?.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var s=0;s<o;s++){var c,l,u,d,h,p=s>0?(c=r[s-1])===null||c===void 0?void 0:c.coordinate:(l=r[o-1])===null||l===void 0?void 0:l.coordinate,v=(u=r[s])===null||u===void 0?void 0:u.coordinate,w=s>=o-1?(d=r[0])===null||d===void 0?void 0:d.coordinate:(h=r[s+1])===null||h===void 0?void 0:h.coordinate,f=void 0;if(!(p==null||v==null||w==null))if(ar(v-p)!==ar(w-v)){var b=[];if(ar(w-v)===ar(a[1]-a[0])){f=w;var m=v+a[1]-a[0];b[0]=Math.min(m,(m+p)/2),b[1]=Math.max(m,(m+p)/2)}else{f=p;var y=w+a[1]-a[0];b[0]=Math.min(v,(y+v)/2),b[1]=Math.max(v,(y+v)/2)}var x=[Math.min(v,(f+v)/2),Math.max(v,(f+v)/2)];if(e>x[0]&&e<=x[1]||e>=b[0]&&e<=b[1]){var g;return(g=r[s])===null||g===void 0?void 0:g.index}}else{var _=Math.min(p,w),S=Math.max(p,w);if(e>(_+v)/2&&e<=(S+v)/2){var E;return(E=r[s])===null||E===void 0?void 0:E.index}}}else if(t)for(var I=0;I<o;I++){var L=t[I];if(L!=null){var R=t[I+1],C=t[I-1];if(I===0&&R!=null&&e<=(L.coordinate+R.coordinate)/2||I===o-1&&C!=null&&e>(L.coordinate+C.coordinate)/2||I>0&&I<o-1&&C!=null&&R!=null&&e>(L.coordinate+C.coordinate)/2&&e<=(L.coordinate+R.coordinate)/2)return L.index}}return-1},zk=()=>de(Kp),pm=(e,t)=>t,Lk=(e,t,r)=>r,mm=(e,t,r,n)=>n,AB=H(fn,e=>Rl(e,t=>t.coordinate)),vm=H([Qa,pm,Lk,mm],Pk),ym=H([vm,ti,so,lo],lm),IB=(e,t,r)=>{if(t!=null){var n=Qa(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},qk=H([Qa,pm,Lk,mm],kk),ol=H([on,sn,Ke,$t,fn,mm,qk],$k),RB=H([vm,ol],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),Fk=H([fn,ym],wk),MB=H([qk,ym,ln,so,Fk,Ek,pm],Ok),DB=H([vm,ym],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),zB=(e,t,r,n,a,i,o)=>{if(!(!e||!r||!n||!a)&&CB(e,o)){var s=lq(e,t),c=Dk(s,i,a,r,n),l=NB(t,a,c,e);return{activeIndex:String(c),activeCoordinate:l}}},LB=(e,t,r,n,a,i,o)=>{if(!(!e||!n||!a||!i||!r)){var s=w3(e,r);if(s){var c=uq(s,t),l=Dk(c,o,i,n,a),u=TB(t,i,l,s);return{activeIndex:String(l),activeCoordinate:u}}}},qB=(e,t,r,n,a,i,o,s)=>{if(!(!e||!t||!n||!a||!i))return t==="horizontal"||t==="vertical"?zB(e,t,n,a,i,o,s):LB(e,t,r,n,a,i,o)},FB=H(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),UB=H(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Mt)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:_5}});function t_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function r_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t_(Object(r),!0).forEach(function(n){VB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VB(e,t,r){return(t=BB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BB(e){var t=KB(e,"string");return typeof t=="symbol"?t:t+""}function KB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WB={},HB={zIndexMap:Object.values(Mt).reduce((e,t)=>r_(r_({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),WB)},ZB=new Set(Object.values(Mt));function GB(e){return ZB.has(e)}var Uk=Kt({name:"zIndex",initialState:HB,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:qe()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!GB(r)&&delete e.zIndexMap[r])},prepare:qe()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:qe()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:qe()}}}),{registerZIndexPortal:YB,unregisterZIndexPortal:JB,registerZIndexPortalElement:XB,unregisterZIndexPortalElement:QB}=Uk.actions,eK=Uk.reducer;function hn(e){var{zIndex:t,children:r}=e,n=Vq(),a=n&&t!==void 0&&t!==0,i=Wt(),o=lt();k.useLayoutEffect(()=>a?(o(YB({zIndex:t})),()=>{o(JB({zIndex:t}))}):Ka,[o,t,a]);var s=de(c=>FB(c,t,i));return a?s?XS.createPortal(r,s):null:r}function lh(){return lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lh.apply(null,arguments)}function n_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n_(Object(r),!0).forEach(function(n){tK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tK(e,t,r){return(t=rK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rK(e){var t=nK(e,"string");return typeof t=="symbol"?t:t+""}function nK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aK(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return k.isValidElement(t)?k.cloneElement(t,n):k.createElement(r,n)}function iK(e){var t,{coordinate:r,payload:n,index:a,offset:i,tooltipAxisBandSize:o,layout:s,cursor:c,tooltipEventType:l,chartName:u}=e,d=r,h=n,p=a;if(!c||!d||u!=="ScatterChart"&&l!=="axis")return null;var v,w,f;if(u==="ScatterChart")v=d,w=TF,f=Mt.cursorLine;else if(u==="BarChart")v=CF(s,d,i,o),w=u3,f=Mt.cursorRectangle;else if(s==="radial"&&v1(d)){var{cx:b,cy:m,radius:y,startAngle:x,endAngle:g}=NP(d);v={cx:b,cy:m,startAngle:x,endAngle:g,innerRadius:y,outerRadius:y},w=P3,f=Mt.cursorLine}else v={points:$3(s,d,i)},w=lc,f=Mt.cursorLine;var _=typeof c=="object"&&"className"in c?c.className:void 0,S=rc(rc(rc(rc({stroke:"#ccc",pointerEvents:"none"},i),v),Tl(c)),{},{payload:h,payloadIndex:p,className:De("recharts-tooltip-cursor",_)});return k.createElement(hn,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:f},k.createElement(aK,{cursor:c,cursorComp:w,cursorProps:S}))}function oK(e){var t=kB(),r=hP(),n=Wa(),a=zk();return t==null||r==null||n==null||a==null?null:k.createElement(iK,lh({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var Vk=k.createContext(null),sK=()=>k.useContext(Vk),of={exports:{}},a_;function cK(){return a_||(a_=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function i(c,l,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new a(u,d||c,h),v=r?r+l:l;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],p]:c._events[v].push(p):(c._events[v]=p,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new n:delete c._events[l]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],u,d;if(this._eventsCount===0)return l;for(d in u=this._events)t.call(u,d)&&l.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},s.prototype.listeners=function(l){var u=r?r+l:l,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,v=new Array(p);h<p;h++)v[h]=d[h].fn;return v},s.prototype.listenerCount=function(l){var u=r?r+l:l,d=this._events[u];return d?d.fn?1:d.length:0},s.prototype.emit=function(l,u,d,h,p,v){var w=r?r+l:l;if(!this._events[w])return!1;var f=this._events[w],b=arguments.length,m,y;if(f.fn){switch(f.once&&this.removeListener(l,f.fn,void 0,!0),b){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,u),!0;case 3:return f.fn.call(f.context,u,d),!0;case 4:return f.fn.call(f.context,u,d,h),!0;case 5:return f.fn.call(f.context,u,d,h,p),!0;case 6:return f.fn.call(f.context,u,d,h,p,v),!0}for(y=1,m=new Array(b-1);y<b;y++)m[y-1]=arguments[y];f.fn.apply(f.context,m)}else{var x=f.length,g;for(y=0;y<x;y++)switch(f[y].once&&this.removeListener(l,f[y].fn,void 0,!0),b){case 1:f[y].fn.call(f[y].context);break;case 2:f[y].fn.call(f[y].context,u);break;case 3:f[y].fn.call(f[y].context,u,d);break;case 4:f[y].fn.call(f[y].context,u,d,h);break;default:if(!m)for(g=1,m=new Array(b-1);g<b;g++)m[g-1]=arguments[g];f[y].fn.apply(f[y].context,m)}}return!0},s.prototype.on=function(l,u,d){return i(this,l,u,d,!1)},s.prototype.once=function(l,u,d){return i(this,l,u,d,!0)},s.prototype.removeListener=function(l,u,d,h){var p=r?r+l:l;if(!this._events[p])return this;if(!u)return o(this,p),this;var v=this._events[p];if(v.fn)v.fn===u&&(!h||v.once)&&(!d||v.context===d)&&o(this,p);else{for(var w=0,f=[],b=v.length;w<b;w++)(v[w].fn!==u||h&&!v[w].once||d&&v[w].context!==d)&&f.push(v[w]);f.length?this._events[p]=f.length===1?f[0]:f:o(this,p)}return this},s.prototype.removeAllListeners=function(l){var u;return l?(u=r?r+l:l,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(of)),of.exports}var lK=cK();const uK=an(lK);var Fi=new uK,uh="recharts.syncEvent.tooltip",i_="recharts.syncEvent.brush",dK=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!Ar(r))return e[r]}},fK={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},Bk=Kt({name:"options",initialState:fK,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),hK=Bk.reducer,{createEventEmitter:pK}=Bk.actions;function mK(e){return e.tooltip.syncInteraction}var vK={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Kk=Kt({name:"chartData",initialState:vK,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:o_,setDataStartEndIndexes:yK,setComputedData:s8}=Kk.actions,gK=Kk.reducer,bK=["x","y"];function s_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s_(Object(r),!0).forEach(function(n){wK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wK(e,t,r){return(t=_K(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _K(e){var t=xK(e,"string");return typeof t=="symbol"?t:t+""}function xK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SK(e,t){if(e==null)return{};var r,n,a=PK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function PK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $K(){var e=de(Wp),t=de(Hp),r=lt(),n=de(k$),a=de(fn),i=Wa(),o=Gl(),s=de(c=>c.rootProps.className);k.useEffect(()=>{if(e==null)return Ka;var c=(l,u,d)=>{if(t!==d&&e===l){if(n==="index"){var h;if(o&&u!==null&&u!==void 0&&(h=u.payload)!==null&&h!==void 0&&h.coordinate&&u.payload.sourceViewBox){var p=u.payload.coordinate,{x:v,y:w}=p,f=SK(p,bK),{x:b,y:m,width:y,height:x}=u.payload.sourceViewBox,g=wa(wa({},f),{},{x:o.x+(y?(v-b)/y:0)*o.width,y:o.y+(x?(w-m)/x:0)*o.height});r(wa(wa({},u),{},{payload:wa(wa({},u.payload),{},{coordinate:g})}))}else r(u);return}if(a!=null){var _;if(typeof n=="function"){var S={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},E=n(a,S);_=a[E]}else n==="value"&&(_=a.find(ae=>String(ae.value)===u.payload.label));var{coordinate:I}=u.payload;if(_==null||u.payload.active===!1||I==null||o==null){r(sh({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:L,y:R}=I,C=Math.min(L,o.x+o.width),U=Math.min(R,o.y+o.height),B={x:i==="horizontal"?_.coordinate:C,y:i==="horizontal"?U:_.coordinate},Q=sh({active:u.payload.active,coordinate:B,dataKey:u.payload.dataKey,index:String(_.index),label:u.payload.label,sourceViewBox:u.payload.sourceViewBox,graphicalItemId:u.payload.graphicalItemId});r(Q)}}};return Fi.on(uh,c),()=>{Fi.off(uh,c)}},[s,r,t,e,n,a,i,o])}function kK(){var e=de(Wp),t=de(Hp),r=lt();k.useEffect(()=>{if(e==null)return Ka;var n=(a,i,o)=>{t!==o&&e===a&&r(yK(i))};return Fi.on(i_,n),()=>{Fi.off(i_,n)}},[r,t,e])}function EK(){var e=lt();k.useEffect(()=>{e(pK())},[e]),$K(),kK()}function OK(e,t,r,n,a,i){var o=de(p=>IB(p,e,t)),s=de(Hp),c=de(Wp),l=de(k$),u=de(mK),d=u?.active,h=Gl();k.useEffect(()=>{if(!d&&c!=null&&s!=null){var p=sh({active:i,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:h,graphicalItemId:void 0});Fi.emit(uh,c,p,s)}},[d,r,o,a,n,s,c,l,i,h])}function c_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function l_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c_(Object(r),!0).forEach(function(n){jK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jK(e,t,r){return(t=NK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NK(e){var t=TK(e,"string");return typeof t=="symbol"?t:t+""}function TK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CK(e){return e.dataKey}function AK(e,t){return k.isValidElement(e)?k.cloneElement(e,t):typeof e=="function"?k.createElement(e,t):k.createElement(uF,t)}var u_=[],IK={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function RK(e){var t,r,n=tr(e,IK),{active:a,allowEscapeViewBox:i,animationDuration:o,animationEasing:s,content:c,filterNull:l,isAnimationActive:u,offset:d,payloadUniqBy:h,position:p,reverseDirection:v,useTranslate3d:w,wrapperStyle:f,cursor:b,shared:m,trigger:y,defaultIndex:x,portal:g,axisId:_}=n,S=lt(),E=typeof x=="number"?String(x):x;k.useEffect(()=>{S(NV({shared:m,trigger:y,axisId:_,active:a,defaultIndex:E}))},[S,m,y,_,a,E]);var I=Gl(),L=PP(),R=PV(m),{activeIndex:C,isActive:U}=(t=de(K=>DB(K,R,y,E)))!==null&&t!==void 0?t:{},B=de(K=>MB(K,R,y,E)),Q=de(K=>Fk(K,R,y,E)),ae=de(K=>RB(K,R,y,E)),te=B,W=sK(),ue=(r=a??U)!==null&&r!==void 0?r:!1,[F,T]=Yz([te,ue]),z=R==="axis"?Q:void 0;OK(R,y,ae,z,C,ue);var A=g??W;if(A==null||I==null||R==null)return null;var P=te??u_;ue||(P=u_),l&&P.length&&(P=xz(P.filter(K=>K.value!=null&&(K.hide!==!0||n.includeHidden)),h,CK));var N=P.length>0,D=k.createElement(yF,{allowEscapeViewBox:i,animationDuration:o,animationEasing:s,isAnimationActive:u,active:ue,coordinate:ae,hasPayload:N,offset:d,position:p,reverseDirection:v,useTranslate3d:w,viewBox:I,wrapperStyle:f,lastBoundingBox:F,innerRef:T,hasPortalFromProps:!!g},AK(c,l_(l_({},n),{},{payload:P,label:z,active:ue,activeIndex:C,coordinate:ae,accessibilityLayer:L})));return k.createElement(k.Fragment,null,XS.createPortal(D,A),ue&&k.createElement(oK,{cursor:b,tooltipEventType:R,coordinate:ae,payload:P,index:C}))}function MK(e,t,r){return(t=DK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DK(e){var t=zK(e,"string");return typeof t=="symbol"?t:t+""}function zK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class LK{constructor(t){MK(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function d_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d_(Object(r),!0).forEach(function(n){FK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FK(e,t,r){return(t=UK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UK(e){var t=VK(e,"string");return typeof t=="symbol"?t:t+""}function VK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BK={cacheSize:2e3,enableCache:!0},Wk=qK({},BK),f_=new LK(Wk.cacheSize),KK={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},h_="recharts_measurement_span";function WK(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(s)}var p_=(e,t)=>{try{var r=document.getElementById(h_);r||(r=document.createElement("span"),r.setAttribute("id",h_),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,KK,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},xi=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||eo.isSsr)return{width:0,height:0};if(!Wk.enableCache)return p_(t,r);var n=WK(t,r),a=f_.get(n);if(a)return a;var i=p_(t,r);return f_.set(n,i),i},Hk;function HK(e,t,r){return(t=ZK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZK(e){var t=GK(e,"string");return typeof t=="symbol"?t:t+""}function GK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,v_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YK=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,JK=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,XK={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},QK=["cm","mm","pt","pc","in","Q","px"];function e9(e){return QK.includes(e)}var Ea="NaN";function t9(e,t){return e*XK[t]}class yt{static parse(t){var r,[,n,a]=(r=JK.exec(t))!==null&&r!==void 0?r:[];return n==null?yt.NaN:new yt(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Ar(t)&&(this.unit=""),r!==""&&!YK.test(r)&&(this.num=NaN,this.unit=""),e9(r)&&(this.num=t9(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new yt(NaN,""):new yt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new yt(NaN,""):new yt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new yt(NaN,""):new yt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new yt(NaN,""):new yt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ar(this.num)}}Hk=yt;HK(yt,"NaN",new Hk(NaN,""));function Zk(e){if(e==null||e.includes(Ea))return Ea;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=m_.exec(t))!==null&&r!==void 0?r:[],o=yt.parse(n??""),s=yt.parse(i??""),c=a==="*"?o.multiply(s):o.divide(s);if(c.isNaN())return Ea;t=t.replace(m_,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var l,[,u,d,h]=(l=v_.exec(t))!==null&&l!==void 0?l:[],p=yt.parse(u??""),v=yt.parse(h??""),w=d==="+"?p.add(v):p.subtract(v);if(w.isNaN())return Ea;t=t.replace(v_,w.toString())}return t}var y_=/\(([^()]*)\)/;function r9(e){for(var t=e,r;(r=y_.exec(t))!=null;){var[,n]=r;t=t.replace(y_,Zk(n))}return t}function n9(e){var t=e.replace(/\s+/g,"");return t=r9(t),t=Zk(t),t}function a9(e){try{return n9(e)}catch{return Ea}}function sf(e){var t=a9(e.slice(5,-1));return t===Ea?"":t}var i9=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],o9=["dx","dy","angle","className","breakAll"];function dh(){return dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dh.apply(null,arguments)}function g_(e,t){if(e==null)return{};var r,n,a=s9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function s9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Gk=/[ \f\n\r\t\v\u2028\u2029]+/,Yk=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Nt(t)||(r?a=t.toString().split(""):a=t.toString().split(Gk));var i=a.map(s=>({word:s,width:xi(s,n).width})),o=r?0:xi(" ",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function c9(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var Jk=(e,t,r,n)=>e.reduce((a,i)=>{var{word:o,width:s}=i,c=a[a.length-1];if(c&&s!=null&&(t==null||n||c.width+s+r<Number(t)))c.words.push(o),c.width+=s+r;else{var l={words:[o],width:s};a.push(l)}return a},[]),Xk=e=>e.reduce((t,r)=>t.width>r.width?t:r),l9="…",b_=(e,t,r,n,a,i,o,s)=>{var c=e.slice(0,t),l=Yk({breakAll:r,style:n,children:c+l9});if(!l)return[!1,[]];var u=Jk(l.wordsWithComputedWidth,i,o,s),d=u.length>a||Xk(u).width>Number(i);return[d,u]},u9=(e,t,r,n,a)=>{var{maxLines:i,children:o,style:s,breakAll:c}=e,l=se(i),u=String(o),d=Jk(t,n,r,a);if(!l||a)return d;var h=d.length>i||Xk(d).width>Number(n);if(!h)return d;for(var p=0,v=u.length-1,w=0,f;p<=v&&w<=u.length-1;){var b=Math.floor((p+v)/2),m=b-1,[y,x]=b_(u,m,c,s,i,n,r,a),[g]=b_(u,b,c,s,i,n,r,a);if(!y&&!g&&(p=b+1),y&&g&&(v=b-1),!y&&g){f=x;break}w++}return f||d},w_=e=>{var t=Nt(e)?[]:e.toString().split(Gk);return[{words:t,width:void 0}]},d9=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:o}=e;if((t||r)&&!eo.isSsr){var s,c,l=Yk({breakAll:i,children:n,style:a});if(l){var{wordsWithComputedWidth:u,spaceWidth:d}=l;s=u,c=d}else return w_(n);return u9({breakAll:i,children:n,maxLines:o,style:a},s,c,t,!!r)}return w_(n)},Qk="#808080",f9={angle:0,breakAll:!1,capHeight:"0.71em",fill:Qk,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},gm=k.forwardRef((e,t)=>{var r=tr(e,f9),{x:n,y:a,lineHeight:i,capHeight:o,fill:s,scaleToFit:c,textAnchor:l,verticalAnchor:u}=r,d=g_(r,i9),h=k.useMemo(()=>d9({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:c,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,c,d.style,d.width]),{dx:p,dy:v,angle:w,className:f,breakAll:b}=d,m=g_(d,o9);if(!Ir(n)||!Ir(a)||h.length===0)return null;var y=Number(n)+(se(p)?p:0),x=Number(a)+(se(v)?v:0);if(!xe(y)||!xe(x))return null;var g;switch(u){case"start":g=sf("calc(".concat(o,")"));break;case"middle":g=sf("calc(".concat((h.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:g=sf("calc(".concat(h.length-1," * -").concat(i,")"));break}var _=[],S=h[0];if(c&&S!=null){var E=S.width,{width:I}=d;_.push("scale(".concat(se(I)&&se(E)?I/E:1,")"))}return w&&_.push("rotate(".concat(w,", ").concat(y,", ").concat(x,")")),_.length&&(m.transform=_.join(" ")),k.createElement("text",dh({},or(m),{ref:t,x:y,y:x,className:De("recharts-text",f),textAnchor:l,fill:s.includes("url")?Qk:s}),h.map((L,R)=>{var C=L.words.join(b?"":" ");return k.createElement("tspan",{x:y,dy:R===0?g:i,key:"".concat(C,"-").concat(R)},C)}))});gm.displayName="Text";function __(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?__(Object(r),!0).forEach(function(n){h9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):__(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h9(e,t,r){return(t=p9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p9(e){var t=m9(e,"string");return typeof t=="symbol"?t:t+""}function m9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v9=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:a}=e,{x:i,y:o,height:s,upperWidth:c,lowerWidth:l}=vp(t),u=i,d=i+(c-l)/2,h=(u+d)/2,p=(c+l)/2,v=u+c/2,w=s>=0?1:-1,f=w*n,b=w>0?"end":"start",m=w>0?"start":"end",y=c>=0?1:-1,x=y*n,g=y>0?"end":"start",_=y>0?"start":"end",S=a;if(r==="top"){var E={x:u+c/2,y:o-f,horizontalAnchor:"middle",verticalAnchor:b};return S&&(E.height=Math.max(o-S.y,0),E.width=c),E}if(r==="bottom"){var I={x:d+l/2,y:o+s+f,horizontalAnchor:"middle",verticalAnchor:m};return S&&(I.height=Math.max(S.y+S.height-(o+s),0),I.width=l),I}if(r==="left"){var L={x:h-x,y:o+s/2,horizontalAnchor:g,verticalAnchor:"middle"};return S&&(L.width=Math.max(L.x-S.x,0),L.height=s),L}if(r==="right"){var R={x:h+p+x,y:o+s/2,horizontalAnchor:_,verticalAnchor:"middle"};return S&&(R.width=Math.max(S.x+S.width-R.x,0),R.height=s),R}var C=S?{width:p,height:s}:{};return r==="insideLeft"?Er({x:h+x,y:o+s/2,horizontalAnchor:_,verticalAnchor:"middle"},C):r==="insideRight"?Er({x:h+p-x,y:o+s/2,horizontalAnchor:g,verticalAnchor:"middle"},C):r==="insideTop"?Er({x:u+c/2,y:o+f,horizontalAnchor:"middle",verticalAnchor:m},C):r==="insideBottom"?Er({x:d+l/2,y:o+s-f,horizontalAnchor:"middle",verticalAnchor:b},C):r==="insideTopLeft"?Er({x:u+x,y:o+f,horizontalAnchor:_,verticalAnchor:m},C):r==="insideTopRight"?Er({x:u+c-x,y:o+f,horizontalAnchor:g,verticalAnchor:m},C):r==="insideBottomLeft"?Er({x:d+x,y:o+s-f,horizontalAnchor:_,verticalAnchor:b},C):r==="insideBottomRight"?Er({x:d+l-x,y:o+s-f,horizontalAnchor:g,verticalAnchor:b},C):r&&typeof r=="object"&&(se(r.x)||na(r.x))&&(se(r.y)||na(r.y))?Er({x:i+En(r.x,p),y:o+En(r.y,s),horizontalAnchor:"end",verticalAnchor:"end"},C):Er({x:v,y:o+s/2,horizontalAnchor:"middle",verticalAnchor:"middle"},C)},y9=["labelRef"],g9=["content"];function x_(e,t){if(e==null)return{};var r,n,a=b9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function b9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function S_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S_(Object(r),!0).forEach(function(n){w9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w9(e,t,r){return(t=_9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _9(e){var t=x9(e,"string");return typeof t=="symbol"?t:t+""}function x9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hr(){return Hr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hr.apply(null,arguments)}var eE=k.createContext(null),S9=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o,children:s}=e,c=k.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o}),[t,r,n,a,i,o]);return k.createElement(eE.Provider,{value:c},s)},tE=()=>{var e=k.useContext(eE),t=Gl();return e||(t?vp(t):void 0)},P9=k.createContext(null),$9=()=>{var e=k.useContext(P9),t=de(T$);return e||t},k9=e=>{var{value:t,formatter:r}=e,n=Nt(e.children)?t:e.children;return typeof r=="function"?r(n):n},bm=e=>e!=null&&typeof e=="function",E9=(e,t)=>{var r=ar(t-e),n=Math.min(Math.abs(t-e),360);return r*n},O9=(e,t,r,n,a)=>{var{offset:i,className:o}=e,{cx:s,cy:c,innerRadius:l,outerRadius:u,startAngle:d,endAngle:h,clockWise:p}=a,v=(l+u)/2,w=E9(d,h),f=w>=0?1:-1,b,m;switch(t){case"insideStart":b=d+f*i,m=p;break;case"insideEnd":b=h-f*i,m=!p;break;case"end":b=h+f*i,m=p;break;default:throw new Error("Unsupported position ".concat(t))}m=w<=0?m:!m;var y=wt(s,c,v,b),x=wt(s,c,v,b+(m?1:-1)*359),g="M".concat(y.x,",").concat(y.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(m?0:1,`,
    `).concat(x.x,",").concat(x.y),_=Nt(e.id)?Ei("recharts-radial-line-"):e.id;return k.createElement("text",Hr({},n,{dominantBaseline:"central",className:De("recharts-radial-bar-label",o)}),k.createElement("defs",null,k.createElement("path",{id:_,d:g})),k.createElement("textPath",{xlinkHref:"#".concat(_)},r))},j9=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:s,endAngle:c}=e,l=(s+c)/2;if(r==="outside"){var{x:u,y:d}=wt(n,a,o+t,l);return{x:u,y:d,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(i+o)/2,{x:p,y:v}=wt(n,a,h,l);return{x:p,y:v,textAnchor:"middle",verticalAnchor:"middle"}},dc=e=>e!=null&&"cx"in e&&se(e.cx),N9={angle:0,offset:5,zIndex:Mt.label,position:"middle",textBreakAll:!1};function T9(e){if(!dc(e))return e;var{cx:t,cy:r,outerRadius:n}=e,a=n*2;return{x:t-n,y:r-n,width:a,upperWidth:a,lowerWidth:a,height:a}}function wn(e){var t=tr(e,N9),{viewBox:r,parentViewBox:n,position:a,value:i,children:o,content:s,className:c="",textBreakAll:l,labelRef:u}=t,d=$9(),h=tE(),p=a==="center"?h:d??h,v,w,f;r==null?v=p:dc(r)?v=r:v=vp(r);var b=T9(v);if(!v||Nt(i)&&Nt(o)&&!k.isValidElement(s)&&typeof s!="function")return null;var m=wi(wi({},t),{},{viewBox:v});if(k.isValidElement(s)){var{labelRef:y}=m,x=x_(m,y9);return k.cloneElement(s,x)}if(typeof s=="function"){var{content:g}=m,_=x_(m,g9);if(w=k.createElement(s,_),k.isValidElement(w))return w}else w=k9(t);var S=or(t);if(dc(v)){if(a==="insideStart"||a==="insideEnd"||a==="end")return O9(t,a,w,S,v);f=j9(v,t.offset,t.position)}else{if(!b)return null;var E=v9({viewBox:b,position:a,offset:t.offset,parentViewBox:dc(n)?void 0:n});f=wi(wi({x:E.x,y:E.y,textAnchor:E.horizontalAnchor,verticalAnchor:E.verticalAnchor},E.width!==void 0?{width:E.width}:{}),E.height!==void 0?{height:E.height}:{})}return k.createElement(hn,{zIndex:t.zIndex},k.createElement(gm,Hr({ref:u,className:De("recharts-label",c)},S,f,{textAnchor:c9(S.textAnchor)?S.textAnchor:f.textAnchor,breakAll:l}),w))}wn.displayName="Label";var C9=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?k.createElement(wn,Hr({key:"label-implicit"},n)):Ir(e)?k.createElement(wn,Hr({key:"label-implicit",value:e},n)):k.isValidElement(e)?e.type===wn?k.cloneElement(e,wi({key:"label-implicit"},n)):k.createElement(wn,Hr({key:"label-implicit",content:e},n)):bm(e)?k.createElement(wn,Hr({key:"label-implicit",content:e},n)):e&&typeof e=="object"?k.createElement(wn,Hr({},e,{key:"label-implicit"},n)):null};function A9(e){var{label:t,labelRef:r}=e,n=tE();return C9(t,n,r)||null}var cf={},lf={},P_;function I9(){return P_||(P_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(lf)),lf}var uf={},$_;function R9(){return $_||($_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(uf)),uf}var k_;function M9(){return k_||(k_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I9(),r=R9(),n=op();function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(cf)),cf}var df,E_;function D9(){return E_||(E_=1,df=M9().last),df}var z9=D9();const L9=an(z9);var q9=["valueAccessor"],F9=["dataKey","clockWise","id","textBreakAll","zIndex"];function sl(){return sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sl.apply(null,arguments)}function O_(e,t){if(e==null)return{};var r,n,a=U9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function U9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var V9=e=>Array.isArray(e.value)?L9(e.value):e.value,rE=k.createContext(void 0),B9=rE.Provider,nE=k.createContext(void 0);nE.Provider;function K9(){return k.useContext(rE)}function W9(){return k.useContext(nE)}function fc(e){var{valueAccessor:t=V9}=e,r=O_(e,q9),{dataKey:n,clockWise:a,id:i,textBreakAll:o,zIndex:s}=r,c=O_(r,F9),l=K9(),u=W9(),d=l||u;return!d||!d.length?null:k.createElement(hn,{zIndex:s??Mt.label},k.createElement(Cr,{className:"recharts-label-list"},d.map((h,p)=>{var v,w=Nt(n)?t(h,p):_t(h.payload,n),f=Nt(i)?{}:{id:"".concat(i,"-").concat(p)};return k.createElement(wn,sl({key:"label-".concat(p)},or(h),c,f,{fill:(v=r.fill)!==null&&v!==void 0?v:h.fill,parentViewBox:h.parentViewBox,value:w,textBreakAll:o,viewBox:h.viewBox,index:p,zIndex:0}))})))}fc.displayName="LabelList";function H9(e){var{label:t}=e;return t?t===!0?k.createElement(fc,{key:"labelList-implicit"}):k.isValidElement(t)||bm(t)?k.createElement(fc,{key:"labelList-implicit",content:t}):typeof t=="object"?k.createElement(fc,sl({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function fh(){return fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fh.apply(null,arguments)}var aE=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=De("recharts-dot",a);return se(t)&&se(r)&&se(n)?k.createElement("circle",fh({},wr(e),ip(e),{className:i,cx:t,cy:r,r:n})):null},Z9={radiusAxis:{},angleAxis:{}},iE=Kt({name:"polarAxis",initialState:Z9,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:c8,removeRadiusAxis:l8,addAngleAxis:u8,removeAngleAxis:d8}=iE.actions,G9=iE.reducer;function Y9(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var ff={exports:{}},Ne={};var j_;function J9(){if(j_)return Ne;j_=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,a=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,s=e?Symbol.for("react.context"):60110,c=e?Symbol.for("react.async_mode"):60111,l=e?Symbol.for("react.concurrent_mode"):60111,u=e?Symbol.for("react.forward_ref"):60112,d=e?Symbol.for("react.suspense"):60113,h=e?Symbol.for("react.suspense_list"):60120,p=e?Symbol.for("react.memo"):60115,v=e?Symbol.for("react.lazy"):60116,w=e?Symbol.for("react.block"):60121,f=e?Symbol.for("react.fundamental"):60117,b=e?Symbol.for("react.responder"):60118,m=e?Symbol.for("react.scope"):60119;function y(g){if(typeof g=="object"&&g!==null){var _=g.$$typeof;switch(_){case t:switch(g=g.type,g){case c:case l:case n:case i:case a:case d:return g;default:switch(g=g&&g.$$typeof,g){case s:case u:case v:case p:case o:return g;default:return _}}case r:return _}}}function x(g){return y(g)===l}return Ne.AsyncMode=c,Ne.ConcurrentMode=l,Ne.ContextConsumer=s,Ne.ContextProvider=o,Ne.Element=t,Ne.ForwardRef=u,Ne.Fragment=n,Ne.Lazy=v,Ne.Memo=p,Ne.Portal=r,Ne.Profiler=i,Ne.StrictMode=a,Ne.Suspense=d,Ne.isAsyncMode=function(g){return x(g)||y(g)===c},Ne.isConcurrentMode=x,Ne.isContextConsumer=function(g){return y(g)===s},Ne.isContextProvider=function(g){return y(g)===o},Ne.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===t},Ne.isForwardRef=function(g){return y(g)===u},Ne.isFragment=function(g){return y(g)===n},Ne.isLazy=function(g){return y(g)===v},Ne.isMemo=function(g){return y(g)===p},Ne.isPortal=function(g){return y(g)===r},Ne.isProfiler=function(g){return y(g)===i},Ne.isStrictMode=function(g){return y(g)===a},Ne.isSuspense=function(g){return y(g)===d},Ne.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===n||g===l||g===i||g===a||g===d||g===h||typeof g=="object"&&g!==null&&(g.$$typeof===v||g.$$typeof===p||g.$$typeof===o||g.$$typeof===s||g.$$typeof===u||g.$$typeof===f||g.$$typeof===b||g.$$typeof===m||g.$$typeof===w)},Ne.typeOf=y,Ne}var N_;function X9(){return N_||(N_=1,ff.exports=J9()),ff.exports}X9();var oE=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function Q9(e){var{tooltipEntrySettings:t}=e,r=lt(),n=Wt(),a=k.useRef(null);return k.useLayoutEffect(()=>{n||(a.current===null?r(EV(t)):a.current!==t&&r(OV({prev:a.current,next:t})),a.current=t)},[t,r,n]),k.useLayoutEffect(()=>()=>{a.current&&(r(jV(a.current)),a.current=null)},[r]),null}function e6(e){var{legendPayload:t}=e,r=lt(),n=Wt(),a=k.useRef(null);return k.useLayoutEffect(()=>{n||(a.current===null?r(rF(t)):a.current!==t&&r(nF({prev:a.current,next:t})),a.current=t)},[r,n,t]),k.useLayoutEffect(()=>()=>{a.current&&(r(aF(a.current)),a.current=null)},[r]),null}var hf,t6=()=>{var[e]=k.useState(()=>Ei("uid-"));return e},r6=(hf=VE.useId)!==null&&hf!==void 0?hf:t6;function n6(e,t){var r=r6();return t||(e?"".concat(e,"-").concat(r):r)}var a6=k.createContext(void 0),i6=e=>{var{id:t,type:r,children:n}=e,a=n6("recharts-".concat(r),t);return k.createElement(a6.Provider,{value:a},n(a))},o6={cartesianItems:[],polarItems:[]},sE=Kt({name:"graphicalItems",initialState:o6,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:qe()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=br(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:qe()},removeCartesianGraphicalItem:{reducer(e,t){var r=br(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:qe()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:qe()},removePolarGraphicalItem:{reducer(e,t){var r=br(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:qe()}}}),{addCartesianGraphicalItem:s6,replaceCartesianGraphicalItem:c6,removeCartesianGraphicalItem:l6,addPolarGraphicalItem:f8,removePolarGraphicalItem:h8}=sE.actions,u6=sE.reducer,d6=e=>{var t=lt(),r=k.useRef(null);return k.useLayoutEffect(()=>{r.current===null?t(s6(e)):r.current!==e&&t(c6({prev:r.current,next:e})),r.current=e},[t,e]),k.useLayoutEffect(()=>()=>{r.current&&(t(l6(r.current)),r.current=null)},[t]),null},f6=k.memo(d6),h6=["points"];function T_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T_(Object(r),!0).forEach(function(n){p6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p6(e,t,r){return(t=m6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m6(e){var t=v6(e,"string");return typeof t=="symbol"?t:t+""}function v6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cl(){return cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cl.apply(null,arguments)}function y6(e,t){if(e==null)return{};var r,n,a=g6(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function g6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function b6(e){var{option:t,dotProps:r,className:n}=e;if(k.isValidElement(t))return k.cloneElement(t,r);if(typeof t=="function")return t(r);var a=De(n,typeof t!="boolean"?t.className:""),i=r??{},{points:o}=i,s=y6(i,h6);return k.createElement(aE,cl({},s,{className:a}))}function w6(e,t){return e==null?!1:t?!0:e.length===1}function _6(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:i,baseProps:o,needClip:s,clipPathId:c,zIndex:l=Mt.scatter}=e;if(!w6(t,r))return null;var u=oE(r),d=m2(r),h=t.map((v,w)=>{var f,b,m=pf(pf(pf({r:3},o),d),{},{index:w,cx:(f=v.x)!==null&&f!==void 0?f:void 0,cy:(b=v.y)!==null&&b!==void 0?b:void 0,dataKey:i,value:v.value,payload:v.payload,points:t});return k.createElement(b6,{key:"dot-".concat(w),option:r,dotProps:m,className:a})}),p={};return s&&c!=null&&(p.clipPath="url(#clipPath-".concat(u?"":"dots-").concat(c,")")),k.createElement(hn,{zIndex:l},k.createElement(Cr,cl({className:n},p),h))}function C_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function A_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C_(Object(r),!0).forEach(function(n){x6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x6(e,t,r){return(t=S6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S6(e){var t=P6(e,"string");return typeof t=="symbol"?t:t+""}function P6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cE=0,$6={xAxis:{},yAxis:{},zAxis:{}},lE=Kt({name:"cartesianAxis",initialState:$6,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:qe()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:qe()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:qe()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:qe()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:qe()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:qe()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:qe()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:qe()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:qe()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i,o=a.widthHistory||[];if(o.length===3&&o[0]===o[2]&&n===o[1]&&n!==a.width&&Math.abs(n-((i=o[0])!==null&&i!==void 0?i:0))<=1)return;var s=[...o,n].slice(-3);e.yAxis[r]=A_(A_({},a),{},{width:n,widthHistory:s})}}}}),{addXAxis:k6,replaceXAxis:E6,removeXAxis:O6,addYAxis:j6,replaceYAxis:N6,removeYAxis:T6,addZAxis:p8,replaceZAxis:m8,removeZAxis:v8,updateYAxisWidth:C6}=lE.actions,A6=lE.reducer,I6=H([$t],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),R6=H([I6,on,sn],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),wm=()=>de(R6),M6=()=>de(_B);function I_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I_(Object(r),!0).forEach(function(n){D6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D6(e,t,r){return(t=z6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z6(e){var t=L6(e,"string");return typeof t=="symbol"?t:t+""}function L6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q6=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i,clipPath:o}=e;if(a===!1||t.x==null||t.y==null)return null;var s={index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=mf(mf(mf({},s),Tl(a)),ip(a)),l;return k.isValidElement(a)?l=k.cloneElement(a,c):typeof a=="function"?l=a(c):l=k.createElement(aE,c),k.createElement(Cr,{className:"recharts-active-dot",clipPath:o},l)};function R_(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:i,zIndex:o=Mt.activeDot}=e,s=de(qi),c=M6();if(t==null||c==null)return null;var l=t.find(u=>c.includes(u.payload));return Nt(l)?null:k.createElement(hn,{zIndex:o},k.createElement(q6,{point:l,childIndex:Number(s),mainColor:r,dataKey:a,activeDot:n,clipPath:i}))}var F6=e=>{var{chartData:t}=e,r=lt(),n=Wt();return k.useEffect(()=>n?()=>{}:(r(o_(t)),()=>{r(o_(void 0))}),[t,r,n]),null},M_={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},uE=Kt({name:"brush",initialState:M_,reducers:{setBrushSettings(e,t){return t.payload==null?M_:t.payload}}}),{setBrushSettings:y8}=uE.actions,U6=uE.reducer;function V6(e){return(e%180+180)%180}var B6=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=V6(a),o=i*Math.PI/180,s=Math.atan(n/r),c=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},K6={dots:[],areas:[],lines:[]},dE=Kt({name:"referenceElements",initialState:K6,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=br(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=br(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=br(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:g8,removeDot:b8,addArea:w8,removeArea:_8,addLine:x8,removeLine:S8}=dE.actions,W6=dE.reducer,H6=k.createContext(void 0),Z6=e=>{var{children:t}=e,[r]=k.useState("".concat(Ei("recharts"),"-clip")),n=wm();if(n==null)return null;var{x:a,y:i,width:o,height:s}=n;return k.createElement(H6.Provider,{value:r},k.createElement("defs",null,k.createElement("clipPath",{id:r},k.createElement("rect",{x:a,y:i,height:s,width:o}))),t)};function fE(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function G6(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return B6(n,r)}function Y6(e,t,r){var n=r==="width",{x:a,y:i,width:o,height:s}=e;return t===1?{start:n?a:i,end:n?a+o:i+s}:{start:n?a+o:i+s,end:n?a:i}}function Ui(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function J6(e,t){return fE(e,t+1)}function X6(e,t,r,n,a){for(var i=(n||[]).slice(),{start:o,end:s}=t,c=0,l=1,u=o,d=function(){var v=n?.[c];if(v===void 0)return{v:fE(n,l)};var w=c,f,b=()=>(f===void 0&&(f=r(v,w)),f),m=v.coordinate,y=c===0||Ui(e,m,b,u,s);y||(c=0,u=o,l+=1),y&&(u=m+e*(b()/2+a),c+=l)},h;l<=i.length;)if(h=d(),h)return h.v;return[]}function Q6(e,t,r,n,a){var i=(n||[]).slice(),o=i.length;if(o===0)return[];for(var{start:s,end:c}=t,l=1;l<=o;l++){for(var u=(o-1)%l,d=s,h=!0,p=function(){var x=n[w];if(x==null)return 0;var g=w,_,S=()=>(_===void 0&&(_=r(x,g)),_),E=x.coordinate,I=w===u||Ui(e,E,S,d,c);if(!I)return h=!1,1;I&&(d=E+e*(S()/2+a))},v,w=u;w<o&&(v=p(),!(v!==0&&v===1));w+=l);if(h){for(var f=[],b=u;b<o;b+=l){var m=n[b];m!=null&&f.push(m)}return f}}return[]}function D_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D_(Object(r),!0).forEach(function(n){eW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eW(e,t,r){return(t=tW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tW(e){var t=rW(e,"string");return typeof t=="symbol"?t:t+""}function rW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nW(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,{start:s}=t,{end:c}=t,l=function(h){var p=i[h];if(p==null)return 1;var v=p,w,f=()=>(w===void 0&&(w=r(p,h)),w);if(h===o-1){var b=e*(v.coordinate+e*f()/2-c);i[h]=v=Ot(Ot({},v),{},{tickCoord:b>0?v.coordinate-b*e:v.coordinate})}else i[h]=v=Ot(Ot({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var m=Ui(e,v.tickCoord,f,s,c);m&&(c=v.tickCoord-e*(f()/2+a),i[h]=Ot(Ot({},v),{},{isShow:!0}))}},u=o-1;u>=0;u--)l(u);return i}function aW(e,t,r,n,a,i){var o=(n||[]).slice(),s=o.length,{start:c,end:l}=t;if(i){var u=n[s-1];if(u!=null){var d=r(u,s-1),h=e*(u.coordinate+e*d/2-l);if(o[s-1]=u=Ot(Ot({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),u.tickCoord!=null){var p=Ui(e,u.tickCoord,()=>d,c,l);p&&(l=u.tickCoord-e*(d/2+a),o[s-1]=Ot(Ot({},u),{},{isShow:!0}))}}}for(var v=i?s-1:s,w=function(m){var y=o[m];if(y==null)return 1;var x=y,g,_=()=>(g===void 0&&(g=r(y,m)),g);if(m===0){var S=e*(x.coordinate-e*_()/2-c);o[m]=x=Ot(Ot({},x),{},{tickCoord:S<0?x.coordinate-S*e:x.coordinate})}else o[m]=x=Ot(Ot({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var E=Ui(e,x.tickCoord,_,c,l);E&&(c=x.tickCoord+e*(_()/2+a),o[m]=Ot(Ot({},x),{},{isShow:!0}))}},f=0;f<v;f++)w(f);return o}function _m(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:o,orientation:s,interval:c,tickFormatter:l,unit:u,angle:d}=e;if(!a||!a.length||!n)return[];if(se(c)||eo.isSsr){var h;return(h=J6(a,se(c)?c:0))!==null&&h!==void 0?h:[]}var p=[],v=s==="top"||s==="bottom"?"width":"height",w=u&&v==="width"?xi(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},f=(g,_)=>{var S=typeof l=="function"?l(g.value,_):g.value;return v==="width"?G6(xi(S,{fontSize:t,letterSpacing:r}),w,d):xi(S,{fontSize:t,letterSpacing:r})[v]},b=a[0],m=a[1],y=a.length>=2&&b!=null&&m!=null?ar(m.coordinate-b.coordinate):1,x=Y6(i,y,v);return c==="equidistantPreserveStart"?X6(y,x,f,a,o):c==="equidistantPreserveEnd"?Q6(y,x,f,a,o):(c==="preserveStart"||c==="preserveStartEnd"?p=aW(y,x,f,a,o,c==="preserveStartEnd"):p=nW(y,x,f,a,o),p.filter(g=>g.isShow))}var iW=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(u=>{if(u){var d=u.getBoundingClientRect();d.width>o&&(o=d.width)}});var s=r?r.getBoundingClientRect().width:0,c=a+i,l=o+c+s+(r?n:0);return Math.round(l)}return 0},oW=["axisLine","width","height","className","hide","ticks","axisType"];function sW(e,t){if(e==null)return{};var r,n,a=cW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ca(){return ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ca.apply(null,arguments)}function z_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Je(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z_(Object(r),!0).forEach(function(n){lW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lW(e,t,r){return(t=uW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uW(e){var t=dW(e,"string");return typeof t=="symbol"?t:t+""}function dW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jr={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Mt.axis};function fW(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:o,axisLine:s,otherSvgProps:c}=e;if(!s)return null;var l=Je(Je(Je({},c),wr(s)),{},{fill:"none"});if(i==="top"||i==="bottom"){var u=+(i==="top"&&!o||i==="bottom"&&o);l=Je(Je({},l),{},{x1:t,y1:r+u*a,x2:t+n,y2:r+u*a})}else{var d=+(i==="left"&&!o||i==="right"&&o);l=Je(Je({},l),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+a})}return k.createElement("line",ca({},l,{className:De("recharts-cartesian-axis-line",Il(s,"className"))}))}function hW(e,t,r,n,a,i,o,s,c){var l,u,d,h,p,v,w=s?-1:1,f=e.tickSize||o,b=se(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":l=u=e.coordinate,h=r+ +!s*a,d=h-w*f,v=d-w*c,p=b;break;case"left":d=h=e.coordinate,u=t+ +!s*n,l=u-w*f,p=l-w*c,v=b;break;case"right":d=h=e.coordinate,u=t+ +s*n,l=u+w*f,p=l+w*c,v=b;break;default:l=u=e.coordinate,h=r+ +s*a,d=h+w*f,v=d+w*c,p=b;break}return{line:{x1:l,y1:d,x2:u,y2:h},tick:{x:p,y:v}}}function pW(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function mW(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function vW(e){var{option:t,tickProps:r,value:n}=e,a,i=De(r.className,"recharts-cartesian-axis-tick-value");if(k.isValidElement(t))a=k.cloneElement(t,Je(Je({},r),{},{className:i}));else if(typeof t=="function")a=t(Je(Je({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=De(o,Y9(t))),a=k.createElement(gm,ca({},r,{className:o}),n)}return a}var yW=k.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:i,tickFormatter:o,unit:s,padding:c,tickTextProps:l,orientation:u,mirror:d,x:h,y:p,width:v,height:w,tickSize:f,tickMargin:b,fontSize:m,letterSpacing:y,getTicksConfig:x,events:g,axisType:_}=e,S=_m(Je(Je({},x),{},{ticks:r}),m,y),E=pW(u,d),I=mW(u,d),L=wr(x),R=Tl(n),C={};typeof a=="object"&&(C=a);var U=Je(Je({},L),{},{fill:"none"},C),B=S.map(te=>Je({entry:te},hW(te,h,p,v,w,u,f,d,b))),Q=B.map(te=>{var{entry:W,line:ue}=te;return k.createElement(Cr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},a&&k.createElement("line",ca({},U,ue,{className:De("recharts-cartesian-axis-tick-line",Il(a,"className"))})))}),ae=B.map((te,W)=>{var ue,F,{entry:T,tick:z}=te,A=Je(Je(Je(Je({verticalAnchor:I},L),{},{textAnchor:E,stroke:"none",fill:i},z),{},{index:W,payload:T,visibleTicksCount:S.length,tickFormatter:o,padding:c},l),{},{angle:(ue=(F=l?.angle)!==null&&F!==void 0?F:L.angle)!==null&&ue!==void 0?ue:0}),P=Je(Je({},A),R);return k.createElement(Cr,ca({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},J2(g,T,W)),n&&k.createElement(vW,{option:n,tickProps:P,value:"".concat(typeof o=="function"?o(T.value,W):T.value).concat(s||"")}))});return k.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(_,"-ticks")},ae.length>0&&k.createElement(hn,{zIndex:Mt.label},k.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(_,"-tick-labels"),ref:t},ae)),Q.length>0&&k.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(_,"-tick-lines")},Q))}),gW=k.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:o,ticks:s,axisType:c}=e,l=sW(e,oW),[u,d]=k.useState(""),[h,p]=k.useState(""),v=k.useRef(null);k.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var f;return iW({ticks:v.current,label:(f=e.labelRef)===null||f===void 0?void 0:f.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=k.useCallback(f=>{if(f){var b=f.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=b;var m=b[0];if(m){var y=window.getComputedStyle(m),x=y.fontSize,g=y.letterSpacing;(x!==u||g!==h)&&(d(x),p(g))}}},[u,h]);return o||n!=null&&n<=0||a!=null&&a<=0?null:k.createElement(hn,{zIndex:e.zIndex},k.createElement(Cr,{className:De("recharts-cartesian-axis",i)},k.createElement(fW,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:wr(e)}),k.createElement(yW,{ref:w,axisType:c,events:l,fontSize:u,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),k.createElement(S9,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},k.createElement(A9,{label:e.label,labelRef:e.labelRef}),e.children)))}),xm=k.forwardRef((e,t)=>{var r=tr(e,Jr);return k.createElement(gW,ca({},r,{ref:t}))});xm.displayName="CartesianAxis";var bW=["x1","y1","x2","y2","key"],wW=["offset"],_W=["xAxisId","yAxisId"],xW=["xAxisId","yAxisId"];function L_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L_(Object(r),!0).forEach(function(n){SW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SW(e,t,r){return(t=PW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PW(e){var t=$W(e,"string");return typeof t=="symbol"?t:t+""}function $W(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jn(){return Jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jn.apply(null,arguments)}function ll(e,t){if(e==null)return{};var r,n,a=kW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var EW=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:o,ry:s}=e;return k.createElement("rect",{x:n,y:a,ry:s,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function hE(e){var{option:t,lineItemProps:r}=e,n;if(k.isValidElement(t))n=k.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:i,y1:o,x2:s,y2:c,key:l}=r,u=ll(r,bW),d=(a=wr(u))!==null&&a!==void 0?a:{},{offset:h}=d,p=ll(d,wW);n=k.createElement("line",Jn({},p,{x1:i,y1:o,x2:s,y2:c,fill:"none",key:l}))}return n}function OW(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,s=ll(e,_W),c=a.map((l,u)=>{var d=jt(jt({},s),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(u),index:u});return k.createElement(hE,{key:"line-".concat(u),option:n,lineItemProps:d})});return k.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function jW(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,s=ll(e,xW),c=a.map((l,u)=>{var d=jt(jt({},s),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(u),index:u});return k.createElement(hE,{option:n,lineItemProps:d,key:"line-".concat(u)})});return k.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function NW(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:o,horizontalPoints:s,horizontal:c=!0}=e;if(!c||!t||!t.length||s==null)return null;var l=s.map(d=>Math.round(d+a-a)).sort((d,h)=>d-h);a!==l[0]&&l.unshift(0);var u=l.map((d,h)=>{var p=l[h+1],v=p==null,w=v?a+o-d:p-d;if(w<=0)return null;var f=h%t.length;return k.createElement("rect",{key:"react-".concat(h),y:d,x:n,height:w,width:i,stroke:"none",fill:t[f],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function TW(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:o,height:s,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var l=c.map(d=>Math.round(d+a-a)).sort((d,h)=>d-h);a!==l[0]&&l.unshift(0);var u=l.map((d,h)=>{var p=l[h+1],v=p==null,w=v?a+o-d:p-d;if(w<=0)return null;var f=h%r.length;return k.createElement("rect",{key:"react-".concat(h),x:d,y:i,width:w,height:s,stroke:"none",fill:r[f],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var CW=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return iP(_m(jt(jt(jt({},Jr),r),{},{ticks:oP(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},AW=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return iP(_m(jt(jt(jt({},Jr),r),{},{ticks:oP(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},IW={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Mt.grid};function pE(e){var t=pP(),r=mP(),n=hP(),a=jt(jt({},tr(e,IW)),{},{x:se(e.x)?e.x:n.left,y:se(e.y)?e.y:n.top,width:se(e.width)?e.width:n.width,height:se(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:s,y:c,width:l,height:u,syncWithTicks:d,horizontalValues:h,verticalValues:p}=a,v=Wt(),w=de(I=>Zw(I,"xAxis",i,v)),f=de(I=>Zw(I,"yAxis",o,v));if(!Rr(l)||!Rr(u)||!se(s)||!se(c))return null;var b=a.verticalCoordinatesGenerator||CW,m=a.horizontalCoordinatesGenerator||AW,{horizontalPoints:y,verticalPoints:x}=a;if((!y||!y.length)&&typeof m=="function"){var g=h&&h.length,_=m({yAxis:f?jt(jt({},f),{},{ticks:g?h:f.ticks}):void 0,width:t??l,height:r??u,offset:n},g?!0:d);Dc(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(y=_)}if((!x||!x.length)&&typeof b=="function"){var S=p&&p.length,E=b({xAxis:w?jt(jt({},w),{},{ticks:S?p:w.ticks}):void 0,width:t??l,height:r??u,offset:n},S?!0:d);Dc(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(x=E)}return k.createElement(hn,{zIndex:a.zIndex},k.createElement("g",{className:"recharts-cartesian-grid"},k.createElement(EW,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),k.createElement(NW,Jn({},a,{horizontalPoints:y})),k.createElement(TW,Jn({},a,{verticalPoints:x})),k.createElement(OW,Jn({},a,{offset:n,horizontalPoints:y,xAxis:w,yAxis:f})),k.createElement(jW,Jn({},a,{offset:n,verticalPoints:x,xAxis:w,yAxis:f}))))}pE.displayName="CartesianGrid";var RW={},mE=Kt({name:"errorBars",initialState:RW,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:P8,replaceErrorBar:$8,removeErrorBar:k8}=mE.actions,MW=mE.reducer;function vE(e,t){var r,n,a=de(l=>un(l,e)),i=de(l=>dn(l,t)),o=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:ot.allowDataOverflow,s=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:st.allowDataOverflow,c=o||s;return{needClip:c,needClipX:o,needClipY:s}}function DW(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=wm(),{needClipX:i,needClipY:o,needClip:s}=vE(t,r);if(!s||!a)return null;var{x:c,y:l,width:u,height:d}=a;return k.createElement("clipPath",{id:"clipPath-".concat(n)},k.createElement("rect",{x:i?c:c-u/2,y:o?l:l-d/2,width:i?u:u*2,height:o?d:d*2}))}function zW(e){var t=Tl(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:i}=t,o=Number(a),s=Number(i);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(s)||s<0)&&(s=n),{r:o,strokeWidth:s}}return{r,strokeWidth:n}}var vf={exports:{}},yf={};var q_;function LW(){if(q_)return yf;q_=1;var e=bh();function t(c,l){return c===l&&(c!==0||1/c===1/l)||c!==c&&l!==l}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,i=e.useEffect,o=e.useMemo,s=e.useDebugValue;return yf.useSyncExternalStoreWithSelector=function(c,l,u,d,h){var p=a(null);if(p.current===null){var v={hasValue:!1,value:null};p.current=v}else v=p.current;p=o(function(){function f(g){if(!b){if(b=!0,m=g,g=d(g),h!==void 0&&v.hasValue){var _=v.value;if(h(_,g))return y=_}return y=g}if(_=y,r(m,g))return _;var S=d(g);return h!==void 0&&h(_,S)?(m=g,_):(m=g,y=S)}var b=!1,m,y,x=u===void 0?null:u;return[function(){return f(l())},x===null?void 0:function(){return f(x())}]},[l,u,d,h]);var w=n(c,p[0],p[1]);return i(function(){v.hasValue=!0,v.value=w},[w]),s(w),w},yf}var F_;function qW(){return F_||(F_=1,vf.exports=LW()),vf.exports}qW();function FW(e){e()}function UW(){let e=null,t=null;return{clear(){e=null,t=null},notify(){FW(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var U_={notify(){},get:()=>[]};function VW(e,t){let r,n=U_,a=0,i=!1;function o(w){u();const f=n.subscribe(w);let b=!1;return()=>{b||(b=!0,f(),d())}}function s(){n.notify()}function c(){v.onStateChange&&v.onStateChange()}function l(){return i}function u(){a++,r||(r=e.subscribe(c),n=UW())}function d(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=U_)}function h(){i||(i=!0,u())}function p(){i&&(i=!1,d())}const v={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:c,isSubscribed:l,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return v}var BW=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",KW=BW(),WW=()=>typeof navigator<"u"&&navigator.product==="ReactNative",HW=WW(),ZW=()=>KW||HW?k.useLayoutEffect:k.useEffect,GW=ZW();function V_(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function YW(e,t){if(V_(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!V_(e[r[a]],t[r[a]]))return!1;return!0}var JW=Symbol.for("react-redux-context"),XW=typeof globalThis<"u"?globalThis:{};function QW(){if(!k.createContext)return{};const e=XW[JW]??=new Map;let t=e.get(k.createContext);return t||(t=k.createContext(null),e.set(k.createContext,t)),t}var eH=QW();function tH(e){const{children:t,context:r,serverState:n,store:a}=e,i=k.useMemo(()=>{const c=VW(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),o=k.useMemo(()=>a.getState(),[a]);GW(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const s=r||eH;return k.createElement(s.Provider,{value:i},t)}var rH=tH,nH=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function aH(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Sm(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(nH.has(n)){if(e[n]==null&&t[n]==null)continue;if(!YW(e[n],t[n]))return!1}else if(!aH(e[n],t[n]))return!1;return!0}function Pm(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:cE}function $m(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:cE}var yE=(e,t,r)=>vk(e,"xAxis",Pm(e,t),r),gE=(e,t,r)=>mk(e,"xAxis",Pm(e,t),r),bE=(e,t,r)=>vk(e,"yAxis",$m(e,t),r),wE=(e,t,r)=>mk(e,"yAxis",$m(e,t),r),iH=H([Ke,yE,bE,gE,wE],(e,t,r,n,a)=>Dr(e,"xAxis")?Mc(t,n,!1):Mc(r,a,!1)),oH=(e,t)=>t,_E=H([D$,oH],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),xE=e=>{var t=Ke(e),r=Dr(t,"xAxis");return r?"yAxis":"xAxis"},sH=(e,t)=>{var r=xE(e);return r==="yAxis"?$m(e,t):Pm(e,t)},cH=(e,t,r)=>W$(e,xE(e),sH(e,t),r),lH=H([_E,cH],(e,t)=>{var r;if(!(e==null||t==null)){var{stackId:n}=e,a=Jp(e);if(!(n==null||a==null)){var i=(r=t[n])===null||r===void 0?void 0:r.stackedData,o=i?.find(s=>s.key===a);if(o!=null)return o.map(s=>[s[0],s[1]])}}}),uH=H([Ke,yE,bE,gE,wE,lH,i5,iH,_E,p5],(e,t,r,n,a,i,o,s,c,l)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:h}=o;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||a==null||n.length===0||a.length===0||s==null)){var{data:p}=c,v;if(p&&p.length>0?v=p:v=u?.slice(d,h+1),v!=null)return jH({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:d,areaSettings:c,stackedData:i,displayedData:v,chartBaseValue:l,bandSize:s})}}),dH=["id"],fH=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function ta(){return ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ta.apply(null,arguments)}function SE(e,t){if(e==null)return{};var r,n,a=hH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function B_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B_(Object(r),!0).forEach(function(n){pH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pH(e,t,r){return(t=mH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mH(e){var t=vH(e,"string");return typeof t=="symbol"?t:t+""}function vH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ul(e,t){return e&&e!=="none"?e:t}var yH=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:ul(n,a),value:sP(r,t),payload:e}]},gH=k.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:o,hide:s,unit:c,tooltipType:l,id:u}=e,d={dataDefinedOnItem:r,getPosition:Ka,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:sP(o,t),hide:s,type:l,color:ul(n,i),unit:c,graphicalItemId:u}};return k.createElement(Q9,{tooltipEntrySettings:d})});function bH(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:i,dataKey:o}=n,s=wr(n);return k.createElement(_6,{points:r,dot:i,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:s,needClip:a,clipPathId:t})}function wH(e){var{showLabels:t,children:r,points:n}=e,a=n.map(i=>{var o,s,c={x:(o=i.x)!==null&&o!==void 0?o:0,y:(s=i.y)!==null&&s!==void 0?s:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Oa(Oa({},c),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:c,fill:void 0})});return k.createElement(B9,{value:t?a:void 0},r)}function K_(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:i}=e,{layout:o,type:s,stroke:c,connectNulls:l,isRange:u}=i,{id:d}=i,h=SE(i,dH),p=wr(h),v=or(h);return k.createElement(k.Fragment,null,t?.length>1&&k.createElement(Cr,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},k.createElement(lc,ta({},v,{id:d,points:t,connectNulls:l,type:s,baseLine:r,layout:o,stroke:"none",className:"recharts-area-area"})),c!=="none"&&k.createElement(lc,ta({},p,{className:"recharts-area-curve",layout:o,type:s,connectNulls:l,fill:"none",points:t})),c!=="none"&&u&&k.createElement(lc,ta({},p,{className:"recharts-area-curve",layout:o,type:s,connectNulls:l,fill:"none",points:r}))),k.createElement(bH,{points:t,props:h,clipPathId:a}))}function _H(e){var t,r,{alpha:n,baseLine:a,points:i,strokeWidth:o}=e,s=(t=i[0])===null||t===void 0?void 0:t.y,c=(r=i[i.length-1])===null||r===void 0?void 0:r.y;if(!xe(s)||!xe(c))return null;var l=n*Math.abs(s-c),u=Math.max(...i.map(d=>d.x||0));return se(a)?u=Math.max(a,u):a&&Array.isArray(a)&&a.length&&(u=Math.max(...a.map(d=>d.x||0),u)),se(u)?k.createElement("rect",{x:0,y:s<c?s:s-l,width:u+(o?parseInt("".concat(o),10):1),height:Math.floor(l)}):null}function xH(e){var t,r,{alpha:n,baseLine:a,points:i,strokeWidth:o}=e,s=(t=i[0])===null||t===void 0?void 0:t.x,c=(r=i[i.length-1])===null||r===void 0?void 0:r.x;if(!xe(s)||!xe(c))return null;var l=n*Math.abs(s-c),u=Math.max(...i.map(d=>d.y||0));return se(a)?u=Math.max(a,u):a&&Array.isArray(a)&&a.length&&(u=Math.max(...a.map(d=>d.y||0),u)),se(u)?k.createElement("rect",{x:s<c?s:s-l,y:0,width:l,height:Math.floor(u+(o?parseInt("".concat(o),10):1))}):null}function SH(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:i}=e;return r==="vertical"?k.createElement(_H,{alpha:t,points:n,baseLine:a,strokeWidth:i}):k.createElement(xH,{alpha:t,points:n,baseLine:a,strokeWidth:i})}function PH(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i}=e,{points:o,baseLine:s,isAnimationActive:c,animationBegin:l,animationDuration:u,animationEasing:d,onAnimationStart:h,onAnimationEnd:p}=n,v=k.useMemo(()=>({points:o,baseLine:s}),[o,s]),w=jP(v,"recharts-area-"),f=yp(),[b,m]=k.useState(!1),y=!b,x=k.useCallback(()=>{typeof p=="function"&&p(),m(!1)},[p]),g=k.useCallback(()=>{typeof h=="function"&&h(),m(!0)},[h]);if(f==null)return null;var _=a.current,S=i.current;return k.createElement(wH,{showLabels:y,points:o},n.children,k.createElement(OP,{animationId:w,begin:l,duration:u,isActive:c,easing:d,onAnimationEnd:x,onAnimationStart:g,key:w},E=>{if(_){var I=_.length/o.length,L=E===1?o:o.map((C,U)=>{var B=Math.floor(U*I);if(_[B]){var Q=_[B];return Oa(Oa({},C),{},{x:Or(Q.x,C.x,E),y:Or(Q.y,C.y,E)})}return C}),R;return se(s)?R=Or(S,s,E):Nt(s)||Ar(s)?R=Or(S,0,E):R=s.map((C,U)=>{var B=Math.floor(U*I);if(Array.isArray(S)&&S[B]){var Q=S[B];return Oa(Oa({},C),{},{x:Or(Q.x,C.x,E),y:Or(Q.y,C.y,E)})}return C}),E>0&&(a.current=L,i.current=R),k.createElement(K_,{points:L,baseLine:R,needClip:t,clipPathId:r,props:n})}return E>0&&(a.current=o,i.current=s),k.createElement(Cr,null,c&&k.createElement("defs",null,k.createElement("clipPath",{id:"animationClipPath-".concat(r)},k.createElement(SH,{alpha:E,points:o,baseLine:s,layout:f,strokeWidth:n.strokeWidth}))),k.createElement(Cr,{clipPath:"url(#animationClipPath-".concat(r,")")},k.createElement(K_,{points:o,baseLine:s,needClip:t,clipPathId:r,props:n})))}),k.createElement(H9,{label:n.label}))}function $H(e){var{needClip:t,clipPathId:r,props:n}=e,a=k.useRef(null),i=k.useRef();return k.createElement(PH,{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i})}class kH extends k.PureComponent{render(){var{hide:t,dot:r,points:n,className:a,top:i,left:o,needClip:s,xAxisId:c,yAxisId:l,width:u,height:d,id:h,baseLine:p,zIndex:v}=this.props;if(t)return null;var w=De("recharts-area",a),f=h,{r:b,strokeWidth:m}=zW(r),y=oE(r),x=b*2+m,g=s?"url(#clipPath-".concat(y?"":"dots-").concat(f,")"):void 0;return k.createElement(hn,{zIndex:v},k.createElement(Cr,{className:w},s&&k.createElement("defs",null,k.createElement(DW,{clipPathId:f,xAxisId:c,yAxisId:l}),!y&&k.createElement("clipPath",{id:"clipPath-dots-".concat(f)},k.createElement("rect",{x:o-x/2,y:i-x/2,width:u+x,height:d+x}))),k.createElement($H,{needClip:s,clipPathId:f,props:this.props})),k.createElement(R_,{points:n,mainColor:ul(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:g}),this.props.isRange&&Array.isArray(p)&&k.createElement(R_,{points:p,mainColor:ul(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:g}))}}var PE={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Mt.area};function EH(e){var t,r=tr(e,PE),{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:s,dot:c,fill:l,fillOpacity:u,hide:d,isAnimationActive:h,legendType:p,stroke:v,xAxisId:w,yAxisId:f}=r,b=SE(r,fH),m=Wa(),y=zk(),{needClip:x}=vE(w,f),g=Wt(),{points:_,isRange:S,baseLine:E}=(t=de(B=>uH(B,e.id,g)))!==null&&t!==void 0?t:{},I=wm();if(m!=="horizontal"&&m!=="vertical"||I==null||y!=="AreaChart"&&y!=="ComposedChart")return null;var{height:L,width:R,x:C,y:U}=I;return!_||!_.length?null:k.createElement(kH,ta({},b,{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:o,baseLine:E,connectNulls:s,dot:c,fill:l,fillOpacity:u,height:L,hide:d,layout:m,isAnimationActive:h==="auto"?!eo.isSsr:h,isRange:S,legendType:p,needClip:x,points:_,stroke:v,width:R,left:C,top:U,xAxisId:w,yAxisId:f}))}var OH=(e,t,r,n,a)=>{var i=r??t;if(se(i))return i;var o=e==="horizontal"?a:n,s=o.scale.domain();if(o.type==="number"){var c=Math.max(s[0],s[1]),l=Math.min(s[0],s[1]);return i==="dataMin"?l:i==="dataMax"||c<0?c:Math.max(Math.min(s[0],s[1]),0)}return i==="dataMin"?s[0]:i==="dataMax"?s[1]:s[0]};function jH(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:a,layout:i,chartBaseValue:o,xAxis:s,yAxis:c,displayedData:l,dataStartIndex:u,xAxisTicks:d,yAxisTicks:h,bandSize:p}=e,v=a&&a.length,w=OH(i,o,r,s,c),f=i==="horizontal",b=!1,m=l.map((x,g)=>{var _,S,E,I;if(v)I=a[u+g];else{var L=_t(x,n);Array.isArray(L)?(I=L,b=!0):I=[w,L]}var R=(_=(S=I)===null||S===void 0?void 0:S[1])!==null&&_!==void 0?_:null,C=R==null||v&&!t&&_t(x,n)==null;if(f){var U;return{x:G0({axis:s,ticks:d,bandSize:p,entry:x,index:g}),y:C?null:(U=c.scale.map(R))!==null&&U!==void 0?U:null,value:I,payload:x}}return{x:C?null:(E=s.scale.map(R))!==null&&E!==void 0?E:null,y:G0({axis:c,ticks:h,bandSize:p,entry:x,index:g}),value:I,payload:x}}),y;return v||b?y=m.map(x=>{var g,_=Array.isArray(x.value)?x.value[0]:null;if(f){var S;return{x:x.x,y:_!=null&&x.y!=null&&(S=c.scale.map(_))!==null&&S!==void 0?S:null,payload:x.payload}}return{x:_!=null&&(g=s.scale.map(_))!==null&&g!==void 0?g:null,y:x.y,payload:x.payload}}):y=f?c.scale.map(w):s.scale.map(w),{points:m,baseLine:y??0,isRange:b}}function NH(e){var t=tr(e,PE),r=Wt();return k.createElement(i6,{id:t.id,type:"area"},n=>k.createElement(k.Fragment,null,k.createElement(e6,{legendPayload:yH(t)}),k.createElement(gH,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),k.createElement(f6,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:iq(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),k.createElement(EH,ta({},t,{id:n}))))}var $E=k.memo(NH,Sm);$E.displayName="Area";var TH=["domain","range"],CH=["domain","range"];function W_(e,t){if(e==null)return{};var r,n,a=AH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function AH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function H_(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function kE(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=W_(e,TH),{domain:i,range:o}=t,s=W_(t,CH);return!H_(r,i)||!H_(n,o)?!1:Sm(a,s)}var IH=["type"],RH=["dangerouslySetInnerHTML","ticks","scale"],MH=["id","scale"];function hh(){return hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hh.apply(null,arguments)}function Z_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function G_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z_(Object(r),!0).forEach(function(n){DH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DH(e,t,r){return(t=zH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zH(e){var t=LH(e,"string");return typeof t=="symbol"?t:t+""}function LH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ph(e,t){if(e==null)return{};var r,n,a=qH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function FH(e){var t=lt(),r=k.useRef(null),n=yp(),{type:a}=e,i=ph(e,IH),o=su(n,"xAxis",a),s=k.useMemo(()=>{if(o!=null)return G_(G_({},i),{},{type:o})},[i,o]);return k.useLayoutEffect(()=>{s!=null&&(r.current===null?t(k6(s)):r.current!==s&&t(E6({prev:r.current,next:s})),r.current=s)},[s,t]),k.useLayoutEffect(()=>()=>{r.current&&(t(O6(r.current)),r.current=null)},[t]),null}var UH=e=>{var{xAxisId:t,className:r}=e,n=de(lP),a=Wt(),i="xAxis",o=de(b=>pk(b,i,t,a)),s=de(b=>uV(b,t)),c=de(b=>vV(b,t)),l=de(b=>A$(b,t));if(s==null||c==null||l==null)return null;var{dangerouslySetInnerHTML:u,ticks:d,scale:h}=e,p=ph(e,RH),{id:v,scale:w}=l,f=ph(l,MH);return k.createElement(xm,hh({},p,f,{x:c.x,y:c.y,width:s.width,height:s.height,className:De("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:o,axisType:i}))},VH={allowDataOverflow:ot.allowDataOverflow,allowDecimals:ot.allowDecimals,allowDuplicatedCategory:ot.allowDuplicatedCategory,angle:ot.angle,axisLine:Jr.axisLine,height:ot.height,hide:!1,includeHidden:ot.includeHidden,interval:ot.interval,label:!1,minTickGap:ot.minTickGap,mirror:ot.mirror,orientation:ot.orientation,padding:ot.padding,reversed:ot.reversed,scale:ot.scale,tick:ot.tick,tickCount:ot.tickCount,tickLine:Jr.tickLine,tickSize:Jr.tickSize,type:ot.type,xAxisId:0},BH=e=>{var t=tr(e,VH);return k.createElement(k.Fragment,null,k.createElement(FH,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),k.createElement(UH,t))},EE=k.memo(BH,kE);EE.displayName="XAxis";var KH=["type"],WH=["dangerouslySetInnerHTML","ticks","scale"],HH=["id","scale"];function mh(){return mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mh.apply(null,arguments)}function Y_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function J_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y_(Object(r),!0).forEach(function(n){ZH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZH(e,t,r){return(t=GH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GH(e){var t=YH(e,"string");return typeof t=="symbol"?t:t+""}function YH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vh(e,t){if(e==null)return{};var r,n,a=JH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function JH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function XH(e){var t=lt(),r=k.useRef(null),n=yp(),{type:a}=e,i=vh(e,KH),o=su(n,"yAxis",a),s=k.useMemo(()=>{if(o!=null)return J_(J_({},i),{},{type:o})},[o,i]);return k.useLayoutEffect(()=>{s!=null&&(r.current===null?t(j6(s)):r.current!==s&&t(N6({prev:r.current,next:s})),r.current=s)},[s,t]),k.useLayoutEffect(()=>()=>{r.current&&(t(T6(r.current)),r.current=null)},[t]),null}function QH(e){var{yAxisId:t,className:r,width:n,label:a}=e,i=k.useRef(null),o=k.useRef(null),s=de(lP),c=Wt(),l=lt(),u="yAxis",d=de(_=>bV(_,t)),h=de(_=>gV(_,t)),p=de(_=>pk(_,u,t,c)),v=de(_=>I$(_,t));if(k.useLayoutEffect(()=>{if(!(n!=="auto"||!d||bm(a)||k.isValidElement(a)||v==null)){var _=i.current;if(_){var S=_.getCalculatedWidth();Math.round(d.width)!==Math.round(S)&&l(C6({id:t,width:S}))}}},[p,d,l,a,t,n,v]),d==null||h==null||v==null)return null;var{dangerouslySetInnerHTML:w,ticks:f,scale:b}=e,m=vh(e,WH),{id:y,scale:x}=v,g=vh(v,HH);return k.createElement(xm,mh({},m,g,{ref:i,labelRef:o,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:d.width,height:d.height,className:De("recharts-".concat(u," ").concat(u),r),viewBox:s,ticks:p,axisType:u}))}var eZ={allowDataOverflow:st.allowDataOverflow,allowDecimals:st.allowDecimals,allowDuplicatedCategory:st.allowDuplicatedCategory,angle:st.angle,axisLine:Jr.axisLine,hide:!1,includeHidden:st.includeHidden,interval:st.interval,label:!1,minTickGap:st.minTickGap,mirror:st.mirror,orientation:st.orientation,padding:st.padding,reversed:st.reversed,scale:st.scale,tick:st.tick,tickCount:st.tickCount,tickLine:Jr.tickLine,tickSize:Jr.tickSize,type:st.type,width:st.width,yAxisId:0},tZ=e=>{var t=tr(e,eZ);return k.createElement(k.Fragment,null,k.createElement(XH,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),k.createElement(QH,t))},OE=k.memo(tZ,kE);OE.displayName="YAxis";var rZ=(e,t)=>t,km=H([rZ,Ke,T$,ft,Ck,fn,AB,$t],qB),Em=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},jE=sr("mouseClick"),NE=Yi();NE.startListening({actionCreator:jE,effect:(e,t)=>{var r=e.payload,n=km(t.getState(),Em(r));n?.activeIndex!=null&&t.dispatch(CV({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var yh=sr("mouseMove"),TE=Yi(),nc=null;TE.startListening({actionCreator:yh,effect:(e,t)=>{var r=e.payload;nc!==null&&cancelAnimationFrame(nc);var n=Em(r);nc=requestAnimationFrame(()=>{var a=t.getState(),i=cm(a,a.tooltip.settings.shared);if(i==="axis"){var o=km(a,n);o?.activeIndex!=null?t.dispatch(Sk({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(xk())}nc=null})}});function nZ(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var X_={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},CE=Kt({name:"rootProps",initialState:X_,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:X_.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),aZ=CE.reducer,{updateOptions:iZ}=CE.actions,oZ=null,sZ={updatePolarOptions:(e,t)=>t.payload},AE=Kt({name:"polarOptions",initialState:oZ,reducers:sZ}),{updatePolarOptions:E8}=AE.actions,cZ=AE.reducer,IE=sr("keyDown"),RE=sr("focus"),Om=Yi();Om.startListening({actionCreator:IE,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=lm(a,ti(r),so(r),lo(r)),s=o==null?-1:Number(o);if(!(!Number.isFinite(s)||s<0)){var c=fn(r);if(i==="Enter"){var l=ol(r,"axis","hover",String(a.index));t.dispatch(ch({active:!a.active,activeIndex:a.index,activeCoordinate:l}));return}var u=SV(r),d=u==="left-to-right"?1:-1,h=i==="ArrowRight"?1:-1,p=s+h*d;if(!(c==null||p>=c.length||p<0)){var v=ol(r,"axis","hover",String(p));t.dispatch(ch({active:!0,activeIndex:p.toString(),activeCoordinate:v}))}}}}}});Om.startListening({actionCreator:RE,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",o=ol(r,"axis","hover",String(i));t.dispatch(ch({active:!0,activeIndex:i,activeCoordinate:o}))}}}});var nr=sr("externalEvent"),ME=Yi(),gf=new Map;ME.startListening({actionCreator:nr,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,i=gf.get(a);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var s=t.getState(),c={activeCoordinate:gB(s),activeDataKey:vB(s),activeIndex:qi(s),activeLabel:Rk(s),activeTooltipIndex:qi(s),isTooltipActive:bB(s)};r(c,n)}finally{gf.delete(a)}});gf.set(a,o)}}});var lZ=H([Qa],e=>e.tooltipItemPayloads),uZ=H([lZ,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(i=>i.settings.graphicalItemId===r);if(n!=null){var{getPosition:a}=n;if(a!=null)return a(t)}}}),DE=sr("touchMove"),zE=Yi();zE.startListening({actionCreator:DE,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=cm(n,n.tooltip.settings.shared);if(a==="axis"){var i=r.touches[0];if(i==null)return;var o=km(n,Em({clientX:i.clientX,clientY:i.clientY,currentTarget:r.currentTarget}));o?.activeIndex!=null&&t.dispatch(Sk({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var s,c=r.touches[0];if(document.elementFromPoint==null||c==null)return;var l=document.elementFromPoint(c.clientX,c.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(fq),d=(s=l.getAttribute(hq))!==null&&s!==void 0?s:void 0,h=ei(n).find(w=>w.id===d);if(u==null||h==null||d==null)return;var{dataKey:p}=h,v=uZ(n,u,d);t.dispatch(TV({activeDataKey:p,activeIndex:u,activeCoordinate:v,activeGraphicalItemId:d}))}}}});var dZ=N1({brush:U6,cartesianAxis:A6,chartData:gK,errorBars:MW,graphicalItems:u6,layout:YL,legend:iF,options:hK,polarAxis:G9,polarOptions:cZ,referenceElements:W6,rootProps:aZ,tooltip:AV,zIndex:eK}),fZ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return _L({reducer:dZ,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([NE.middleware,TE.middleware,Om.middleware,ME.middleware,zE.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(K1({type:"raf"}))},devTools:{serialize:{replacer:nZ},name:"recharts-".concat(r)}})};function hZ(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Wt(),i=k.useRef(null);if(a)return r;i.current==null&&(i.current=fZ(t,n));var o=cp;return k.createElement(rH,{context:o,store:i.current},r)}function pZ(e){var{layout:t,margin:r}=e,n=lt(),a=Wt();return k.useEffect(()=>{a||(n(HL(t)),n(WL(r)))},[n,a,t,r]),null}var mZ=k.memo(pZ,Sm);function vZ(e){var t=lt();return k.useEffect(()=>{t(iZ(e))},[t,e]),null}function Q_(e){var{zIndex:t,isPanorama:r}=e,n=k.useRef(null),a=lt();return k.useLayoutEffect(()=>(n.current&&a(XB({zIndex:t,element:n.current,isPanorama:r})),()=>{a(QB({zIndex:t,isPanorama:r}))}),[a,t,r]),k.createElement("g",{tabIndex:-1,ref:n})}function ex(e){var{children:t,isPanorama:r}=e,n=de(UB);if(!n||n.length===0)return t;var a=n.filter(o=>o<0),i=n.filter(o=>o>0);return k.createElement(k.Fragment,null,a.map(o=>k.createElement(Q_,{key:o,zIndex:o,isPanorama:r})),t,i.map(o=>k.createElement(Q_,{key:o,zIndex:o,isPanorama:r})))}var yZ=["children"];function gZ(e,t){if(e==null)return{};var r,n,a=bZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function dl(){return dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dl.apply(null,arguments)}var wZ={width:"100%",height:"100%",display:"block"},_Z=k.forwardRef((e,t)=>{var r=pP(),n=mP(),a=PP();if(!Rr(r)||!Rr(n))return null;var{children:i,otherAttributes:o,title:s,desc:c}=e,l,u;return o!=null&&(typeof o.tabIndex=="number"?l=o.tabIndex:l=a?0:void 0,typeof o.role=="string"?u=o.role:u=a?"application":void 0),k.createElement(JS,dl({},o,{title:s,desc:c,role:u,tabIndex:l,width:r,height:n,style:wZ,ref:t}),i)}),xZ=e=>{var{children:t}=e,r=de(Zl);if(!r)return null;var{width:n,height:a,y:i,x:o}=r;return k.createElement(JS,{width:n,height:a,x:o,y:i},t)},tx=k.forwardRef((e,t)=>{var{children:r}=e,n=gZ(e,yZ),a=Wt();return a?k.createElement(xZ,null,k.createElement(ex,{isPanorama:!0},r)):k.createElement(_Z,dl({ref:t},n),k.createElement(ex,{isPanorama:!1},r))});function SZ(){var e=lt(),[t,r]=k.useState(null),n=de(dq);return k.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;xe(i)&&i!==n&&e(GL(i))}},[t,e,n]),r}function rx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rx(Object(r),!0).forEach(function(n){$Z(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Z(e,t,r){return(t=kZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kZ(e){var t=EZ(e,"string");return typeof t=="symbol"?t:t+""}function EZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pn(){return Pn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pn.apply(null,arguments)}var OZ=()=>(EK(),null);function fl(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var jZ=k.forwardRef((e,t)=>{var r,n,a=k.useRef(null),[i,o]=k.useState({containerWidth:fl((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:fl((n=e.style)===null||n===void 0?void 0:n.height)}),s=k.useCallback((l,u)=>{o(d=>{var h=Math.round(l),p=Math.round(u);return d.containerWidth===h&&d.containerHeight===p?d:{containerWidth:h,containerHeight:p}})},[]),c=k.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null&&typeof ResizeObserver<"u"){var{width:u,height:d}=l.getBoundingClientRect();s(u,d);var h=v=>{var w=v[0];if(w!=null){var{width:f,height:b}=w.contentRect;s(f,b)}},p=new ResizeObserver(h);p.observe(l),a.current=p}},[t,s]);return k.useEffect(()=>()=>{var l=a.current;l?.disconnect()},[s]),k.createElement(k.Fragment,null,k.createElement(Xi,{width:i.containerWidth,height:i.containerHeight}),k.createElement("div",Pn({ref:c},e)))}),NZ=k.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=k.useState({containerWidth:fl(r),containerHeight:fl(n)}),o=k.useCallback((c,l)=>{i(u=>{var d=Math.round(c),h=Math.round(l);return u.containerWidth===d&&u.containerHeight===h?u:{containerWidth:d,containerHeight:h}})},[]),s=k.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:l,height:u}=c.getBoundingClientRect();o(l,u)}},[t,o]);return k.createElement(k.Fragment,null,k.createElement(Xi,{width:a.containerWidth,height:a.containerHeight}),k.createElement("div",Pn({ref:s},e)))}),TZ=k.forwardRef((e,t)=>{var{width:r,height:n}=e;return k.createElement(k.Fragment,null,k.createElement(Xi,{width:r,height:n}),k.createElement("div",Pn({ref:t},e)))}),CZ=k.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?k.createElement(NZ,Pn({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?k.createElement(TZ,Pn({},e,{width:r,height:n,ref:t})):k.createElement(k.Fragment,null,k.createElement(Xi,{width:r,height:n}),k.createElement("div",Pn({ref:t},e)))});function AZ(e){return e?jZ:CZ}var IZ=k.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:o,onDoubleClick:s,onMouseDown:c,onMouseEnter:l,onMouseLeave:u,onMouseMove:d,onMouseUp:h,onTouchEnd:p,onTouchMove:v,onTouchStart:w,style:f,width:b,responsive:m,dispatchTouchEvents:y=!0}=e,x=k.useRef(null),g=lt(),[_,S]=k.useState(null),[E,I]=k.useState(null),L=SZ(),R=mp(),C=R?.width>0?R.width:b,U=R?.height>0?R.height:a,B=k.useCallback(V=>{L(V),typeof t=="function"&&t(V),S(V),I(V),V!=null&&(x.current=V)},[L,t,S,I]),Q=k.useCallback(V=>{g(jE(V)),g(nr({handler:i,reactEvent:V}))},[g,i]),ae=k.useCallback(V=>{g(yh(V)),g(nr({handler:l,reactEvent:V}))},[g,l]),te=k.useCallback(V=>{g(xk()),g(nr({handler:u,reactEvent:V}))},[g,u]),W=k.useCallback(V=>{g(yh(V)),g(nr({handler:d,reactEvent:V}))},[g,d]),ue=k.useCallback(()=>{g(RE())},[g]),F=k.useCallback(V=>{g(IE(V.key))},[g]),T=k.useCallback(V=>{g(nr({handler:o,reactEvent:V}))},[g,o]),z=k.useCallback(V=>{g(nr({handler:s,reactEvent:V}))},[g,s]),A=k.useCallback(V=>{g(nr({handler:c,reactEvent:V}))},[g,c]),P=k.useCallback(V=>{g(nr({handler:h,reactEvent:V}))},[g,h]),N=k.useCallback(V=>{g(nr({handler:w,reactEvent:V}))},[g,w]),D=k.useCallback(V=>{y&&g(DE(V)),g(nr({handler:v,reactEvent:V}))},[g,y,v]),K=k.useCallback(V=>{g(nr({handler:p,reactEvent:V}))},[g,p]),Y=AZ(m);return k.createElement(Vk.Provider,{value:_},k.createElement(x2.Provider,{value:E},k.createElement(Y,{width:C??f?.width,height:U??f?.height,className:De("recharts-wrapper",n),style:PZ({position:"relative",cursor:"default",width:C,height:U},f),onClick:Q,onContextMenu:T,onDoubleClick:z,onFocus:ue,onKeyDown:F,onMouseDown:A,onMouseEnter:ae,onMouseLeave:te,onMouseMove:W,onMouseUp:P,onTouchEnd:K,onTouchMove:D,onTouchStart:N,ref:B},k.createElement(OZ,null),r)))}),RZ=["width","height","responsive","children","className","style","compact","title","desc"];function MZ(e,t){if(e==null)return{};var r,n,a=DZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function DZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zZ=k.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:o,style:s,compact:c,title:l,desc:u}=e,d=MZ(e,RZ),h=wr(d);return c?k.createElement(k.Fragment,null,k.createElement(Xi,{width:r,height:n}),k.createElement(tx,{otherAttributes:h,title:l,desc:u},i)):k.createElement(IZ,{className:o,style:s,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},k.createElement(tx,{otherAttributes:h,title:l,desc:u,ref:t},k.createElement(Z6,null,i)))});function gh(){return gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gh.apply(null,arguments)}var LZ={top:5,right:5,bottom:5,left:5},qZ={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:LZ,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},FZ=k.forwardRef(function(t,r){var n,a=tr(t.categoricalChartProps,qZ),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:c,categoricalChartProps:l}=t,u={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:c,eventEmitter:void 0};return k.createElement(hZ,{preloadedState:{options:u},reduxStoreName:(n=l.id)!==null&&n!==void 0?n:i},k.createElement(F6,{chartData:l.data}),k.createElement(mZ,{layout:a.layout,margin:a.margin}),k.createElement(vZ,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),k.createElement(zZ,gh({},a,{ref:r})))}),UZ=["axis"],VZ=k.forwardRef((e,t)=>k.createElement(FZ,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:UZ,tooltipPayloadSearcher:dK,categoricalChartProps:e,ref:t}));const BZ=()=>{const{instruments:e,selectedSymbol:t}=Dt(),[r,n]=k.useState([]);k.useEffect(()=>{const i=e[t||"AAPL"]?.last||150,o=[];let s=i;const c=Date.now();for(let l=0;l<50;l++){const u=Math.sin(l*.5)*.005+Math.cos(l*.2)*.005;s=s*(1+u),o.push({time:new Date(c-(50-l)*6e4).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),value:s})}n(o)},[t,e]);const a=(r[r.length-1]?.value||0)>=(r[0]?.value||0);return $.jsxs("div",{className:"h-full w-full p-2 flex flex-col",children:[$.jsxs("div",{className:"text-xs text-[var(--text-secondary)] mb-2 flex justify-between",children:[$.jsxs("span",{children:[t," PRICE ACTION"]}),$.jsxs("span",{className:a?"text-[var(--success-color)]":"text-[var(--danger-color)]",children:[a?"+":"",((r[r.length-1]?.value-r[0]?.value)/r[0]?.value*100).toFixed(2),"%"]})]}),$.jsx("div",{className:"flex-grow min-h-[100px] w-full min-w-[100px] relative",children:$.jsx(Fq,{width:"100%",height:"100%",minHeight:100,minWidth:100,children:$.jsxs(VZ,{data:r,children:[$.jsx("defs",{children:$.jsxs("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[$.jsx("stop",{offset:"5%",stopColor:a?"var(--success-color)":"var(--danger-color)",stopOpacity:.3}),$.jsx("stop",{offset:"95%",stopColor:a?"var(--success-color)":"var(--danger-color)",stopOpacity:0})]})}),$.jsx(EE,{dataKey:"time",stroke:"var(--text-tertiary)",tick:{fontSize:10,fill:"var(--text-secondary)"},tickLine:!1,axisLine:!1}),$.jsx(OE,{domain:["auto","auto"],stroke:"var(--text-tertiary)",tick:{fontSize:10,fill:"var(--text-secondary)"},tickLine:!1,axisLine:!1,tickFormatter:i=>i.toFixed(2)}),$.jsx(pE,{stroke:"var(--border-primary)",strokeDasharray:"3 3",vertical:!1}),$.jsx(RK,{contentStyle:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-primary)",fontSize:"12px",borderRadius:"4px"},itemStyle:{color:"var(--text-primary)"},labelStyle:{color:"var(--text-secondary)"}}),$.jsx($E,{type:"monotone",dataKey:"value",stroke:a?"var(--success-color)":"var(--danger-color)",fillOpacity:1,fill:"url(#colorValue)"})]})})})]})},KZ=()=>{const{selectedSymbol:e,instruments:t,submitOrder:r}=Dt(),n=t[e],[a,i]=k.useState(100),[o,s]=k.useState("DAY"),[c,l]=k.useState(!1),[u,d]=k.useState(!1),h=Ca(e),p=g=>{const _=g.toFixed(h+1);if(e.includes("/")){const S=_.substring(0,_.length-3),E=_.substring(_.length-3,_.length-1),I=_.substring(_.length-1);return{big:S,pips:E,sub:I}}else{const S=g.toFixed(h).split(".");return{big:S[0]+".",pips:S[1]||"00",sub:""}}};if(!n)return $.jsx("div",{className:"p-4 text-center text-[var(--text-secondary)] text-xs",children:"Select a symbol"});const v=n.bid,w=n.ask,f=p(v),b=p(w),m=(g,_,S)=>{r({side:g,symbol:e,qty:S||a,type:"LIMIT",price:_,expiry:o,allOrNone:c,outsideRTH:u})},y=e.includes("/")?1e-4:e.startsWith("US")?.001:.01,x=[{level:1,bidPx:v-y,bidQty:500,askPx:w+y,askQty:500},{level:2,bidPx:v-y*2,bidQty:1200,askPx:w+y*2,askQty:800},{level:3,bidPx:v-y*3,bidQty:2500,askPx:w+y*3,askQty:1500},{level:4,bidPx:v-y*5,bidQty:5e3,askPx:w+y*5,askQty:3e3}];return $.jsxs("div",{className:"h-full flex flex-col p-2 gap-2 text-xs",children:[$.jsx("div",{className:"font-bold text-lg text-[var(--text-primary)] mb-2",children:e}),$.jsxs("div",{className:"flex items-stretch h-24 gap-1",children:[$.jsxs("button",{onClick:()=>m("SELL",v),className:"flex-1 flex flex-col items-center justify-center bg-[var(--danger-color)] hover:opacity-90 text-white rounded-l border border-transparent transition-colors active:scale-[0.98] relative overflow-hidden group",children:[$.jsx("div",{className:"absolute top-1 left-2 text-[10px] font-bold opacity-60 tracking-wider",children:"SELL"}),$.jsxs("div",{className:"grid grid-cols-[auto_auto_auto] items-baseline gap-x-0.5 mt-2",children:[$.jsx("span",{className:"text-lg font-bold opacity-60 tracking-tighter text-right leading-none relative top-[1px]",children:f.big}),$.jsx("span",{className:"text-3xl font-black tracking-tighter leading-none",children:f.pips}),$.jsx("span",{className:"text-sm font-bold opacity-60 self-start mt-0.5",children:f.sub})]})]}),$.jsxs("div",{className:"w-12 flex flex-col items-center justify-center bg-[var(--bg-tertiary)] border-y border-[var(--border-primary)] z-10 shadow-xl relative",children:[$.jsx("div",{className:"h-full w-[1px] bg-[var(--border-primary)] absolute left-0"}),$.jsx("div",{className:"h-full w-[1px] bg-[var(--border-primary)] absolute right-0"}),$.jsx("span",{className:"text-[9px] text-[var(--text-secondary)] uppercase font-semibold",children:"Spread"}),$.jsx("span",{className:"text-sm font-mono text-[var(--text-primary)] font-bold",children:(w-v).toFixed(h)})]}),$.jsxs("button",{onClick:()=>m("BUY",w),className:"flex-1 flex flex-col items-center justify-center bg-[var(--success-color)] hover:opacity-90 text-white rounded-r border border-transparent transition-colors active:scale-[0.98] relative overflow-hidden group",children:[$.jsx("div",{className:"absolute top-1 right-2 text-[10px] font-bold opacity-60 tracking-wider",children:"BUY"}),$.jsxs("div",{className:"grid grid-cols-[auto_auto_auto] items-baseline gap-x-0.5 mt-2",children:[$.jsx("span",{className:"text-lg font-bold opacity-60 tracking-tighter text-right leading-none relative top-[1px]",children:b.big}),$.jsx("span",{className:"text-3xl font-black tracking-tighter leading-none",children:b.pips}),$.jsx("span",{className:"text-sm font-bold opacity-60 self-start mt-0.5",children:b.sub})]})]})]}),$.jsxs("div",{className:"flex gap-2 justify-center mt-1 mb-2",children:[$.jsx("div",{className:"w-24",children:$.jsx(xa,{type:"number",value:a,onChange:g=>i(Number(g.target.value)),className:"h-7 text-xs text-center font-mono bg-[var(--bg-primary)]",placeholder:"Qty"})}),$.jsx("div",{className:"w-24",children:$.jsxs(_i,{value:o,onChange:g=>s(g.target.value),className:"h-7 text-xs bg-[var(--bg-primary)]",children:[$.jsx("option",{value:"DAY",children:"DAY"}),$.jsx("option",{value:"IOC",children:"IOC"}),$.jsx("option",{value:"GTC",children:"GTC"})]})})]}),$.jsxs("div",{className:"flex justify-center gap-3 mb-2",children:[$.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[$.jsx("input",{type:"checkbox",checked:c,onChange:g=>l(g.target.checked),className:"w-3 h-3"}),$.jsx("span",{className:"text-[9px] uppercase text-[var(--text-primary)] font-semibold",children:"All or None"})]}),$.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[$.jsx("input",{type:"checkbox",checked:u,onChange:g=>d(g.target.checked),className:"w-3 h-3"}),$.jsx("span",{className:"text-[9px] uppercase text-[var(--text-primary)] font-semibold",children:"Outside RTH"})]})]}),$.jsx("div",{className:"flex-grow bg-[var(--bg-primary)] border border-[var(--border-primary)] rounded overflow-hidden min-h-0",children:$.jsxs("table",{className:"w-full text-center",children:[$.jsx("thead",{children:$.jsxs("tr",{className:"text-[var(--text-secondary)] font-mono text-[10px] bg-[var(--bg-tertiary)] opacity-80",children:[$.jsx("th",{className:"py-1",children:"QTY"}),$.jsx("th",{className:"py-1 text-[var(--success-color)]",children:"BID"}),$.jsx("th",{className:"py-1 text-[var(--danger-color)]",children:"ASK"}),$.jsx("th",{className:"py-1",children:"QTY"})]})}),$.jsx("tbody",{className:"font-mono text-[10px]",children:x.map((g,_)=>$.jsxs("tr",{className:"border-b border-[var(--border-primary)]/30 hover:bg-[var(--accent-color)]/10 transition-colors cursor-pointer group",children:[$.jsx("td",{className:"py-1 text-[var(--text-secondary)]",onClick:()=>m("SELL",g.bidPx,g.bidQty),children:g.bidQty.toLocaleString()}),$.jsx("td",{className:"py-1 text-[var(--success-color)] font-bold",onClick:()=>m("SELL",g.bidPx,g.bidQty),children:g.bidPx.toFixed(h)}),$.jsx("td",{className:"py-1 text-[var(--danger-color)] font-bold",onClick:()=>m("BUY",g.askPx,g.askQty),children:g.askPx.toFixed(h)}),$.jsx("td",{className:"py-1 text-[var(--text-secondary)]",onClick:()=>m("BUY",g.askPx,g.askQty),children:g.askQty.toLocaleString()})]},_))})]})})]})},WZ=()=>{const{trades:e,selectTrade:t}=Dt(),[r,n]=k.useState([]),[a]=k.useState(!0),[i,o]=k.useState("time"),[s,c]=k.useState("desc"),[l,u]=k.useState({time:140,execId:80,orderId:80,side:50,sym:80,secType:70,qty:70,px:80,commission:90,netAmount:110,exchange:90});k.useEffect(()=>{if(!a)return;const f=async()=>{try{const y=await(await fetch(`${It}/mcp/orders`)).json();let x=[];if(Array.isArray(y)?x=y:y&&y.orders&&(Array.isArray(y.orders)?x=y.orders:y.orders.orders&&Array.isArray(y.orders.orders)&&(x=y.orders.orders)),x.length>0){const g=x.filter(E=>E.status==="Filled"||E.filledQuantity>0),_=E=>{if(!E)return new Date().toLocaleString();const I=new Date(E);if(!isNaN(I.getTime()))return I.toLocaleString();if(typeof E=="string"&&E.length===12&&!isNaN(Number(E))){const L=2e3+parseInt(E.substring(0,2)),R=parseInt(E.substring(2,4))-1,C=parseInt(E.substring(4,6)),U=parseInt(E.substring(6,8)),B=parseInt(E.substring(8,10)),Q=parseInt(E.substring(10,12));return new Date(L,R,C,U,B,Q).toLocaleString()}return String(E)},S=g.map(E=>({execId:`EX-${E.orderId}`,orderId:E.orderId,time:_(E.lastExecutionTime_r||E.lastExecutionTime||E.time),side:E.side||(E.action==="BUY"?"BUY":"SELL"),symbol:E.ticker||E.symbol||"UNK",secType:E.secType||E.assetClass||"STK",qty:E.filledQuantity||E.totalSize||0,price:E.avgPrice||E.avgCost||0,commission:E.commission||0,netAmount:(E.filledQuantity||E.totalSize||0)*(E.avgPrice||E.avgCost||0),exchange:E.exchange||E.listingExchange||"",account:E.acct||E.account||"",cpty:"IBKR",settleDate:"T+2"}));n(S)}else n([])}catch(m){console.error("Failed to fetch IBKR trades",m)}};f();const b=setInterval(f,5e3);return()=>clearInterval(b)},[a]);const d=f=>{i===f?c(s==="asc"?"desc":"asc"):(o(f),c("asc"))},h=(f,b)=>{const m=b.pageX,y=l[f],x=_=>{const S=Math.max(40,y+(_.pageX-m));u(E=>({...E,[f]:S}))},g=()=>{document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",g)};document.addEventListener("mousemove",x),document.addEventListener("mouseup",g)},p=a?r:e,v=k.useMemo(()=>{const f=[...p];return i&&f.sort((b,m)=>{const y=b[i],x=m[i];return y===void 0||x===void 0?0:y<x?s==="asc"?-1:1:y>x?s==="asc"?1:-1:0}),f},[p,i,s]),w=(f,b,m,y="left")=>$.jsxs("th",{style:{width:l[b]},className:`p-2 border-b border-[var(--border-primary)] relative cursor-pointer hover:text-[var(--text-accent)] ${y==="right"?"text-right":y==="center"?"text-center":""}`,onClick:()=>d(m),children:[$.jsxs("div",{className:`flex items-center gap-1 ${y==="right"?"justify-end":y==="center"?"justify-center":"justify-start"}`,children:[f," ",i===m&&(s==="asc"?"▲":"▼")]}),$.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-blue-500 z-20",onMouseDown:x=>{x.stopPropagation(),h(b,x)}})]});return $.jsx("div",{className:"h-full overflow-auto custom-scrollbar",children:$.jsxs("table",{className:"w-full text-left border-collapse text-xs table-fixed min-w-max",children:[$.jsx("thead",{children:$.jsxs("tr",{className:"bg-[var(--bg-tertiary)] text-[var(--text-secondary)] sticky top-0 z-10",children:[w("TIME","time","time"),w("EXEC ID","execId","execId"),w("ORD ID","orderId","orderId"),w("SIDE","side","side"),w("SYMBOL","sym","symbol"),w("SEC TYPE","secType","secType"),w("QTY","qty","qty","right"),w("FILL PX","px","price","right"),w("COMMISSION","commission","commission","right"),w("NET AMOUNT","netAmount","netAmount","right"),w("EXCHANGE","exchange","exchange")]})}),$.jsxs("tbody",{children:[v.length===0&&$.jsx("tr",{children:$.jsx("td",{colSpan:11,className:"p-4 text-center text-[var(--text-tertiary)] italic",children:"No executed trades found."})}),v.map((f,b)=>$.jsxs("tr",{onClick:()=>t&&t(f),className:"border-b border-[var(--border-primary)] hover:bg-[var(--bg-tertiary)] cursor-pointer",children:[$.jsx("td",{className:"p-2 text-[var(--text-secondary)] text-[10px] truncate",children:f.time}),$.jsx("td",{className:"p-2 text-[var(--text-secondary)] opacity-60 text-[10px] truncate",children:f.execId}),$.jsx("td",{className:"p-2 text-[var(--text-secondary)] opacity-60 text-[10px] truncate",children:f.orderId}),$.jsx("td",{className:`p-2 font-bold ${f.side==="BUY"?"text-[var(--success-color)]":"text-[var(--danger-color)]"}`,children:f.side}),$.jsx("td",{className:"p-2 text-[var(--text-primary)] font-medium truncate",children:f.symbol}),$.jsx("td",{className:"p-2 text-[var(--text-secondary)] text-[10px] truncate",children:f.secType}),$.jsx("td",{className:"p-2 text-right text-[var(--text-secondary)] tabular-nums",children:Number(f.qty).toLocaleString()}),$.jsx("td",{className:"p-2 text-right text-[var(--text-secondary)] tabular-nums",children:f.price?Number(f.price).toFixed(Ca(f.symbol)):"0.00"}),$.jsxs("td",{className:"p-2 text-right text-[var(--text-secondary)] tabular-nums",children:["$",Number(f.commission).toFixed(2)]}),$.jsxs("td",{className:"p-2 text-right text-[var(--text-primary)] font-medium tabular-nums",children:["$",Number(f.netAmount).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),$.jsx("td",{className:"p-2 text-[var(--text-secondary)] text-[10px] truncate",children:f.exchange||"-"})]},f.execId||b))]})]})})},HZ=()=>{const[e,t]=k.useState([]),[r,n]=k.useState(!1),[a,i]=k.useState("reuters"),o={reuters:"https://www.reutersagency.com/feed/?taxonomy=best-topics&post_type=best",bloomberg:"https://www.bloomberg.com/feed/podcast/etf-report.xml",cnbc:"https://search.cnbc.com/rs/search/combinedcms/view.xml?partnerId=wrss01&id=100003114",marketwatch:"http://feeds.marketwatch.com/marketwatch/topstories/",ft:"https://www.ft.com/?format=rss"},s=async()=>{n(!0);try{const l=o[a],d=await(await fetch(`https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(l)}&api_key=YOUR_API_KEY&count=20`)).json();if(d.status==="ok"){const h=d.items.map(p=>({title:p.title,link:p.link,pubDate:new Date(p.pubDate).toLocaleString(),source:a.toUpperCase()}));t(h)}else t(c())}catch(l){console.error("Failed to fetch news:",l),t(c())}finally{n(!1)}},c=()=>[{title:"Fed Signals Potential Rate Cuts in Q2 2026",link:"#",pubDate:new Date().toLocaleString(),source:"REUTERS"},{title:"Tech Stocks Rally on Strong Earnings Reports",link:"#",pubDate:new Date(Date.now()-36e5).toLocaleString(),source:"BLOOMBERG"},{title:"Oil Prices Surge Amid Middle East Tensions",link:"#",pubDate:new Date(Date.now()-72e5).toLocaleString(),source:"CNBC"},{title:"Dollar Weakens Against Major Currencies",link:"#",pubDate:new Date(Date.now()-108e5).toLocaleString(),source:"FT"},{title:"European Markets Close Higher on Economic Data",link:"#",pubDate:new Date(Date.now()-144e5).toLocaleString(),source:"MARKETWATCH"}];return k.useEffect(()=>{s();const l=setInterval(s,3e5);return()=>clearInterval(l)},[a]),$.jsxs("div",{className:"h-full flex flex-col",children:[$.jsxs("div",{className:"p-2 border-b border-[var(--border-primary)] flex items-center justify-between gap-2",children:[$.jsxs("select",{value:a,onChange:l=>i(l.target.value),className:"flex-1 text-xs bg-[var(--bg-secondary)] text-[var(--text-primary)] border border-[var(--border-primary)] rounded px-2 py-1",children:[$.jsx("option",{value:"reuters",children:"Reuters"}),$.jsx("option",{value:"bloomberg",children:"Bloomberg"}),$.jsx("option",{value:"cnbc",children:"CNBC"}),$.jsx("option",{value:"marketwatch",children:"MarketWatch"}),$.jsx("option",{value:"ft",children:"Financial Times"})]}),$.jsx("button",{onClick:s,disabled:r,className:"p-1 hover:bg-[var(--bg-tertiary)] rounded transition-colors",title:"Refresh",children:$.jsx(BE,{className:`w-4 h-4 text-[var(--text-secondary)] ${r?"animate-spin":""}`})})]}),$.jsxs("div",{className:"flex-1 overflow-auto custom-scrollbar",children:[e.length===0&&!r&&$.jsx("div",{className:"p-4 text-center text-[var(--text-tertiary)] text-xs",children:"No news available"}),e.map((l,u)=>$.jsx("a",{href:l.link,target:"_blank",rel:"noopener noreferrer",className:"block p-3 border-b border-[var(--border-primary)] hover:bg-[var(--bg-tertiary)] transition-colors group",children:$.jsxs("div",{className:"flex items-start justify-between gap-2",children:[$.jsxs("div",{className:"flex-1 min-w-0",children:[$.jsx("div",{className:"text-xs font-medium text-[var(--text-primary)] mb-1 line-clamp-2 group-hover:text-[var(--accent-color)] transition-colors",children:l.title}),$.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-[var(--text-tertiary)]",children:[$.jsx("span",{className:"font-bold",children:l.source}),$.jsx("span",{children:"•"}),$.jsx("span",{children:l.pubDate})]})]}),$.jsx(rO,{className:"w-3 h-3 text-[var(--text-tertiary)] opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0"})]})},u))]})]})},ZZ=()=>{const[e,t]=k.useState([]),[r,n]=k.useState("all"),a=async()=>{try{t(i())}catch(l){console.error("Failed to fetch calendar:",l),t(i())}},i=()=>{const l=new Date;return[{time:new Date(l.getTime()+36e5).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),currency:"USD",event:"Non-Farm Payrolls",actual:"--",forecast:"185K",previous:"199K",impact:"high"},{time:new Date(l.getTime()+72e5).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),currency:"EUR",event:"ECB Interest Rate Decision",actual:"--",forecast:"4.00%",previous:"4.00%",impact:"high"},{time:new Date(l.getTime()+108e5).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),currency:"GBP",event:"GDP Growth Rate QoQ",actual:"--",forecast:"0.2%",previous:"0.1%",impact:"medium"},{time:new Date(l.getTime()+144e5).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),currency:"JPY",event:"Tokyo CPI YoY",actual:"--",forecast:"2.5%",previous:"2.6%",impact:"medium"},{time:new Date(l.getTime()+18e6).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),currency:"AUD",event:"RBA Meeting Minutes",actual:"--",forecast:"--",previous:"--",impact:"low"},{time:new Date(l.getTime()+216e5).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),currency:"CAD",event:"Retail Sales MoM",actual:"--",forecast:"0.4%",previous:"0.6%",impact:"medium"}]};k.useEffect(()=>{a();const l=setInterval(a,6e5);return()=>clearInterval(l)},[]);const o=r==="all"?e:e.filter(l=>l.impact===r),s=l=>{switch(l){case"high":return"text-red-500";case"medium":return"text-yellow-500";case"low":return"text-blue-500";default:return"text-[var(--text-secondary)]"}},c=l=>{switch(l){case"high":return $.jsx(wO,{className:"w-3 h-3"});case"medium":return $.jsx(ix,{className:"w-3 h-3"});case"low":return $.jsx(gO,{className:"w-3 h-3"});default:return null}};return $.jsxs("div",{className:"h-full flex flex-col",children:[$.jsxs("div",{className:"p-2 border-b border-[var(--border-primary)] flex items-center gap-2",children:[$.jsx(GE,{className:"w-4 h-4 text-[var(--text-secondary)]"}),$.jsx("div",{className:"flex gap-1 flex-1",children:["all","high","medium","low"].map(l=>$.jsx("button",{onClick:()=>n(l),className:`px-2 py-0.5 text-[10px] rounded transition-colors ${r===l?"bg-[var(--accent-color)] text-white":"bg-[var(--bg-secondary)] text-[var(--text-secondary)] hover:bg-[var(--bg-tertiary)]"}`,children:l.toUpperCase()},l))})]}),$.jsxs("div",{className:"flex-1 overflow-auto custom-scrollbar",children:[o.length===0&&$.jsx("div",{className:"p-4 text-center text-[var(--text-tertiary)] text-xs",children:"No events for selected filter"}),o.map((l,u)=>$.jsxs("div",{className:"p-3 border-b border-[var(--border-primary)] hover:bg-[var(--bg-tertiary)] transition-colors",children:[$.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[$.jsxs("div",{className:"flex items-center gap-2",children:[$.jsx("span",{className:"text-[10px] font-bold text-[var(--text-secondary)] bg-[var(--bg-secondary)] px-1.5 py-0.5 rounded",children:l.time}),$.jsx("span",{className:"text-xs font-bold text-[var(--text-primary)]",children:l.currency})]}),$.jsxs("div",{className:`flex items-center gap-1 ${s(l.impact)}`,children:[c(l.impact),$.jsx("span",{className:"text-[9px] font-bold uppercase",children:l.impact})]})]}),$.jsx("div",{className:"text-xs text-[var(--text-primary)] mb-2 font-medium",children:l.event}),$.jsxs("div",{className:"grid grid-cols-3 gap-2 text-[10px]",children:[$.jsxs("div",{children:[$.jsx("div",{className:"text-[var(--text-tertiary)] mb-0.5",children:"Actual"}),$.jsx("div",{className:"font-bold text-[var(--text-primary)]",children:l.actual})]}),$.jsxs("div",{children:[$.jsx("div",{className:"text-[var(--text-tertiary)] mb-0.5",children:"Forecast"}),$.jsx("div",{className:"font-bold text-[var(--text-secondary)]",children:l.forecast})]}),$.jsxs("div",{children:[$.jsx("div",{className:"text-[var(--text-tertiary)] mb-0.5",children:"Previous"}),$.jsx("div",{className:"font-bold text-[var(--text-secondary)]",children:l.previous})]})]})]},u))]})]})},GZ=()=>{const{fdc3Logs:e,aiConfig:t,updateAiConfig:r,clearLogs:n,addToast:a,broadcastSnapshot:i,connectionStatus:o,mcpMode:s}=Dt(),c=It,[l,u]=k.useState(!1),[d,h]=k.useState(!1),[p,v]=k.useState(!1),[w,f]=k.useState(""),[b,m]=k.useState([]),[y,x]=k.useState(!1),[g,_]=k.useState({}),[S,E]=k.useState([]),[I,L]=k.useState(null),[R,C]=k.useState(!1),U={available:o.gateway,checked:!0},B=k.useRef(null);k.useEffect(()=>{B.current&&B.current.scrollIntoView({behavior:"smooth"})},[b,e]);const[Q,ae]=k.useState(!1),[te,W]=k.useState(null),[ue,F]=k.useState("chat"),T=async O=>{const j=O||w;if(!j.trim())return;const M=Date.now(),q={role:"user",content:j,timestamp:M};let Z="...";s&&(Z="Analyst is thinking... (MCP Mode)",t.provider==="local"&&(Z+=`

💡 Hint: Local LLMs may be slow in MCP Mode as it waits for the full response. Disable MCP (Lightning Bolt) to enable streaming.`));const ee=s?"mcp":"native",pe={role:"assistant",content:Z,timestamp:M+1,mode:ee},_e=b.length+1;m(Se=>[...Se,q,pe]),O||f(""),x(!0);try{await i();let he=[...Dt.getState().fdc3Logs||[]];if(t.start){const Ge=new Date(t.start).getTime();he=he.filter(ke=>ke.timestamp>=Ge)}if(t.end){const Ge=new Date(t.end).getTime();he=he.filter(ke=>ke.timestamp<=Ge)}if(s){console.log("[Chat] Using MCP Mode (ask_analyst)");const Ge={logs:he,query:j,config:t,enable_trading:U.available},qt=(await ZS.callTool("ask_analyst",Ge))?.content?.[0];if(qt&&qt.type==="text")try{const kt=JSON.parse(qt.text);kt.pending_trade&&L(kt.pending_trade);const tt=kt.analysis||"No analysis provided.";m(Et=>{const rr=[...Et];return rr[_e]&&(rr[_e]={...rr[_e],content:tt}),rr})}catch(kt){console.error("Failed to parse MCP analysis result:",kt),m(tt=>{const Et=[...tt];return Et[_e]&&(Et[_e]={...Et[_e],content:qt.text}),Et})}else throw new Error("Invalid MCP response format")}else{const Ge=await fetch(`${c}/analyze`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({logs:he,query:j,config:t,stream:!0,enable_trading:U.available})});if(!Ge.body)throw new Error("No response body");const ke=Ge.body.getReader(),qt=new TextDecoder;let kt="",tt="";for(;;){const{done:Et,value:rr}=await ke.read();if(Et)break;tt+=qt.decode(rr,{stream:!0});const pn=tt.split(`

`);tt=pn.pop()||"";for(const ri of pn){const LE=ri.split(`
`);for(const jm of LE)if(jm.startsWith("data: "))try{const fo=jm.substring(6).trim();if(!fo)continue;const In=JSON.parse(fo);In.pending_trade&&L(In.pending_trade),In.error&&m(vu=>{const hr=[...vu],zr=hr.findIndex(yu=>yu.timestamp===M+1);return zr!==-1&&(hr[zr]={...hr[zr],content:hr[zr].content==="..."?`❌ Error: ${In.error}`:`${hr[zr].content}

❌ Error: ${In.error}`}),hr}),In.text&&(kt+=In.text,m(vu=>{const hr=[...vu],zr=hr.findIndex(yu=>yu.timestamp===M+1);return zr!==-1&&(hr[zr]={...hr[zr],content:kt}),hr}))}catch(fo){console.warn("Error parsing stream chunk",fo)}}}}}catch(Se){console.error("AI Error:",Se),m($e=>{const he=[...$e];return he[_e]&&(he[_e]={...he[_e],content:"❌ Error connecting to AI backend."}),he})}finally{x(!1)}},z=async()=>{if(I){C(!0);try{const j=await(await fetch(`${c}/mcp/confirm`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:I.token})})).json();if(j.executed){const M=I.proposal;a(`Order executed: ${M.side} ${M.quantity} ${M.symbol}`,"success"),await i(),m(q=>[...q,{role:"assistant",content:`✅ Order executed successfully!

**${M.side} ${M.quantity} ${M.symbol}** (${M.order_type}${M.limit_price?` @ $${M.limit_price}`:""})

The order has been submitted to Interactive Brokers.`,timestamp:Date.now()}])}else a(`Order failed: ${j.error||"Unknown error"}`,"error"),m(M=>[...M,{role:"assistant",content:`❌ Order failed: ${j.error||"Unknown error"}`,timestamp:Date.now()}])}catch(O){console.error("Confirm trade error:",O),a("Failed to execute order","error")}finally{C(!1),L(null)}}},A=async()=>{if(I){try{await fetch(`${c}/mcp/cancel-proposal`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:I.token})})}catch{}m(O=>[...O,{role:"assistant",content:"🚫 Trade cancelled by user.",timestamp:Date.now()}]),L(null)}},P=async()=>{try{const j=await(await fetch(`${c}/models`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({config:t})})).json();j.models?(E(j.models),W({success:!0,message:`Fetched ${j.models.length} models`})):W({success:!1,message:j.error||"Failed to fetch models"})}catch{W({success:!1,message:"Network error fetching models"})}},N=async()=>{ae(!0),W(null);try{const j=await(await fetch(`${c}/test`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({config:t})})).json();W({success:j.success,message:j.message})}catch{W({success:!1,message:"Failed to reach AI backend server"})}finally{ae(!1)}},D=O=>{_(j=>({...j,[O]:!j[O]}))},K=()=>{const O=e.some(q=>q.type==="fdc3.order"||q.type==="fdc3.trade"),j=e.some(q=>q.type==="fdc3.instrument"),M=["What happened recently?"];return U.available&&(M.push("What are my positions?"),M.push("Show account summary")),O&&M.push("Analyze my order execution"),j&&M.push("Summarize instrument activity"),M},[Y,V]=k.useState(!1),X=()=>{V(!0),setTimeout(()=>V(!1),2e3),v(!1)};return l?$.jsxs("div",{className:`fixed bottom-6 right-6 w-[400px] ${d?"h-14":"h-[550px]"} bg-[var(--bg-primary)] border border-[var(--border-primary)] rounded-xl shadow-2xl z-50 flex flex-col transition-all duration-300 overflow-hidden`,children:[$.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-[var(--border-primary)] bg-[var(--bg-secondary)]",children:[$.jsxs("div",{className:"flex items-center gap-2 text-[var(--text-primary)] font-semibold text-sm",children:[$.jsx(KE,{size:16,className:"text-[var(--accent-color)]"}),"AI ASSISTANT",$.jsx("span",{className:`ml-1 px-1.5 py-0.5 rounded text-[8px] font-bold ${U.available?"bg-green-500/20 text-green-400":"bg-yellow-500/20 text-yellow-400"}`,title:U.available?"Connected to IBKR via MCP":"MCP not available - trading disabled",children:U.available?"IBKR":"DEMO"})]}),$.jsxs("div",{className:"flex items-center gap-3",children:[$.jsx("button",{onClick:()=>{confirm("Clear chat history and captured logs?")&&(m([]),n())},className:"text-[var(--text-secondary)] hover:text-[var(--danger-color)] transition-colors",title:"Clear History",children:$.jsx(vO,{size:16})}),$.jsx("button",{onClick:async()=>{a("Refreshing state snapshot...","info"),await i()},className:"text-[var(--text-secondary)] hover:text-[var(--accent-color)] transition-colors",title:"Sync State Now",children:$.jsx(gu,{size:16})}),$.jsx("button",{onClick:()=>v(!p),className:`text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-colors ${p?"text-[var(--accent-color)]":""}`,children:$.jsx(ox,{size:16})}),!d&&$.jsx("button",{onClick:()=>h(!0),className:"text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:$.jsx(ix,{size:16})}),d&&$.jsx("button",{onClick:()=>h(!1),className:"text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:$.jsx(Nm,{size:16,className:"-rotate-90"})}),$.jsx("button",{onClick:()=>u(!1),className:"text-[var(--text-secondary)] hover:text-[var(--text-primary)]",children:$.jsx(Si,{size:16})})]})]}),!d&&$.jsxs($.Fragment,{children:[!p&&$.jsxs("div",{className:"p-2 border-b border-[var(--border-primary)] flex gap-2 bg-[var(--bg-secondary)]",children:[$.jsxs("div",{className:"flex-1",children:[$.jsx("label",{className:"block text-[8px] text-[var(--text-secondary)] uppercase mb-0.5",children:"From"}),$.jsx("input",{type:"datetime-local",value:t.start,onChange:O=>r({start:O.target.value}),className:"w-full bg-[var(--bg-primary)] border border-[var(--border-primary)] rounded px-1.5 py-1 text-[10px] text-[var(--text-primary)] focus:outline-none focus:border-[var(--accent-color)]"})]}),$.jsxs("div",{className:"flex-1",children:[$.jsx("label",{className:"block text-[8px] text-[var(--text-secondary)] uppercase mb-0.5",children:"To"}),$.jsx("input",{type:"datetime-local",value:t.end,onChange:O=>r({end:O.target.value}),className:"w-full bg-[var(--bg-primary)] border border-[var(--border-primary)] rounded px-1.5 py-1 text-[10px] text-[var(--text-primary)] focus:outline-none focus:border-[var(--accent-color)]"})]})]}),p?$.jsxs("div",{className:"flex-grow overflow-auto p-4 space-y-4 custom-scrollbar bg-[var(--bg-primary)]",children:[$.jsx("h3",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-widest",children:"Configuration"}),$.jsxs("div",{className:"space-y-3",children:[$.jsxs("div",{children:[$.jsx("label",{className:"block text-[10px] text-[var(--text-secondary)] mb-1",children:"PROVIDER"}),$.jsxs("select",{value:t.provider,onChange:O=>r({provider:O.target.value}),className:"w-full bg-[var(--bg-secondary)] border border-[var(--border-primary)] rounded p-2 text-xs text-[var(--text-primary)]",children:[$.jsx("option",{value:"local",children:"Local LLM (LM Studio / Ollama)"}),$.jsx("option",{value:"openai",children:"OpenAI"}),$.jsx("option",{value:"gemini",children:"Google Gemini"})]})]}),$.jsxs("div",{children:[$.jsx("label",{className:"block text-[10px] text-[var(--text-secondary)] mb-1",children:"LLM BASE URL"}),$.jsx("input",{type:"text",value:t.url,onChange:O=>r({url:O.target.value}),className:"w-full bg-[var(--bg-secondary)] border border-[var(--border-primary)] rounded p-2 text-xs text-[var(--text-primary)]",placeholder:"http://localhost:8081"})]}),$.jsxs("div",{children:[$.jsxs("label",{className:"block text-[10px] text-[var(--text-secondary)] mb-1",children:["TEMPERATURE (",t.temp,")"]}),$.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:t.temp,onChange:O=>r({temp:parseFloat(O.target.value)}),className:"w-full accent-[var(--accent-color)]"})]}),$.jsxs("div",{children:[$.jsx("label",{className:"block text-[10px] text-[var(--text-secondary)] mb-1",children:"SYSTEM PROMPT"}),$.jsx("textarea",{value:t.prompt,onChange:O=>r({prompt:O.target.value}),className:"w-full bg-[var(--bg-secondary)] border border-[var(--border-primary)] rounded p-2 text-xs text-[var(--text-primary)] h-20 resize-none",placeholder:"You are a helpful assistant..."})]}),$.jsxs("div",{children:[$.jsx("label",{className:"block text-[10px] text-[var(--text-secondary)] mb-1",children:"API KEY"}),$.jsx("input",{type:"password",value:t.key,onChange:O=>r({key:O.target.value}),className:"w-full bg-[var(--bg-secondary)] border border-[var(--border-primary)] rounded p-2 text-xs text-[var(--text-primary)]",placeholder:"Sk-..."})]}),$.jsxs("div",{className:"flex gap-2",children:[$.jsxs("div",{className:"flex-grow",children:[$.jsx("label",{className:"block text-[10px] text-[var(--text-secondary)] mb-1",children:"MODEL"}),S.length>0?$.jsxs("select",{value:t.model,onChange:O=>r({model:O.target.value}),className:"w-full bg-[var(--bg-secondary)] border border-[var(--border-primary)] rounded p-2 text-xs text-[var(--text-primary)]",children:[!S.includes(t.model)&&$.jsxs("option",{value:t.model,children:[t.model," (Custom)"]}),S.map(O=>$.jsx("option",{value:O,children:O},O))]}):$.jsx("input",{type:"text",value:t.model,onChange:O=>r({model:O.target.value}),className:"w-full bg-[var(--bg-secondary)] border border-[var(--border-primary)] rounded p-2 text-xs text-[var(--text-primary)]",placeholder:"Model Name (e.g. gpt-4o)"})]}),$.jsx("button",{onClick:P,className:"mt-5 p-2 bg-[var(--bg-tertiary)] border border-[var(--border-primary)] rounded text-[10px] text-[var(--accent-color)] hover:bg-[var(--border-primary)]",children:"FETCH"})]})]}),$.jsx("div",{style:{height:"24px"},children:te&&$.jsxs("div",{className:`text-[10px] font-bold ${te.success?"text-green-400":"text-red-400"} animate-pulse`,children:[te.success?"✓":"✗"," ",te?.message]})}),$.jsx("button",{onClick:N,disabled:Q,className:"w-full py-2 bg-[#21262d] border border-[#30363d] text-blue-400 rounded text-xs font-bold hover:bg-[#30363d] disabled:opacity-50 transition-colors",children:Q?"TESTING...":"TEST CONNECTION"}),$.jsx("button",{onClick:X,className:`w-full py-2 ${Y?"bg-green-600":"bg-blue-600 hover:bg-blue-500"} text-white rounded text-xs font-bold transition-colors`,children:Y?"SAVED!":"SAVE SETTINGS"})]}):$.jsxs($.Fragment,{children:[$.jsx("div",{className:"flex gap-2 p-2 overflow-x-auto bg-[var(--bg-secondary)] border-b border-[var(--border-primary)] custom-scrollbar no-scrollbar scroll-smooth",children:K().map((O,j)=>$.jsx("button",{onClick:()=>T(O),className:"whitespace-nowrap px-3 py-1.5 bg-[var(--bg-tertiary)] border border-[var(--accent-color)]/30 rounded-full text-[10px] text-[var(--accent-color)] hover:bg-[var(--accent-color)]/10 transition-colors",children:O},j))}),$.jsxs("div",{className:"flex border-b border-[var(--border-primary)] bg-[var(--bg-secondary)]",children:[$.jsx("button",{className:`flex-1 py-2 text-xs font-bold text-center border-b-2 transition-colors ${ue==="chat"?"border-[var(--accent-color)] text-[var(--text-primary)]":"border-transparent text-[var(--text-secondary)] hover:text-[var(--text-primary)]"}`,onClick:()=>F("chat"),children:"Chat"}),$.jsxs("button",{className:`flex-1 py-2 text-xs font-bold text-center border-b-2 transition-colors ${ue==="logs"?"border-[var(--accent-color)] text-[var(--text-primary)]":"border-transparent text-[var(--text-secondary)] hover:text-[var(--text-primary)]"}`,onClick:()=>F("logs"),children:["System Logs (",e.length,")"]})]}),ue==="chat"?$.jsxs("div",{className:"flex-grow overflow-auto p-4 space-y-4 custom-scrollbar text-xs bg-[var(--bg-primary)]",children:[b.length===0&&$.jsx("div",{className:"text-center py-10 text-[var(--text-tertiary)] italic",children:"Ask the AI Analyst for help..."}),b.map((O,j)=>$.jsx("div",{className:`flex ${O.role==="user"?"justify-end":"justify-start"}`,children:$.jsxs("div",{className:`max-w-[85%] p-3 rounded-2xl flex flex-col gap-2 ${O.role==="user"?"bg-[var(--accent-color)] text-white rounded-tr-none":"bg-[var(--bg-tertiary)] text-[var(--text-primary)] rounded-tl-none border border-[var(--border-primary)]"}`,children:[$.jsx("div",{className:"whitespace-pre-wrap",children:O.content.split("Suggested Actions:")[0].trim()}),O.role==="assistant"&&O.mode&&$.jsxs("div",{className:`mt-1 flex items-center gap-1 text-[9px] font-mono ${O.mode==="mcp"?"text-purple-400":"text-cyan-400"}`,children:[$.jsx(gu,{size:8}),O.mode==="mcp"?"MCP Mode":"Native Mode"," · ",t.provider]}),O.content.includes("Suggested Actions:")&&$.jsxs("div",{className:"mt-2 pt-2 border-t border-[var(--border-primary)]/50 flex flex-col gap-1.5",children:[$.jsx("div",{className:"text-[10px] font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"Suggested Actions:"}),O.content.split("Suggested Actions:")[1].split(`
`).map(M=>M.replace(/^[-*•]\s*/,"").trim()).filter(M=>M.length>0).map((M,q)=>$.jsx("button",{onClick:()=>T(M),className:"text-left py-1.5 px-2 bg-[var(--bg-primary)] border border-[var(--border-primary)] rounded-md text-[var(--accent-color)] hover:bg-[var(--accent-color)] hover:text-white transition-colors text-[10px] font-semibold",children:M},q))]})]})},j)),y&&$.jsx("div",{className:"flex justify-start",children:$.jsx("div",{className:"bg-[var(--bg-tertiary)] text-[var(--text-secondary)] p-2 rounded-2xl rounded-tl-none text-xs italic border border-[var(--border-primary)] animate-pulse",children:"Analyst is thinking..."})}),I&&$.jsxs("div",{className:"bg-[var(--bg-tertiary)] border-2 border-yellow-500/50 rounded-xl p-4 space-y-3",children:[$.jsxs("div",{className:"flex items-center gap-2 text-yellow-400",children:[$.jsx(sx,{size:16}),$.jsx("span",{className:"font-bold text-xs uppercase",children:"Trade Confirmation Required"})]}),$.jsxs("div",{className:"bg-[var(--bg-primary)] rounded-lg p-3 space-y-2",children:[$.jsxs("div",{className:"flex justify-between items-center",children:[$.jsx("span",{className:"text-[var(--text-secondary)] text-xs",children:"Action"}),$.jsx("span",{className:`font-bold text-sm ${I.proposal.side==="BUY"?"text-green-400":"text-red-400"}`,children:I.proposal.side})]}),$.jsxs("div",{className:"flex justify-between items-center",children:[$.jsx("span",{className:"text-[var(--text-secondary)] text-xs",children:"Symbol"}),$.jsx("span",{className:"font-bold text-sm text-[var(--text-primary)]",children:I.proposal.symbol})]}),$.jsxs("div",{className:"flex justify-between items-center",children:[$.jsx("span",{className:"text-[var(--text-secondary)] text-xs",children:"Quantity"}),$.jsx("span",{className:"font-bold text-sm text-[var(--text-primary)]",children:I.proposal.quantity.toLocaleString()})]}),$.jsxs("div",{className:"flex justify-between items-center",children:[$.jsx("span",{className:"text-[var(--text-secondary)] text-xs",children:"Order Type"}),$.jsx("span",{className:"font-bold text-sm text-[var(--text-primary)]",children:I.proposal.order_type})]}),I.proposal.limit_price&&$.jsxs("div",{className:"flex justify-between items-center",children:[$.jsx("span",{className:"text-[var(--text-secondary)] text-xs",children:"Limit Price"}),$.jsxs("span",{className:"font-bold text-sm text-[var(--text-primary)]",children:["$",I.proposal.limit_price.toFixed(2)]})]})]}),$.jsxs("div",{className:"flex gap-2",children:[$.jsx("button",{onClick:z,disabled:R,className:"flex-1 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg text-xs font-bold flex items-center justify-center gap-1 disabled:opacity-50 transition-colors",children:R?"Executing...":$.jsxs($.Fragment,{children:[$.jsx(JE,{size:14}),"Confirm"]})}),$.jsxs("button",{onClick:A,disabled:R,className:"flex-1 py-2 bg-red-600/20 hover:bg-red-600/30 text-red-400 border border-red-600/50 rounded-lg text-xs font-bold flex items-center justify-center gap-1 disabled:opacity-50 transition-colors",children:[$.jsx(ax,{size:14}),"Cancel"]})]})]}),$.jsx("div",{ref:B})]}):$.jsxs("div",{className:"flex-grow overflow-auto p-4 space-y-4 custom-scrollbar text-xs bg-[var(--bg-primary)]",children:[e.length===0&&$.jsx("div",{className:"text-center py-10 text-[var(--text-tertiary)] italic",children:"No system logs captured yet."}),e.map((O,j)=>$.jsx("div",{className:"flex justify-start",children:$.jsxs("div",{className:"w-full border-l-2 border-[var(--border-primary)] pl-3 py-1 space-y-1",children:[$.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-[var(--text-secondary)] font-mono",children:[$.jsx(aO,{size:10}),O.origin,": ",O.type]}),$.jsxs("div",{onClick:()=>D(O.timestamp),className:"cursor-pointer text-[var(--text-secondary)] hover:text-[var(--accent-hover)] transition-colors flex items-center gap-1",children:[g[O.timestamp]?$.jsx(nx,{size:12}):$.jsx(Nm,{size:12}),g[O.timestamp]?"Hide JSON":"Expand JSON"]}),g[O.timestamp]&&$.jsx("pre",{className:"bg-[var(--bg-secondary)] p-2 rounded border border-[var(--border-primary)] text-[10px] text-[var(--accent-hover)] overflow-x-auto",children:JSON.stringify(O.data,null,2)})]})},j)),$.jsx("div",{ref:B})]}),$.jsx("div",{className:"p-4 border-t border-[var(--border-primary)] bg-[var(--bg-secondary)]",children:$.jsxs("div",{className:"flex gap-2 bg-[var(--bg-primary)] border border-[var(--border-primary)] rounded-lg p-1.5 focus-within:border-[var(--accent-color)] transition-colors",children:[$.jsx("input",{type:"text",className:"flex-grow bg-transparent border-none px-2 py-1 text-xs text-[var(--text-primary)] focus:outline-none",placeholder:"Ask AI Analyst about the market context...",value:w,onChange:O=>f(O.target.value),onKeyDown:O=>O.key==="Enter"&&T()}),$.jsx("button",{disabled:y,className:"bg-[var(--accent-color)] hover:opacity-90 text-white rounded-md w-8 h-8 flex items-center justify-center transition-colors disabled:opacity-50",onClick:()=>T(),children:$.jsx(gu,{size:14,fill:"currentColor"})})]})})]})]})]}):$.jsx("button",{onClick:()=>u(!0),className:"fixed bottom-6 right-6 h-14 w-14 bg-blue-600 hover:bg-blue-500 text-white rounded-full shadow-lg flex items-center justify-center transition-transform hover:scale-105 z-50 animate-bounce-in",children:$.jsx(cO,{size:24})})},YZ=()=>{const{toasts:e,removeToast:t}=Dt();return e.length===0?null:$.jsx("div",{className:"fixed bottom-6 left-6 z-[9999] flex flex-col gap-3 max-w-sm w-full",children:e.map(r=>$.jsxs("div",{className:`
                        flex items-center gap-3 p-4 rounded-lg shadow-2xl border backdrop-blur-md animate-slide-in-left
                        ${r.type==="success"?"bg-[var(--success-color)]/20 border-[var(--success-color)]/50 text-[var(--success-color)]":""}
                        ${r.type==="info"?"bg-[var(--accent-color)]/20 border-[var(--accent-color)]/50 text-[var(--accent-color)]":""}
                        ${r.type==="warning"?"bg-[var(--warning-color)]/20 border-[var(--warning-color)]/50 text-[var(--warning-color)]":""}
                        ${r.type==="error"?"bg-[var(--danger-color)]/20 border-[var(--danger-color)]/50 text-[var(--danger-color)]":""}
                    `,children:[$.jsxs("div",{className:"flex-shrink-0",children:[r.type==="success"&&$.jsx(QE,{size:20,className:"text-green-400"}),r.type==="info"&&$.jsx(oO,{size:20,className:"text-blue-400"}),r.type==="warning"&&$.jsx(sx,{size:20,className:"text-yellow-400"}),r.type==="error"&&$.jsx(ax,{size:20,className:"text-red-400"})]}),$.jsx("div",{className:"flex-grow text-sm font-medium",children:r.message}),$.jsx("button",{onClick:()=>t(r.id),className:"flex-shrink-0 hover:text-white transition-colors",children:$.jsx(Si,{size:16})}),$.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-current opacity-30 animate-shrink-width",style:{animationDuration:"5000ms"}})]},r.id))})},JZ=({onUpdate:e,autoConnect:t=!0})=>{const[r,n]=k.useState({connected:!1,isDelayed:!1,error:null}),a=k.useRef(null),i=k.useRef(!0),o=k.useRef(null),s=k.useCallback(()=>{o.current&&(clearTimeout(o.current),o.current=null),a.current&&(a.current.close(),a.current=null)},[]),c=k.useCallback(async()=>{if(a.current){console.log("[IBKR] Already connected");return}n(u=>({...u,error:null})),console.log("[IBKR] Starting connection via proxy...");try{console.log("[IBKR] Initializing server connection...");const u=await fetch("/ibkr/connect",{method:"POST",headers:{"Content-Type":"application/json"}});if(!u.ok)throw new Error(`Server connect failed: ${u.status}`);const d=await u.json();if(console.log("[IBKR] Server connection result:",d),!d.success)throw new Error(d.error||"Connection failed");console.log("[IBKR] Opening SSE stream...");const h=new EventSource("/ibkr/stream");a.current=h,h.onopen=()=>{console.log("[IBKR] SSE stream opened")},h.onmessage=p=>{try{const v=JSON.parse(p.data);v.type==="connected"?(console.log("[IBKR] Connection status:",v.status),n(w=>({...w,connected:v.status}))):v.type==="marketData"?(v.isDelayed&&!r.isDelayed&&n(w=>({...w,isDelayed:!0})),e(v.symbol,{last:v.last,bid:v.bid,ask:v.ask,chg:v.chg,isDelayed:v.isDelayed})):v.type==="error"&&(console.error("[IBKR] Server error:",v.message),n(w=>({...w,error:v.message})))}catch(v){console.error("[IBKR] Failed to parse SSE message:",v)}},h.onerror=p=>{console.error("[IBKR] SSE error:",p),n(v=>({...v,connected:!1,error:"SSE connection error"})),s(),i.current&&t&&(console.log("[IBKR] Will reconnect in 5 seconds..."),o.current=setTimeout(()=>{i.current&&c()},5e3))}}catch(u){console.error("[IBKR] Connection error:",u),n(d=>({...d,error:u instanceof Error?u.message:"Connection failed",connected:!1})),s(),i.current&&t&&(console.log("[IBKR] Will retry connection in 5 seconds..."),o.current=setTimeout(()=>{i.current&&c()},5e3))}},[s,e,t,r.isDelayed]),l=k.useCallback((u,d)=>{console.log(`[IBKR] Subscribe request for ${u} (handled by server)`)},[]);return k.useEffect(()=>(i.current=!0,t&&c(),()=>{i.current=!1,s()}),[t,c,s]),{connected:r.connected,isDelayed:r.isDelayed,error:r.error,connect:c,subscribe:l}},XZ=[{i:"watchlist",x:0,y:0,w:3,h:6,minW:2,minH:1},{i:"chart",x:0,y:6,w:3,h:5,minW:2,minH:1},{i:"rssNews",x:0,y:11,w:3,h:6,minW:2,minH:1},{i:"accountBalance",x:3,y:0,w:6,h:5,minW:4,minH:1},{i:"positions",x:3,y:5,w:6,h:5,minW:4,minH:1},{i:"blotter",x:3,y:10,w:6,h:5,minW:4,minH:1},{i:"tradesBlotter",x:3,y:15,w:6,h:5,minW:4,minH:1},{i:"orderEntry",x:9,y:0,w:3,h:7,minW:2,minH:1},{i:"quickTrade",x:9,y:7,w:3,h:6,minW:2,minH:1},{i:"economicCalendar",x:9,y:13,w:3,h:6,minW:2,minH:1}],QZ={watchlist:6,chart:5,rssNews:6,accountBalance:5,positions:5,blotter:5,tradesBlotter:5,orderEntry:7,quickTrade:6,economicCalendar:6},e8=()=>{const[e,t]=k.useState(XZ),[r,n]=k.useState(!1),[a,i]=k.useState(!1),{broadcastSnapshot:o,theme:s,toggleTheme:c,updateInstrumentFromIBKR:l,connectionStatus:u,fetchStatus:d,mcpMode:h,toggleMcpMode:p}=Dt(),v=k.useCallback((_,S)=>{l(_,{last:S.last,bid:S.bid,ask:S.ask,chg:S.chg})},[l]),{isDelayed:w}=JZ({onUpdate:v,autoConnect:!0}),f=[{id:"watchlist",name:"Watchlist"},{id:"chart",name:"Price Chart"},{id:"rssNews",name:"RSS News Feed"},{id:"accountBalance",name:"IBKR Account Balance"},{id:"positions",name:"Positions"},{id:"blotter",name:"Order Blotter"},{id:"tradesBlotter",name:"Done Trades"},{id:"orderEntry",name:"Order Entry"},{id:"quickTrade",name:"Quick Trade"},{id:"economicCalendar",name:"Economic Calendar"}],b=()=>{const _=localStorage.getItem("visibleWidgets");return _?new Set(JSON.parse(_)):new Set(f.map(S=>S.id))},[m,y]=k.useState(b);k.useEffect(()=>{localStorage.setItem("visibleWidgets",JSON.stringify(Array.from(m)))},[m]);const x=_=>{y(S=>{const E=new Set(S);return E.has(_)?E.delete(_):E.add(_),E})},g=(_,S)=>{t(E=>E.map(I=>I.i===_?{...I,h:S?1:QZ[_]||I.h}:I))};return k.useEffect(()=>{const _=()=>{n(window.innerWidth<768)};return _(),window.addEventListener("resize",_),()=>window.removeEventListener("resize",_)},[]),k.useEffect(()=>{const _=setTimeout(()=>{o()},2e3);return()=>clearTimeout(_)},[o]),k.useEffect(()=>{d();const _=setInterval(d,5e3);return()=>clearInterval(_)},[d]),$.jsxs("div",{className:`h-screen w-screen p-2 flex flex-col gap-2 md:overflow-hidden transition-colors duration-300 ${s==="light"?"light-theme bg-white":"bg-[#030508]"}`,children:[$.jsxs("header",{className:"flex items-center justify-between px-2",children:[$.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[$.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[$.jsx("span",{className:"text-[#2f81f7] font-bold text-sm md:text-lg tracking-wider",children:"INTEROP."}),$.jsx("span",{className:`${s==="light"?"text-zinc-900":"text-white"} font-bold text-sm md:text-lg tracking-wider`,children:"TRADER"})]}),$.jsxs("button",{onClick:c,className:`p-2 md:p-1.5 rounded-lg border transition-all flex items-center gap-1 md:gap-2 text-[10px] font-bold min-h-[44px] md:min-h-0
                            ${s==="light"?"bg-zinc-100 border-zinc-200 text-zinc-900 hover:bg-zinc-200":"bg-zinc-800 border-zinc-700 text-zinc-300 hover:bg-zinc-700"}`,title:`Switch to ${s==="light"?"Dark":"Light"} Mode`,children:[$.jsx("span",{className:"md:hidden",children:s==="light"?"🌙":"☀️"}),$.jsx("span",{className:"hidden md:inline",children:s==="light"?"🌙 DARK MODE":"☀️ LIGHT MODE"})]}),$.jsx("button",{onClick:p,className:`p-2 md:p-1.5 rounded-lg border transition-all flex items-center gap-1 md:gap-2 text-[10px] font-bold min-h-[44px] md:min-h-0
                            ${h?"bg-blue-600 border-blue-500 text-white hover:bg-blue-500 shadow-[0_0_10px_rgba(37,99,235,0.3)]":s==="light"?"bg-zinc-100 border-zinc-200 text-zinc-900 hover:bg-zinc-200":"bg-zinc-800 border-zinc-700 text-zinc-300 hover:bg-zinc-700"}`,title:`Switch to ${h?"Native":"MCP"} Mode`,children:$.jsx("span",{className:"hidden md:inline",children:h?"⚡ MCP MODE":"🔌 NATIVE API"})}),$.jsxs("button",{onClick:()=>i(!0),className:`p-2 md:p-1.5 rounded-lg border transition-all flex items-center gap-1 md:gap-2 text-[10px] font-bold min-h-[44px] md:min-h-0
                            ${s==="light"?"bg-zinc-100 border-zinc-200 text-zinc-900 hover:bg-zinc-200":"bg-zinc-800 border-zinc-700 text-zinc-300 hover:bg-zinc-700"}`,title:"Widget Settings",children:[$.jsx(ox,{size:16}),$.jsx("span",{className:"hidden md:inline",children:"WIDGETS"})]})]}),$.jsxs("div",{className:"text-[10px] text-zinc-500 font-mono gap-2 md:gap-4 hidden md:flex",children:[$.jsxs("span",{className:"flex items-center gap-1.5 border-r border-zinc-800 pr-3 mr-1",children:[$.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.6)]"}),"FDC3 READY"]}),$.jsxs("span",{className:"flex items-center gap-1.5 border-r border-zinc-800 pr-3 mr-1",children:[$.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${u.marketData?w?"bg-yellow-500 shadow-[0_0_8px_rgba(234,179,8,0.6)]":"bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.6)]":"bg-red-500 shadow-[0_0_8px_rgba(239,68,68,0.6)]"}`}),"MARKET DATA: ",u.marketData?w?"DELAYED":"LIVE":"OFFLINE"]}),$.jsxs("span",{className:"flex items-center gap-1.5",children:[$.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${u.gateway?"bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.6)]":"bg-red-500 shadow-[0_0_8px_rgba(239,68,68,0.6)]"}`}),"IBKR GATEWAY: ",u.gateway?"ACTIVE":"OFFLINE"]})]})]}),$.jsx("div",{className:"flex-grow min-h-0",children:$.jsxs(WE,{layout:e.filter(_=>m.has(_.i)),onLayoutChange:t,isDraggable:!0,isResizable:!r,children:[m.has("watchlist")&&$.jsx(Pr,{widgetId:"watchlist",title:"WATCHLIST",onCollapse:g,children:$.jsx(CO,{})},"watchlist"),m.has("chart")&&$.jsx(Pr,{widgetId:"chart",title:"PRICE CHART",onCollapse:g,children:$.jsx(BZ,{})},"chart"),m.has("accountBalance")&&$.jsx(Pr,{widgetId:"accountBalance",title:"IBKR ACCOUNT BALANCE",className:"glass-panel",onCollapse:g,children:$.jsx(d2,{})},"accountBalance"),m.has("positions")&&$.jsx(Pr,{widgetId:"positions",title:"POSITIONS",onCollapse:g,children:$.jsx(u2,{})},"positions"),m.has("blotter")&&$.jsx(Pr,{widgetId:"blotter",title:"ORDER BLOTTER",onCollapse:g,children:$.jsx(l2,{})},"blotter"),m.has("tradesBlotter")&&$.jsx(Pr,{widgetId:"tradesBlotter",title:"DONE TRADES",onCollapse:g,children:$.jsx(WZ,{})},"tradesBlotter"),m.has("orderEntry")&&$.jsx(Pr,{widgetId:"orderEntry",title:"ORDER ENTRY",onCollapse:g,children:$.jsx(_j,{})},"orderEntry"),m.has("quickTrade")&&$.jsx(Pr,{widgetId:"quickTrade",title:"QUICK TRADE",onCollapse:g,children:$.jsx(KZ,{})},"quickTrade"),m.has("rssNews")&&$.jsx(Pr,{widgetId:"rssNews",title:"RSS NEWS FEED",onCollapse:g,children:$.jsx(HZ,{})},"rssNews"),m.has("economicCalendar")&&$.jsx(Pr,{widgetId:"economicCalendar",title:"ECONOMIC CALENDAR",onCollapse:g,children:$.jsx(ZZ,{})},"economicCalendar")]})}),$.jsx(GZ,{}),$.jsx(YZ,{}),a&&$.jsx(SO,{availableWidgets:f,visibleWidgets:m,onToggleWidget:x,onClose:()=>i(!1)})]})};HE.createRoot(document.getElementById("root")).render($.jsx(hl.StrictMode,{children:$.jsx(e8,{})}));
